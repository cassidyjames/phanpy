import{at as ce,Z as It,e as o,d as H,q as yt,A as N,_ as Te,y as q,N as Os,au as gc,m as it,W as Re,h as jr,av as vc,aw as vo,ax as yc,ay as Fs,Y as Bs,k as F,M as $e,l as gr,a0 as Wt,I as yo,G as Lt,s as z,az as bc,aA as Li,w as wc,aB as _c,aC as Ur,g as qr,F as vr,u as Kt,a as Ge,a3 as Tc,K as Sc,aD as kc,aE as Pi,T as x,aF as zs,aG as Ec,aH as Ac,p as Co,z as bo,J as Hs,aI as Cc,aJ as Bt,aK as xc,aL as Mc,aM as Jn,c as Ve,S as Qt,b as ye,aN as Ic,aO as Lc,a4 as Ks,aP as Wr,aQ as Pc,t as Dc,x as Rc}from"./pwa-viewport-D2fQRWhD.js";import{ICONS as $c}from"./ICONS-HWvZmmNl.js";const js=["shift","alt","meta","mod","ctrl","control"],Nc={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function De(t){return(Nc[t.trim()]||t.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Us(t){return js.includes(t)}function Wo(t,e=","){return t.toLowerCase().split(e)}function Go(t,e="+",n=">",r=!1,s){let a=[],i=!1;t=t.trim(),t.includes(n)?(i=!0,a=t.toLocaleLowerCase().split(n).map(h=>De(h))):a=t.toLocaleLowerCase().split(e).map(h=>De(h));const c={alt:a.includes("alt"),ctrl:a.includes("ctrl")||a.includes("control"),shift:a.includes("shift"),meta:a.includes("meta"),mod:a.includes("mod"),useKey:r},l=a.filter(h=>!js.includes(h));return{...c,keys:l,description:s,isSequence:i,hotkey:t}}typeof document<"u"&&(document.addEventListener("keydown",t=>{t.code!==void 0&&qs([De(t.code)])}),document.addEventListener("keyup",t=>{t.code!==void 0&&Ws([De(t.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{be.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{be.clear()},0)}));const be=new Set;function Gr(t){return Array.isArray(t)}function Oc(t,e=","){return(Gr(t)?t:t.split(e)).every(n=>be.has(n.trim().toLowerCase()))}function qs(t){const e=Array.isArray(t)?t:[t];be.has("meta")&&be.forEach(n=>!Us(n)&&be.delete(n.toLowerCase())),e.forEach(n=>be.add(n.toLowerCase()))}function Ws(t){const e=Array.isArray(t)?t:[t];t==="meta"?be.clear():e.forEach(n=>be.delete(n.toLowerCase()))}function Fc(t,e,n){(typeof n=="function"&&n(t,e)||n===!0)&&t.preventDefault()}function Bc(t,e,n){return typeof n=="function"?n(t,e):n===!0||n===void 0}const zc=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function Hc(t){return Gs(t,zc)}function Gs(t,e=!1){const{target:n,composed:r}=t;let s,a;return Kc(n)&&r?(s=t.composedPath()[0]&&t.composedPath()[0].tagName,a=t.composedPath()[0]&&t.composedPath()[0].role):(s=n&&n.tagName,a=n&&n.role),Gr(e)?!!(s&&e&&e.some(i=>i.toLowerCase()===s.toLowerCase()||i===a)):!!(s&&e&&e)}function Kc(t){return!!t.tagName&&!t.tagName.startsWith("-")&&t.tagName.includes("-")}function jc(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(n=>e.includes(n))||t.includes("*"):!0}const Uc=(t,e,n=!1)=>{const{alt:r,meta:s,mod:a,shift:i,ctrl:c,keys:l,useKey:h}=e,{code:d,key:u,ctrlKey:f,metaKey:p,shiftKey:m,altKey:g}=t,v=De(d);if(h&&l?.length===1&&l.includes(u))return!0;if(!l?.includes(v)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(v))return!1;if(!n){if(r!==g&&v!=="alt"||i!==m&&v!=="shift")return!1;if(a){if(!p&&!f)return!1}else if(s!==p&&v!=="meta"&&v!=="os"||c!==f&&v!=="ctrl"&&v!=="control")return!1}return l&&l.length===1&&l.includes(v)?!0:l?Oc(l):!l},qc=ce(void 0),Wc=()=>It(qc);function Zs(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce((n,r)=>n&&Zs(t[r],e[r]),!0):t===e}const Gc=ce({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),Zc=()=>It(Gc);function Vc(t){const e=N(void 0);return Zs(e.current,t)||(e.current=t),e.current}const Di=t=>{t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},Yc=typeof window<"u"?Te:q;function Ke(t,e,n,r){const s=N(null),a=N(!1),i=Array.isArray(n)?Array.isArray(r)?void 0:r:n,c=Gr(t)?t.join(i?.delimiter):t,l=Array.isArray(n)?n:Array.isArray(r)?r:void 0,h=yt(e,l??[]),d=N(h);l?d.current=h:d.current=e;const u=Vc(i),{activeScopes:f}=Zc(),p=Wc();return Yc(()=>{if(u?.enabled===!1||!jc(f,u?.scopes))return;let m=[],g;const v=(E,_=!1)=>{if(!(Hc(E)&&!Gs(E,u?.enableOnFormTags))){if(s.current!==null){const S=s.current.getRootNode();if((S instanceof Document||S instanceof ShadowRoot)&&S.activeElement!==s.current&&!s.current.contains(S.activeElement)){Di(E);return}}E.target?.isContentEditable&&!u?.enableOnContentEditable||Wo(c,u?.delimiter).forEach(S=>{if(S.includes(u?.splitKey??"+")&&S.includes(u?.sequenceSplitKey??">")){console.warn(`Hotkey ${S} contains both ${u?.splitKey??"+"} and ${u?.sequenceSplitKey??">"} which is not supported.`);return}const A=Go(S,u?.splitKey,u?.sequenceSplitKey,u?.useKey,u?.description);if(A.isSequence){g=setTimeout(()=>{m=[]},u?.sequenceTimeoutMs??1e3);const w=A.useKey?E.key:De(E.code);if(Us(w.toLowerCase()))return;m.push(w);const I=A.keys?.[m.length-1];if(w!==I){m=[],g&&clearTimeout(g);return}m.length===A.keys?.length&&(d.current(E,A),g&&clearTimeout(g),m=[])}else if(Uc(E,A,u?.ignoreModifiers)||A.keys?.includes("*")){if(u?.ignoreEventWhen?.(E)||_&&a.current)return;if(Fc(E,A,u?.preventDefault),!Bc(E,A,u?.enabled)){Di(E);return}d.current(E,A),_||(a.current=!0)}})}},b=E=>{E.code!==void 0&&(qs(De(E.code)),(u?.keydown===void 0&&u?.keyup!==!0||u?.keydown)&&v(E))},T=E=>{E.code!==void 0&&(Ws(De(E.code)),a.current=!1,u?.keyup&&v(E,!0))},k=s.current||i?.document||document;return k.addEventListener("keyup",T,i?.eventListenerOptions),k.addEventListener("keydown",b,i?.eventListenerOptions),p&&Wo(c,u?.delimiter).forEach(E=>p.addHotkey(Go(E,u?.splitKey,u?.sequenceSplitKey,u?.useKey,u?.description))),()=>{k.removeEventListener("keyup",T,i?.eventListenerOptions),k.removeEventListener("keydown",b,i?.eventListenerOptions),p&&Wo(c,u?.delimiter).forEach(E=>p.removeHotkey(Go(E,u?.splitKey,u?.sequenceSplitKey,u?.useKey,u?.description))),m=[],g&&clearTimeout(g)}},[c,u,f]),s}var po={exports:{}};var Xc=po.exports,Ri;function Qc(){return Ri||(Ri=1,function(t){(function(e,n){t.exports?t.exports=n():e.Toastify=n()})(Xc,function(e){var n=function(i){return new n.lib.init(i)},r="1.12.0";n.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},n.lib=n.prototype={toastify:r,constructor:n,init:function(i){return i||(i={}),this.options={},this.toastElement=null,this.options.text=i.text||n.defaults.text,this.options.node=i.node||n.defaults.node,this.options.duration=i.duration===0?0:i.duration||n.defaults.duration,this.options.selector=i.selector||n.defaults.selector,this.options.callback=i.callback||n.defaults.callback,this.options.destination=i.destination||n.defaults.destination,this.options.newWindow=i.newWindow||n.defaults.newWindow,this.options.close=i.close||n.defaults.close,this.options.gravity=i.gravity==="bottom"?"toastify-bottom":n.defaults.gravity,this.options.positionLeft=i.positionLeft||n.defaults.positionLeft,this.options.position=i.position||n.defaults.position,this.options.backgroundColor=i.backgroundColor||n.defaults.backgroundColor,this.options.avatar=i.avatar||n.defaults.avatar,this.options.className=i.className||n.defaults.className,this.options.stopOnFocus=i.stopOnFocus===void 0?n.defaults.stopOnFocus:i.stopOnFocus,this.options.onClick=i.onClick||n.defaults.onClick,this.options.offset=i.offset||n.defaults.offset,this.options.escapeMarkup=i.escapeMarkup!==void 0?i.escapeMarkup:n.defaults.escapeMarkup,this.options.ariaLive=i.ariaLive||n.defaults.ariaLive,this.options.style=i.style||n.defaults.style,i.backgroundColor&&(this.options.style.background=i.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var i=document.createElement("div");i.className="toastify on "+this.options.className,this.options.position?i.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(i.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):i.className+=" toastify-right",i.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var c in this.options.style)i.style[c]=this.options.style[c];if(this.options.ariaLive&&i.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)i.appendChild(this.options.node);else if(this.options.escapeMarkup?i.innerText=this.options.text:i.innerHTML=this.options.text,this.options.avatar!==""){var l=document.createElement("img");l.src=this.options.avatar,l.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?i.appendChild(l):i.insertAdjacentElement("afterbegin",l)}if(this.options.close===!0){var h=document.createElement("button");h.type="button",h.setAttribute("aria-label","Close"),h.className="toast-close",h.innerHTML="&#10006;",h.addEventListener("click",(function(v){v.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var d=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&d>360?i.insertAdjacentElement("afterbegin",h):i.appendChild(h)}if(this.options.stopOnFocus&&this.options.duration>0){var u=this;i.addEventListener("mouseover",function(v){window.clearTimeout(i.timeOutValue)}),i.addEventListener("mouseleave",function(){i.timeOutValue=window.setTimeout(function(){u.removeElement(i)},u.options.duration)})}if(typeof this.options.destination<"u"&&i.addEventListener("click",(function(v){v.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&i.addEventListener("click",(function(v){v.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var f=s("x",this.options),p=s("y",this.options),m=this.options.position=="left"?f:"-"+f,g=this.options.gravity=="toastify-top"?p:"-"+p;i.style.transform="translate("+m+","+g+")"}return i},showToast:function(){this.toastElement=this.buildToast();var i;if(typeof this.options.selector=="string"?i=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?i=this.options.selector:i=document.body,!i)throw"Root element is not defined";var c=n.defaults.oldestFirst?i.firstChild:i.lastChild;return i.insertBefore(this.toastElement,c),n.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(i){i.className=i.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),i.parentNode&&i.parentNode.removeChild(i),this.options.callback.call(i),n.reposition()}).bind(this),400)}},n.reposition=function(){for(var i={top:15,bottom:15},c={top:15,bottom:15},l={top:15,bottom:15},h=document.getElementsByClassName("toastify"),d,u=0;u<h.length;u++){a(h[u],"toastify-top")===!0?d="toastify-top":d="toastify-bottom";var f=h[u].offsetHeight;d=d.substr(9,d.length-1);var p=15,m=window.innerWidth>0?window.innerWidth:screen.width;m<=360?(h[u].style[d]=l[d]+"px",l[d]+=f+p):a(h[u],"toastify-left")===!0?(h[u].style[d]=i[d]+"px",i[d]+=f+p):(h[u].style[d]=c[d]+"px",c[d]+=f+p)}return this};function s(i,c){return c.offset[i]?isNaN(c.offset[i])?c.offset[i]:c.offset[i]+"px":"0px"}function a(i,c){return!i||typeof c!="string"?!1:!!(i.className&&i.className.trim().split(/\s+/gi).indexOf(c)>-1)}return n.lib.init.prototype=n.lib,n})}(po)),po.exports}var Jc=Qc();const tl=Os(Jc);window._showToast=ht;function ht(t){typeof t=="string"&&(t={text:t});const{onClick:e,delay:n,...r}=t,s=tl({className:`${e||t.destination?"shiny-pill":""}`,gravity:"bottom",position:"center",...r,onClick:()=>{e?.(s)}});return n?setTimeout(()=>{s.showToast()},n):s.showToast(),s}function My(t,e,n,r){const s=N(t);q(()=>{s.current=t},[t,n]),q(()=>{!r||e===null||e===!1||s.current()},[r]),q(()=>{if(e===null||e===!1)return;const i=setInterval(()=>s.current(),e);return()=>clearInterval(i)},[e])}const Zr=t=>!!t&&t[0]==="o",yr=gc,zn=(t,e)=>t===!0||!!(t&&t[e]),qt=(t,e)=>typeof t=="function"?t(e):t,el="_szhsinMenu",nl=t=>t[el];const hn=(t,e)=>(e&&Object.keys(e).forEach(n=>{const r=t[n],s=e[n];typeof s=="function"&&r?t[n]=(...a)=>{s(...a),r(...a)}:t[n]=s}),t),ol=t=>{if(typeof t!="string")return{top:0,right:0,bottom:0,left:0};const e=t.trim().split(/\s+/,4).map(parseFloat),n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?n:e[1];return{top:n,right:r,bottom:isNaN(e[2])?n:e[2],left:isNaN(e[3])?r:e[3]}},Zo=t=>{for(;t;){if(t=t.parentNode,!t||t===document.body||!t.parentNode)return;const{overflow:e,overflowX:n,overflowY:r}=getComputedStyle(t);if(/auto|scroll|overlay|hidden/.test(e+r+n))return t}};function xo(t,e){return{"aria-disabled":t||void 0,tabIndex:e?0:-1}}function $i(t,e){for(let n=0;n<t.length;n++)if(t[n]===e)return n;return-1}const pe=({block:t,element:e,modifiers:n,className:r})=>it(()=>{const s=e?`${t}__${e}`:t;let a=s;n&&Object.keys(n).forEach(c=>{const l=n[c];l&&(a+=` ${s}--${l===!0?c:`${c}-${l}`}`)});let i=typeof r=="function"?r(n):r;return typeof i=="string"&&(i=i.trim(),i&&(a+=` ${i}`)),a},[t,e,n,r]),rl="szh-menu-container",fe="szh-menu";const il="arrow",Vr="item",sl="divider",al="header",cl="group",ll="submenu";const Vs=ce(),Yr=ce({}),wo=ce({}),Xr=ce({}),ul=ce({}),Mo=ce({}),zt=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),At=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Hn=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),rn=Object.freeze({FIRST:"first",LAST:"last"}),dl=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),Ni="absolute",Qr="none",Jr="menuitem",br={preventScroll:!0};const hl=({className:t,containerRef:e,containerProps:n,children:r,isOpen:s,theming:a,transition:i,onClose:c})=>{const l=zn(i,"item");return o("div",{...hn({onKeyDown:({key:u})=>{switch(u){case zt.ESC:qt(c,{key:u,reason:Hn.CANCEL});break}},onBlur:u=>{s&&!u.currentTarget.contains(u.relatedTarget)&&qt(c,{reason:Hn.BLUR})}},n),className:pe({block:rl,modifiers:it(()=>({theme:a,itemTransition:l}),[a,l]),className:t}),style:{position:"absolute",...n?.style},ref:e,children:r})},fl=()=>{let t,e=0;return{toggle:n=>{n?e++:e--,e=Math.max(e,0)},on:(n,r,s)=>{e?t||(t=setTimeout(()=>{t=0,r()},n)):s?.()},off:()=>{t&&(clearTimeout(t),t=0)}}},pl=t=>{const[e,n]=H(),s=N({items:[],hoverIndex:-1,sorted:!1}).current,a=yt((c,l)=>{const{items:h}=s;if(!c)s.items=[];else if(l)h.push(c);else{const d=h.indexOf(c);d>-1&&(h.splice(d,1),c.contains(document.activeElement)&&(t.current.focus(br),n()))}s.hoverIndex=-1,s.sorted=!1},[s,t]),i=yt((c,l,h)=>{const{items:d,hoverIndex:u}=s,f=()=>{if(s.sorted)return;const g=t.current.querySelectorAll(".szh-menu__item");d.sort((v,b)=>$i(g,v)-$i(g,b)),s.sorted=!0};let p=-1,m;switch(c){case At.RESET:break;case At.SET:m=l;break;case At.UNSET:m=g=>g===l?void 0:g;break;case At.FIRST:f(),p=0,m=d[p];break;case At.LAST:f(),p=d.length-1,m=d[p];break;case At.SET_INDEX:f(),p=h,m=d[p];break;case At.INCREASE:f(),p=u,p<0&&(p=d.indexOf(l)),p++,p>=d.length&&(p=0),m=d[p];break;case At.DECREASE:f(),p=u,p<0&&(p=d.indexOf(l)),p--,p<0&&(p=d.length-1),m=d[p];break;default:}m||(p=-1),n(m),s.hoverIndex=p},[t,s]);return{hoverItem:e,dispatch:i,updateItems:a}},Oi=(t,e)=>Math.round(t)===e?t:e,Ys=t=>{const e=t.getBoundingClientRect();return e.width=Oi(e.width,t.offsetWidth),e.height=Oi(e.height,t.offsetHeight),e},ml=(t,e,n,r)=>{const s=Ys(e),a=t.getBoundingClientRect(),i=n===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:n.getBoundingClientRect(),c=ol(r),l=m=>m+a.left-i.left-c.left,h=m=>m+a.left+s.width-i.right+c.right,d=m=>m+a.top-i.top-c.top,u=m=>m+a.top+s.height-i.bottom+c.bottom;return{menuRect:s,containerRect:a,getLeftOverflow:l,getRightOverflow:h,getTopOverflow:d,getBottomOverflow:u,confineHorizontally:m=>{let g=l(m);if(g<0)m-=g;else{const v=h(m);v>0&&(m-=v,g=l(m),g<0&&(m-=g))}return m},confineVertically:m=>{let g=d(m);if(g<0)m-=g;else{const v=u(m);v>0&&(m-=v,g=d(m),g<0&&(m-=g))}return m}}},gl=({arrowRef:t,menuY:e,anchorRect:n,containerRect:r,menuRect:s})=>{let a=n.top-r.top-e+n.height/2;const i=t.current.offsetHeight*1.25;return a=Math.max(i,a),a=Math.min(a,s.height-i),a},vl=({anchorRect:t,containerRect:e,menuRect:n,placeLeftorRightY:r,placeLeftX:s,placeRightX:a,getLeftOverflow:i,getRightOverflow:c,confineHorizontally:l,confineVertically:h,arrowRef:d,arrow:u,direction:f,position:p})=>{let m=f,g=r;p!=="initial"&&(g=h(g),p==="anchor"&&(g=Math.min(g,t.bottom-e.top),g=Math.max(g,t.top-e.top-n.height)));let v,b,T;return m==="left"?(v=s,p!=="initial"&&(b=i(v),b<0&&(T=c(a),(T<=0||-b>T)&&(v=a,m="right")))):(v=a,p!=="initial"&&(T=c(v),T>0&&(b=i(s),(b>=0||-b<T)&&(v=s,m="left")))),p==="auto"&&(v=l(v)),{arrowY:u?gl({menuY:g,arrowRef:d,anchorRect:t,containerRect:e,menuRect:n}):void 0,x:v,y:g,computedDirection:m}},yl=({arrowRef:t,menuX:e,anchorRect:n,containerRect:r,menuRect:s})=>{let a=n.left-r.left-e+n.width/2;const i=t.current.offsetWidth*1.25;return a=Math.max(i,a),a=Math.min(a,s.width-i),a},bl=({anchorRect:t,containerRect:e,menuRect:n,placeToporBottomX:r,placeTopY:s,placeBottomY:a,getTopOverflow:i,getBottomOverflow:c,confineHorizontally:l,confineVertically:h,arrowRef:d,arrow:u,direction:f,position:p})=>{let m=f==="top"?"top":"bottom",g=r;p!=="initial"&&(g=l(g),p==="anchor"&&(g=Math.min(g,t.right-e.left),g=Math.max(g,t.left-e.left-n.width)));let v,b,T;return m==="top"?(v=s,p!=="initial"&&(b=i(v),b<0&&(T=c(a),(T<=0||-b>T)&&(v=a,m="bottom")))):(v=a,p!=="initial"&&(T=c(v),T>0&&(b=i(s),(b>=0||-b<T)&&(v=s,m="top")))),p==="auto"&&(v=h(v)),{arrowX:u?yl({menuX:g,arrowRef:d,anchorRect:t,containerRect:e,menuRect:n}):void 0,x:g,y:v,computedDirection:m}},wl=({arrow:t,align:e,direction:n,gap:r,shift:s,position:a,anchorRect:i,arrowRef:c,positionHelpers:l})=>{const{menuRect:h,containerRect:d}=l,u=n==="left"||n==="right";let f=u?r:s,p=u?s:r;if(t){const _=c.current;u?f+=_.offsetWidth:p+=_.offsetHeight}const m=i.left-d.left-h.width-f,g=i.right-d.left+f,v=i.top-d.top-h.height-p,b=i.bottom-d.top+p;let T,k;e==="end"?(T=i.right-d.left-h.width,k=i.bottom-d.top-h.height):e==="center"?(T=i.left-d.left-(h.width-i.width)/2,k=i.top-d.top-(h.height-i.height)/2):(T=i.left-d.left,k=i.top-d.top),T+=f,k+=p;const E={...l,anchorRect:i,placeLeftX:m,placeRightX:g,placeLeftorRightY:k,placeTopY:v,placeBottomY:b,placeToporBottomX:T,arrowRef:c,arrow:t,direction:n,position:a};switch(n){case"left":case"right":return vl(E);case"top":case"bottom":default:return bl(E)}},sn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Te:q;function Fi(t,e){typeof t=="function"?t(e):t.current=e}const fn=(t,e)=>it(()=>t?e?n=>{Fi(t,n),Fi(e,n)}:t:e,[t,e]),Bi=-9999,Xs=({ariaLabel:t,menuClassName:e,menuStyle:n,arrow:r,arrowProps:s={},anchorPoint:a,anchorRef:i,containerRef:c,containerProps:l,externalRef:h,parentScrollingRef:d,align:u="start",direction:f="bottom",position:p="auto",overflow:m="visible",setDownOverflow:g,repositionFlag:v,captureFocus:b=!0,state:T,endTransition:k,isDisabled:E,menuItemFocus:_,gap:S=0,shift:A=0,children:w,onClose:I,focusProps:P,...L})=>{const[C,$]=H({x:Bi,y:Bi}),[R,W]=H({}),[B,Y]=H(),[et,ct]=H(f),[nt]=H(fl),[Z,st]=jr(X=>X+1,1),{transition:J,boundingBoxRef:St,boundingBoxPadding:Pt,rootMenuRef:$t,rootAnchorRef:dt,scrollNodesRef:le,reposition:ne,viewScroll:oe,submenuCloseDelay:K}=It(Mo),{submenuCtx:ft,reposSubmenu:Dt=v}=It(wo),Ct=N(),Ft=N(),jt=N(!1),{hoverItem:tt,dispatch:ot,updateItems:lt}=pl(Ct),gt=Zr(T),Gt=zn(J,"open"),bt=zn(J,"close"),O=le.current,V=X=>{switch(X.key){case zt.HOME:ot(At.FIRST);break;case zt.END:ot(At.LAST);break;case zt.UP:ot(At.DECREASE,tt);break;case zt.DOWN:ot(At.INCREASE,tt);break;case zt.SPACE:X.target&&X.target.className.indexOf(fe)!==-1&&X.preventDefault();return;default:return}X.preventDefault(),X.stopPropagation()},U=()=>{T==="closing"&&Y(),qt(k)},wt=X=>{X.stopPropagation(),nt.on(K,()=>{ot(At.RESET),Ct.current.focus(br)})},Mt=X=>{X.target===X.currentTarget&&nt.off()},pt=yt(X=>{const kt=Ct.current,Nt=c.current;if(!kt||!Nt)return;const Ot=i?i.current?.getBoundingClientRect():a?{left:a.x,right:a.x,top:a.y,bottom:a.y,width:0,height:0}:null;if(!Ot)return;O.menu||(O.menu=(St?St.current:Zo($t.current))||window);const Tt=ml(Nt,kt,O.menu,Pt);let{arrowX:Oe,arrowY:pn,x:Lo,y:mt,computedDirection:mn}=wl({arrow:r,align:u,direction:f,gap:S,shift:A,position:p,anchorRect:Ot,arrowRef:Ft,positionHelpers:Tt});const{menuRect:me}=Tt,ie=me.height;if(!X&&m!=="visible"){const{getTopOverflow:Po,getBottomOverflow:te}=Tt;let se,Vt;const Xe=te(mt);if(Xe>0)se=ie-Xe,Vt=Xe;else{const Ae=Po(mt);Ae<0&&(se=ie+Ae,Vt=0-Ae,se>=0&&(mt-=Ae))}se>=0&&Y({height:se,overflowAmt:Vt})}r&&W({x:Oe,y:pn}),$({x:Lo,y:mt}),ct(mn)},[r,u,Pt,f,S,A,p,m,a,i,c,St,$t,O]);sn(()=>{gt&&(pt(),jt.current&&st()),jt.current=gt},[gt,pt,Dt]),sn(()=>{B&&!g&&(Ct.current.scrollTop=0)},[B,g]),sn(()=>lt,[lt]),q(()=>{let{menu:X}=O;if(!gt||!X)return;if(X=X.addEventListener?X:window,!O.anchors){O.anchors=[];let Tt=Zo(dt&&dt.current);for(;Tt&&Tt!==X;)O.anchors.push(Tt),Tt=Zo(Tt)}let kt=oe;if(O.anchors.length&&kt==="initial"&&(kt="auto"),kt==="initial")return;const Nt=()=>{kt==="auto"?yr(()=>pt(!0)):qt(I,{reason:Hn.SCROLL})},Ot=O.anchors.concat(oe!=="initial"?X:[]);return Ot.forEach(Tt=>Tt.addEventListener("scroll",Nt)),()=>Ot.forEach(Tt=>Tt.removeEventListener("scroll",Nt))},[dt,O,gt,I,oe,pt]);const xt=!!B&&B.overflowAmt>0;q(()=>{if(xt||!gt||!d)return;const X=()=>yr(pt),kt=d.current;return kt.addEventListener("scroll",X),()=>kt.removeEventListener("scroll",X)},[gt,xt,d,pt]),q(()=>{if(!gt||typeof ResizeObserver!="function"||ne==="initial")return;const X=[],kt=new ResizeObserver(Tt=>Tt.forEach(({target:Oe})=>{X.indexOf(Oe)<0?X.push(Oe):vc(()=>{pt(),st()})})),Nt={box:"border-box"};kt.observe(Ct.current,Nt);const Ot=i?.current;return Ot&&kt.observe(Ot,Nt),()=>kt.disconnect()},[gt,ne,i,pt]),q(()=>{if(!gt){ot(At.RESET),bt||Y();return}const{position:X,alwaysUpdate:kt}=_||{},Nt=()=>{X===rn.FIRST?ot(At.FIRST):X===rn.LAST?ot(At.LAST):X>=-1&&ot(At.SET_INDEX,void 0,X)};if(kt)Nt();else if(b){const Ot=setTimeout(()=>{const Tt=Ct.current;Tt&&!Tt.contains(document.activeElement)&&(Tt.focus(br),Nt())},Gt?170:100);return()=>clearTimeout(Ot)}},[gt,Gt,bt,b,_,ot]);const Rt=it(()=>({isParentOpen:gt,submenuCtx:nt,dispatch:ot,updateItems:lt}),[gt,nt,ot,lt]);let vt,Zt;B&&(g?Zt=B.overflowAmt:vt=B.height);const G=it(()=>({reposSubmenu:Z,submenuCtx:nt,overflow:m,overflowAmt:Zt,parentMenuRef:Ct,parentDir:et}),[Z,nt,m,Zt,et]),_t=vt>=0?{maxHeight:vt,overflow:m}:void 0,Ht=it(()=>({state:T,align:u,dir:et}),[T,u,et]),re=it(()=>({dir:et}),[et]),Jt=pe({block:fe,element:il,modifiers:re,className:s.className}),Ee=o("ul",{role:"menu","aria-label":t,...xo(E),...hn({onPointerEnter:ft?.off,onPointerMove:wt,onPointerLeave:Mt,onKeyDown:V,onAnimationEnd:U},L),ref:fn(h,Ct),className:pe({block:fe,modifiers:Ht,className:e}),style:{...n,..._t,margin:0,display:T==="closed"?"none":void 0,position:Ni,left:C.x,top:C.y},children:[r&&o("li",{"aria-hidden":!0,...s,className:Jt,style:{display:"block",position:Ni,left:R.x,top:R.y,...s.style},ref:Ft}),o(wo.Provider,{value:G,children:o(Yr.Provider,{value:Rt,children:o(Vs.Provider,{value:tt,children:qt(w,Ht)})})})]});return l?o(hl,{...l,isOpen:gt,children:Ee}):Ee},Qs=Re(function({"aria-label":e,className:n,containerProps:r,initialMounted:s,unmountOnClose:a,transition:i,transitionTimeout:c,boundingBoxRef:l,boundingBoxPadding:h,reposition:d="auto",submenuOpenDelay:u=300,submenuCloseDelay:f=150,viewScroll:p="initial",portal:m,theming:g,onItemClick:v,...b},T){const k=N(null),E=N({}),{anchorRef:_,state:S,onClose:A}=b,w=it(()=>({initialMounted:s,unmountOnClose:a,transition:i,transitionTimeout:c,boundingBoxRef:l,boundingBoxPadding:h,rootMenuRef:k,rootAnchorRef:_,scrollNodesRef:E,reposition:d,viewScroll:p,submenuOpenDelay:u,submenuCloseDelay:f}),[s,a,i,c,_,l,h,d,p,u,f]),I=it(()=>({handleClick(L,C){L.stopPropagation||qt(v,L);let $=L.keepOpen;$===void 0&&($=C&&L.key===zt.SPACE),$||qt(A,{value:L.value,key:L.key,reason:Hn.CLICK})},handleClose(L){qt(A,{key:L,reason:Hn.CLICK})}}),[v,A]);if(!S)return null;const P=o(Mo.Provider,{value:w,children:o(Xr.Provider,{value:I,children:o(Xs,{...b,ariaLabel:e||"Menu",externalRef:T,containerRef:k,containerProps:{className:n,containerRef:k,containerProps:r,theming:g,transition:i,onClose:A}})})});return m===!0&&typeof document<"u"?vo(P,document.body):m?m.target?vo(P,m.target):m.stablePosition?null:P:P}),wr=0,_r=1,_o=2,To=3,So=4,_l=5,Js=6,Tl=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],ta=t=>({_s:t,status:Tl[t],isEnter:t<To,isMounted:t!==Js,isResolved:t===_o||t>So}),Tr=t=>t?Js:_l,Sl=(t,e)=>{switch(t){case _r:case wr:return _o;case So:case To:return Tr(e)}},kl=t=>typeof t=="object"?[t.enter,t.exit]:[t,t],El=(t,e)=>setTimeout(()=>{isNaN(document.body.offsetTop)||t(e+1)},0),zi=(t,e,n,r,s)=>{clearTimeout(r.current);const a=ta(t);e(a),n.current=a,s&&s({current:a})},Al=({enter:t=!0,exit:e=!0,preEnter:n,preExit:r,timeout:s,initialEntered:a,mountOnEnter:i,unmountOnExit:c,onStateChange:l}={})=>{const[h,d]=H(()=>ta(a?_o:Tr(i))),u=N(h),f=N(),[p,m]=kl(s),g=yt(()=>{const b=Sl(u.current._s,c);b&&zi(b,d,u,f,l)},[l,c]),v=yt(b=>{const T=E=>{switch(zi(E,d,u,f,l),E){case _r:p>=0&&(f.current=setTimeout(g,p));break;case So:m>=0&&(f.current=setTimeout(g,m));break;case wr:case To:f.current=El(T,E);break}},k=u.current.isEnter;typeof b!="boolean"&&(b=!k),b?!k&&T(t?n?wr:_r:_o):k&&T(e?r?To:So:Tr(c))},[g,l,t,e,n,r,p,m,c]);return[h,v,g]};const Cl=({initialOpen:t,initialMounted:e,unmountOnClose:n,transition:r,transitionTimeout:s=500,onMenuChange:a}={})=>{const i=zn(r,"open"),c=zn(r,"close"),[{status:l},h,d]=Al({initialEntered:t,mountOnEnter:!e,unmountOnExit:n,timeout:s,enter:i,exit:c,onStateChange:yt(({current:{isEnter:u,isResolved:f}})=>{!a||u&&i&&f||!u&&c&&f||a({open:u})},[a,i,c])});return[{state:dl[l],endTransition:d},h]},ea=t=>{const[e,n]=Cl(t),[r,s]=H(),a=(i,c)=>{s({position:i,alwaysUpdate:c}),n(!0)};return[{menuItemFocus:r,...e},n,a]},xl=(t,e)=>{const[n]=H({});return{onMouseDown:()=>{n.v=t&&t!=="closed"},onClick:r=>n.v?n.v=!1:e(!0,r)}},Ml=parseInt(yc)<19,Il=Re(function({"aria-label":e,captureFocus:n,initialOpen:r,menuButton:s,instanceRef:a,onMenuChange:i,...c},l){const[h,d,u]=ea({...c,onMenuChange:i}),{state:f}=h,p=Zr(f),m=N(null),g=xl(f,(_,S)=>u(S.detail?void 0:rn.FIRST)),v=yt(_=>{d(!1),_.key&&m.current.focus()},[d]),b=_=>{switch(_.key){case zt.UP:u(rn.LAST);break;case zt.DOWN:u(rn.FIRST);break;default:return}_.preventDefault()},T=qt(s,{open:p});if(!T||!T.type)throw new Error("Menu requires a menuButton prop.");const k={...hn({onKeyDown:b,...g},T.props),ref:fn(Ml?T.ref:T.props.ref,m)};nl(T.type)==="MenuButton"&&(k.isOpen=p);const E=Fs(T,k);return Bs(a,()=>({openMenu:u,closeMenu:()=>d(!1)})),o(F,{children:[E,o(Qs,{...c,...h,"aria-label":e||(typeof T.props.children=="string"?T.props.children:"Menu"),anchorRef:m,ref:l,onClose:v})]})}),ti=(t,e)=>{const n=$e(e),r=Re((s,a)=>{const i=N(null);return o(n,{...s,itemRef:i,externalRef:a,isHovering:It(Vs)===i.current})});return r.displayName=`WithHovering(${t})`,r},na=t=>{const[e,n]=H(!1);return q(()=>{!t&&n(!1)},[t]),[e,()=>!e&&n(!0),()=>n(!1)]},oa=(t,e,n)=>{sn(()=>{if(t)return;const r=e.current;return n(r,!0),()=>{n(r)}},[t,e,n])},Ll=ti("SubMenu",function({"aria-label":e,className:n,disabled:r,direction:s,label:a,openTrigger:i,onMenuChange:c,isHovering:l,instanceRef:h,itemRef:d,captureFocus:u,repositionFlag:f,itemProps:p={},portal:m=!1,...g}){const v=It(Mo),{rootMenuRef:b,submenuOpenDelay:T,submenuCloseDelay:k}=v,{parentMenuRef:E,parentDir:_,overflow:S}=It(wo),{isParentOpen:A,submenuCtx:w,dispatch:I,updateItems:P}=It(Yr),L=m||S!=="visible",[C,$,R]=ea({...v,onMenuChange:c}),[W,B,Y]=na(l),{state:et}=C,ct=!!r,nt=Zr(et),Z=N(null),[st]=H({v:0}),J=()=>{w.off(),st.v&&(clearTimeout(st.v),st.v=0)},St=(...tt)=>{J(),Pt(),!ct&&R(...tt)},Pt=()=>!l&&!ct&&I(At.SET,d.current),$t=tt=>{Pt(),i||(st.v=setTimeout(()=>yr(St),Math.max(tt,0)))},dt=tt=>{ct||(tt.stopPropagation(),B(),!(st.v||nt)&&w.on(k,()=>$t(T-k),()=>$t(T)))},le=()=>{Y(),J(),nt||I(At.UNSET,d.current)},ne=tt=>{if(l)switch(tt.key){case zt.ENTER:tt.preventDefault();case zt.SPACE:case zt.RIGHT:i!=="none"&&St(rn.FIRST)}},oe=tt=>{let ot=!1;switch(tt.key){case zt.LEFT:nt&&(d.current.focus(),$(!1),ot=!0);break;case zt.RIGHT:nt||(ot=!0);break}ot&&(tt.preventDefault(),tt.stopPropagation())};oa(ct,d,P),q(()=>w.toggle(nt),[w,nt]),q(()=>()=>{clearTimeout(st.v),w.toggle(!1)},[st,w]),q(()=>{l&&A?d.current.focus():$(!1)},[l,A,$,d]),Bs(h,()=>({openMenu:(...tt)=>{A&&St(...tt)},closeMenu:()=>{nt&&(d.current.focus(),$(!1))}}));const K=it(()=>({open:nt,hover:W||l,disabled:ct,submenu:!0}),[nt,l,ct,W]),{ref:ft,className:Dt,...Ct}=p,Ft=hn({onPointerEnter:w.off,onPointerMove:dt,onPointerLeave:le,onKeyDown:ne,onClick:()=>i!=="none"&&St()},Ct),jt=()=>{const tt=o(Xs,{...g,...C,ariaLabel:e||(typeof a=="string"?a:"Submenu"),anchorRef:d,containerRef:L?b:Z,direction:s||(_==="right"||_==="left"?_:"right"),parentScrollingRef:L&&E,isDisabled:ct}),ot=b.current;return L&&ot?vo(tt,ot):tt};return o("li",{className:pe({block:fe,element:ll,className:n}),style:{position:"relative"},role:Qr,ref:Z,onKeyDown:oe,children:[o("div",{role:Jr,"aria-haspopup":!0,"aria-expanded":nt,...xo(ct,l),...Ft,ref:fn(ft,d),className:pe({block:fe,element:Vr,modifiers:K,className:Dt}),children:it(()=>qt(a,K),[a,K])}),et&&jt()]})}),ra=(t,e,n,r)=>{const[s,a,i]=na(n),{submenuCloseDelay:c}=It(Mo),{isParentOpen:l,submenuCtx:h,dispatch:d,updateItems:u}=It(Yr),f=()=>{!n&&!r&&d(At.SET,t.current)},p=()=>{!r&&d(At.UNSET,t.current)},m=b=>{n&&!b.currentTarget.contains(b.relatedTarget)&&p()},g=b=>{r||(b.stopPropagation(),a(),h.on(c,f,f))},v=(b,T)=>{i(),h.off(),!T&&p()};return oa(r,t,u),q(()=>{n&&l&&e.current&&e.current.focus()},[e,n,l]),{mouseOver:s,setHover:f,onBlur:m,onPointerMove:g,onPointerLeave:v}},ut=ti("MenuItem",function({className:e,value:n,href:r,type:s,checked:a,disabled:i,children:c,onClick:l,isHovering:h,itemRef:d,externalRef:u,...f}){const p=!!i,{mouseOver:m,setHover:g,...v}=ra(d,d,h,p),b=It(Xr),T=It(ul),k=s==="radio",E=s==="checkbox",_=!!r&&!p&&!k&&!E,S=k?T.value===n:E?!!a:!1,A=C=>{if(p){C.stopPropagation(),C.preventDefault();return}const $={value:n,syntheticEvent:C};C.key!==void 0&&($.key=C.key),E&&($.checked=!S),k&&($.name=T.name),qt(l,$),k&&qt(T.onRadioChange,$),b.handleClick($,E||k)},w=C=>{if(h)switch(C.key){case zt.ENTER:C.preventDefault();case zt.SPACE:_?d.current.click():A(C)}},I=it(()=>({type:s,disabled:p,hover:m||h,checked:S,anchor:_}),[s,p,m,h,S,_]),P=hn({...v,onPointerDown:g,onKeyDown:w,onClick:A},f),L={role:k?"menuitemradio":E?"menuitemcheckbox":Jr,"aria-checked":k||E?S:void 0,...xo(p,h),...P,ref:fn(u,d),className:pe({block:fe,element:Vr,modifiers:I,className:e}),children:it(()=>qt(c,I),[c,I])};return _?o("li",{role:Qr,children:o("a",{href:r,...L})}):o("li",{...L})}),Pl=ti("FocusableItem",function({className:e,disabled:n,children:r,isHovering:s,itemRef:a,externalRef:i,...c}){const l=!!n,h=N(null),{mouseOver:d,setHover:u,onPointerLeave:f,...p}=ra(a,h,s,l),{handleClose:m}=It(Xr),g=it(()=>({disabled:l,hover:d||s,focusable:!0}),[l,s,d]),v=it(()=>qt(r,{...g,ref:h,closeMenu:m}),[r,g,m]),b=hn({...p,onPointerLeave:T=>f(T,!0),onFocus:u},c);return o("li",{role:Jr,...xo(l),...b,ref:fn(i,a),className:pe({block:fe,element:Vr,modifiers:g,className:e}),children:v})}),Sn=$e(Re(function({className:e,...n},r){return o("li",{role:"separator",...n,ref:r,className:pe({block:fe,element:sl,className:e})})})),Iy=$e(Re(function({className:e,...n},r){return o("li",{role:Qr,...n,ref:r,className:pe({block:fe,element:al,className:e})})})),Ly=Re(function({className:e,style:n,takeOverflow:r,...s},a){const i=N(null),[c,l]=H(),{overflow:h,overflowAmt:d}=It(wo);return sn(()=>{let u;r&&d>=0&&(u=Ys(i.current).height-d,u<0&&(u=0)),l(u>=0?{maxHeight:u,overflow:h}:void 0)},[r,h,d]),sn(()=>{c&&(i.current.scrollTop=0)},[c]),o("div",{...s,ref:fn(a,i),className:pe({block:fe,element:cl,className:e}),style:{...n,...c}})});var Dn=(t=>(t.Mouse="mouse",t.Touch="touch",t.Pointer="pointer",t))(Dn||{}),Rn=(t=>(t.CancelledByMovement="cancelled-by-movement",t.CancelledByRelease="cancelled-by-release",t.CancelledOutsideElement="cancelled-outside-element",t))(Rn||{});const Dl=["mousedown","mousemove","mouseup","mouseleave","mouseout"],Rl=["touchstart","touchmove","touchend","touchcancel"],$l=["pointerdown","pointermove","pointerup","pointerleave","pointerout"];function Nl(t){return typeof t=="object"&&t!==null&&"pageX"in t&&typeof t.pageX=="number"&&"pageY"in t&&typeof t.pageY=="number"}function Ol(t){var e;return Dl.includes((e=t?.nativeEvent)==null?void 0:e.type)}function ia(t){var e;return Rl.includes((e=t?.nativeEvent)==null?void 0:e.type)||"touches"in t}function Fl(t){const{nativeEvent:e}=t;return e?$l.includes(e?.type)||"pointerId"in e:!1}function Vo(t){return Ol(t)||ia(t)||Fl(t)}function Hi(t){var e;const n=ia(t)?(e=t?.touches)==null?void 0:e[0]:t;return Nl(n)?{x:n.pageX,y:n.pageY}:null}function Bl(t){return{target:t.target,currentTarget:t.currentTarget,nativeEvent:t,persist:()=>{}}}function sa(t,{threshold:e=400,captureEvent:n=!1,detect:r=Dn.Pointer,cancelOnMovement:s=!1,cancelOutsideElement:a=!0,filterEvents:i,onStart:c,onMove:l,onFinish:h,onCancel:d}={}){const u=N(!1),f=N(!1),p=N(),m=N(),g=N(t),v=N(null),b=yt(_=>S=>{f.current||Vo(S)&&(i!==void 0&&!i(S)||(n&&S.persist(),c?.(S,{context:_}),v.current=Hi(S),f.current=!0,p.current=S.currentTarget,m.current=setTimeout(()=>{g.current&&(g.current(S,{context:_}),u.current=!0)},e)))},[n,i,c,e]),T=yt(_=>(S,A)=>{Vo(S)&&f.current&&(v.current=null,n&&S.persist(),u.current?h?.(S,{context:_}):f.current&&d?.(S,{context:_,reason:A??Rn.CancelledByRelease}),u.current=!1,f.current=!1,m.current!==void 0&&clearTimeout(m.current))},[n,h,d]),k=yt(_=>S=>{if(Vo(S)&&(l?.(S,{context:_}),s!==!1&&v.current)){const A=Hi(S);if(A){const w=s===!0?25:s,I={x:Math.abs(A.x-v.current.x),y:Math.abs(A.y-v.current.y)};(I.x>w||I.y>w)&&T(_)(S,Rn.CancelledByMovement)}}},[T,s,l]),E=yt(_=>{if(t===null)return{};switch(r){case Dn.Mouse:{const S={onMouseDown:b(_),onMouseMove:k(_),onMouseUp:T(_)};return a&&(S.onMouseLeave=A=>{T(_)(A,Rn.CancelledOutsideElement)}),S}case Dn.Touch:return{onTouchStart:b(_),onTouchMove:k(_),onTouchEnd:T(_)};case Dn.Pointer:{const S={onPointerDown:b(_),onPointerMove:k(_),onPointerUp:T(_)};return a&&(S.onPointerLeave=A=>T(_)(A,Rn.CancelledOutsideElement)),S}}},[t,T,a,r,k,b]);return q(()=>{function _(S){const A=Bl(S);T()(A)}return window.addEventListener("mouseup",_),window.addEventListener("touchend",_),window.addEventListener("pointerup",_),()=>{window.removeEventListener("mouseup",_),window.removeEventListener("touchend",_),window.removeEventListener("pointerup",_)}},[T]),q(()=>()=>{m.current!==void 0&&clearTimeout(m.current)},[]),q(()=>{g.current=t},[t]),E}const Ki="dtflocale";function zl(){try{const t=gr.session.get(Ki);if(t)return t;const e=new Intl.DateTimeFormat().resolvedOptions().locale;return gr.session.set(Ki,e),e}catch{return null}}const aa=Wt(zl);function Hl(){const t=[...navigator.languages],e=aa();return e&&!t.includes(e)&&t.unshift(e),t}let ji=Hl();const Yo=Wt((t,e={})=>{try{return new Intl.Locale(t,e)}catch{if(!t)return null;const[r,...s]=t.split("-",4),a=s.pop()||null,i={language:r,region:a,...e,toString:()=>{const c=i.language,l=s.length>0?`-${s.join("-")}-`:"-",h=i.region;return h?`${c}${l}${h}`:c}};return i}}),Kl=(t,e)=>{const n=e,r=Yo(t);let s=null;for(const c of ji){const l=Yo(c)?.region;if(l){s=l;break}}const a=s&&r&&r.region!==s?Yo(r.language,{...r,region:s})?.toString():null,i=yo([a,t,t?.replace(/-[a-z]+$/i,"")],ji,t);try{return new Intl.DateTimeFormat(i,n)}catch{return new Intl.DateTimeFormat(void 0,n)}},Sr=Wt(Kl);function Kn(t,e){t instanceof Date||(t=new Date(t));const{hideTime:n,formatOpts:r,forceOpts:s}=e||{},a=new Date().getFullYear(),i=s||{year:t.getFullYear()===a?void 0:"numeric",month:"short",day:"numeric",hour:n?void 0:"numeric",minute:n?void 0:"numeric",...r};return Sr(Lt.locale,i).format(t)}function jl(t){const e=URL.parse("./compose/",window.location),{width:n,height:r}=window.screen,s=Math.max(0,(n-600)/2),a=Math.max(0,(r-450)/2),i=Math.min(n,600),c=Math.min(r,450),l=t?.uid||Math.random(),h=window.open(e,"compose"+l,`width=${i},height=${c},left=${s},top=${a}`);return h?h.__COMPOSE__=t:alert(Lt._({id:"4S86wI"})),h}const Ul=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function ql(){if(Ul){const t=document.createElement("input");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.opacity="0",document.body.appendChild(t),t.focus(),setTimeout(()=>{document.body.removeChild(t)},500)}}const Wl=document.documentElement,to=getComputedStyle(Wl),Gl=8;let ca=[0,0,0,0];function la(){const t=to.getPropertyValue("--sai-top"),e=to.getPropertyValue("--sai-right"),n=to.getPropertyValue("--sai-bottom"),r=to.getPropertyValue("--sai-left");ca=[Math.max(0,parseInt(t,10)),Math.max(0,parseInt(e,10)),Math.max(0,parseInt(n,10)),Math.max(0,parseInt(r,10))]}requestAnimationFrame(la);function ua(t=[]){return ca.map((n,r)=>(n||Gl)+(t[r]||0)).join(" ")}CSS.supports("top: env(safe-area-inset-top)")&&window.addEventListener("resize",la,{passive:!0});const Ui=5e3;function Ie(t){if(t||(t=!0),z.showCompose){z.composerState.minimized?ht({duration:Ui,text:Lt._({id:"/4fHR1"})}):ht({duration:Ui,text:Lt._({id:"vvl08N"})});return}ql(),z.showCompose=t}const qi=document.createElement("template"),Zl=/<\/p>/g,Vl=/<\/li>/g,Yl=/[\r\n]{3,}/g;function ei(t,e){if(!t)return"";const{preProcess:n,truncateLinks:r=!0}=e||{};qi.innerHTML=t.replace(Zl,`</p>

`).replace(Vl,`</li>
`);const s=qi.content,a=s.querySelectorAll("br");for(let c=0;c<a.length;c++)a[c].replaceWith(`
`);if(n?.(s),r){const c=s.querySelectorAll(".invisible");for(let h=0;h<c.length;h++)c[h].remove();const l=s.querySelectorAll(".ellipsis");for(let h=0;h<l.length;h++)l[h].append("â€¦")}let i="";for(let c=0;c<s.childNodes.length;c++){const l=s.childNodes[c];i+=l.innerText||l.textContent||""}return i.replace(Yl,`

`).trim()}function ni(t){const{spoilerText:e,content:n,poll:r,mediaAttachments:s,quote:a}=t;let i="";const c=!!a?.quotedStatus?.id;if(e?.trim()?i+=e:i+=ei(n,{preProcess:l=>{if(c){const h=l.querySelector(".quote-inline");h&&h.remove()}}}),i=i.trim(),r?.options?.length&&(i+=`

ðŸ“Š:
${r.options.map(l=>`${r.multiple?"â–ªï¸":"â€¢"} ${l.title}`).join(`
`)}`),s?.length&&(i+=" "+s.map(l=>({image:"ðŸ–¼ï¸",gifv:"ðŸŽžï¸",video:"ðŸ“¹",audio:"ðŸŽµ",unknown:""})[l.type]||"").join("")),c){const l=ni(a.quotedStatus);i+=`

â
${l}
âž`}return i}const Xl={xs:8,s:12,m:16,l:20,xl:24,xxl:32},Ql=/[^a-zA-Z0-9]/g;function Jl({icon:t,size:e="m",alt:n,title:r,class:s="",style:a={}}){r=r||n;const{loadIcon:i,isIconLoaded:c}=bc();if(!t)return null;const l=Xl[e];let h=$c[t];if(!h)return null;let d,u,f=!1;Array.isArray(h)?[h,d,u]=h:typeof h=="object"&&({rotate:d,flip:u,rtl:f}=h,h=h.module);const p=r?.replace(Ql,"-"),m=`${Li}-title-${t}-${p}`;q(()=>{c(t)||i(t)},[t]);const g=c(t);return o("span",{class:`icon ${s} ${f?"rtl-flip":""}`,style:{width:`${l}px`,height:`${l}px`,...a},"data-icon":t,title:g?void 0:r||void 0,children:g&&o("svg",{width:l,height:l,role:r?"img":"presentation","aria-labelledby":m,style:{transform:`${d?`rotate(${d})`:""} ${u?"scaleX(-1)":""}`},children:[r?o("title",{id:m,children:r}):null,o("use",{href:`#${Li}-${t}`})]})})}const M=$e(Jl,(t,e)=>t.icon===e.icon&&t.title===e.title&&t.alt===e.alt),Ze=Re((t,e)=>{let n;try{n=wc()}catch{}let r=(location.hash||"").replace(/^#/,"").trim();r===""&&(r="/");const{to:s,...a}=t;if(r&&r!=="/"&&r.includes("?")){const c=URL.parse(r,location.origin);if(c?.searchParams?.size){const l=Array.from(c.searchParams.entries()).map(([h,d])=>`${h}=${encodeURIComponent(d)}`).join("&");r=c.pathname+"?"+l}}const i=r===s||decodeURIComponent(r)===s;return o("a",{ref:e,href:`#${s}`,...a,class:`${t.class||""} ${i?"is-active":""}`,onClick:c=>{c.currentTarget?.parentNode?.closest("a")&&c.stopPropagation(),n&&(z.prevLocation=n),t.onClick?.(c)}})});function Wi(t){const{className:e,disabled:n,...r}=t;return o(Pl,{className:e,disabled:n,children:({ref:s,closeMenu:a})=>o(Ze,{...r,ref:s,onClick:({detail:i})=>a(i===0?"Enter":void 0)})})}const da=Wt(t=>new Intl.RelativeTimeFormat(t||void 0));function Gi(t){if(t instanceof Date)return!isNaN(t.getTime());{const e=new Date(t);return!isNaN(e.getTime())}}const cn=60,ln=60*cn,je=24*ln,tu=t=>{const e=da(Lt.locale),n=(t.getTime()-Date.now())/1e3,r=Math.abs(n);return r<cn?e.format(Math.floor(n),"second"):r<ln?e.format(Math.floor(n/cn),"minute"):r<je?e.format(Math.floor(n/ln),"hour"):r<30*je?e.format(Math.floor(n/je),"day"):r<365*je?e.format(Math.floor(n/je/30),"month"):e.format(Math.floor(n/je/365),"year")},eu=t=>{const e=(Date.now()-t.getTime())/1e3;return e<cn?Lt._({id:"NnRCUm",values:{0:e<1?1:Math.floor(e)}}):e<ln?Lt._({id:"ZSWUwq",values:{0:Math.floor(e/cn)}}):Lt._({id:"NSSJsj",values:{0:Math.floor(e/ln)}})};function we({datetime:t,format:e}){if(!t)return null;const[n,r]=jr(l=>l+1,0),s=it(()=>new Date(t),[t]),[a,i,c]=it(()=>{if(!Gi(s))return[""+(typeof t=="string"?t:""),"",""];let l;if(e==="micro"){const h=new Date;(h.getTime()-s.getTime())/1e3/je<=1?l=eu(s):h.getFullYear()===s.getFullYear()?l=Sr(Lt.locale,{year:void 0,month:"short",day:"numeric"}).format(s):l=Sr(Lt.locale,{dateStyle:"short"}).format(s)}return l||(l=tu(s)),[l,s.toISOString(),s.toLocaleString()]},[s,e,n]);return q(()=>{if(!Gi(s))return;let l,h;function d(){h=requestAnimationFrame(()=>{r(),u()})}function u(){const f=(Date.now()-s.getTime())/1e3;f<cn?l=setTimeout(d,1e4):f<ln&&(l=setTimeout(d,6e4))}return u(),()=>{clearTimeout(l),cancelAnimationFrame(h)}},[]),o("time",{datetime:i,title:c,children:a})}function kr(t){const e=N();return o(Ll,{...t,instanceRef:e,itemProps:{onPointerMove:n=>{n.pointerType==="touch"&&e.current?.openMenu?.()},onPointerLeave:n=>{n.pointerType==="touch"&&e.current?.openMenu?.()},...t.itemProps}})}function nu(t,e=[]){!t||typeof t!="function"||q(()=>{const n=new CloseWatcher;return n.addEventListener("close",t),()=>{n.destroy()}},e)}const ou=window.CloseWatcher?nu:()=>{},ru=document.getElementById("modal-container");function Zi(){return getComputedStyle(document.documentElement).getPropertyValue("--backdrop-theme-color")}function $n({children:t,onClose:e,onClick:n,class:r,minimized:s}){if(!t)return null;const a=N();q(()=>{let u=setTimeout(()=>{const f=a.current?.querySelector('[tabindex="-1"]');f&&f.focus()},100);return()=>clearTimeout(u)},[]);const i=window.CloseWatcher,c=Ke("esc",()=>{setTimeout(()=>{e?.()},0)},{enabled:!i&&!!e,keydown:!1,keyup:!0,useKey:!0,ignoreEventWhen:u=>u.metaKey||u.ctrlKey||u.altKey||u.shiftKey},[e]);ou(e,[e]),q(()=>{const u=document.querySelectorAll(".deck-container");if(s){const f=u[u.length-1];f&&f.tabIndex===-1&&f.focus()}else t?u.forEach(f=>{f.setAttribute("inert","")}):u.forEach(f=>{f.removeAttribute("inert")});return()=>{u.forEach(f=>{f.removeAttribute("inert")})}},[t,s]);const l=N(),h=N();Te(()=>{if(t&&!s)if(gr.local.get("theme")){const f=Zi();l.current=document.querySelector('meta[name="theme-color"][data-theme-setting="manual"]'),l.current&&(h.current=l.current.content,l.current.content=f)}else{const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",p=Zi();l.current=document.querySelector(`meta[name="theme-color"][media*="${f}"]`),l.current&&(h.current=l.current.content,l.current.content=p)}else l.current&&h.current&&(l.current.content=h.current);return()=>{l.current&&h.current&&(l.current.content=h.current)}},[t,s]);const d=o("div",{ref:u=>{a.current=u,c.current=u?.querySelector?.('[tabindex="-1"]')||u},className:r,onClick:u=>{n?.(u),u.target===u.currentTarget&&e?.(u)},tabIndex:s?0:"-1",inert:s,onFocus:u=>{try{if(u.target===u.currentTarget){const f=a.current?.querySelector('[tabindex="-1"]'),p=!!f&&getComputedStyle(f)?.pointerEvents!=="none";f&&p&&f.focus()}}catch{}},children:t});return vo(d,ru)}const Vi={s:16,m:20,l:24,xl:32,xxl:50,xxxl:64},kn={},Nn=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas"),mo=Nn.getContext("2d",{willReadFrequently:!0});mo.imageSmoothingEnabled=!1;const iu=/missing\.png$/;function su({url:t,staticUrl:e,size:n,alt:r="",squircle:s,...a}){n=Vi[n]||n||Vi.m;const i=N(),c=iu.test(t);return o("picture",{ref:i,class:`avatar ${s?"squircle":""} ${kn[t]?"has-alpha":""}`,style:{width:n,height:n},title:r,...a,children:[!!e&&o("source",{srcset:e,media:"(prefers-reduced-motion: reduce)"}),!!t&&o("img",{src:t,width:n,height:n,alt:r,loading:"lazy",decoding:"async",fetchPriority:"low",crossOrigin:kn[t]===void 0&&!c?"anonymous":void 0,onError:l=>{l.target.crossOrigin&&(l.target.crossOrigin=null,l.target.src=t)},onLoad:l=>{i.current&&(i.current.dataset.loaded=!0),kn[t]===void 0&&(c||setTimeout(()=>{try{const{width:h,height:d}=l.target;Nn.width!==h&&(Nn.width=h),Nn.height!==d&&(Nn.height=d),mo.drawImage(l.target,0,0);const u=mo.getImageData(0,0,h,d),f=u.data.filter((p,m)=>m%4===3&&p<=128).length/(u.data.length/4)>.1;f&&i.current.classList.add("has-alpha"),kn[t]=f,mo.clearRect(0,0,h,d)}catch{kn[t]=!1}},1))}})]})}const _e=Wt(su);let Er=!1;const au=new MutationObserver(t=>{t.forEach(e=>{if(e.type==="attributes"){const{dir:n}=e.target;n==="rtl"?Er=!0:Er=!1}})});au.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});function ko(){return Er}function cu(){const[t,e]=H({width:null,height:null});return Te(()=>{const n=()=>{e({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n,{passive:!0}),()=>{window.removeEventListener("resize",n)}},[]),t}function Ar(t){const{containerProps:e,instanceRef:n,align:r}=t,s=cu(),a=n?.current?n:N(),i=ko()?r==="end"?"start":r==="start"?"end":r:r;return o(Il,{boundingBoxPadding:ua(),repositionFlag:`${s.width}x${s.height}`,unmountOnClose:!0,...t,align:i,instanceRef:a,containerProps:{onClick:c=>{c.target===c.currentTarget&&a.current?.closeMenu?.(),e?.onClick?.(c)},...e}})}function eo({subMenu:t=!1,confirm:e=!0,confirmLabel:n,menuItemClassName:r,menuFooter:s,menuExtras:a,...i}){const{children:c,onClick:l,...h}=i;return e?o(t?kr:Ar,{openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",...h,menuButton:t?void 0:c,label:t?c:void 0,children:[o(ut,{className:r,onClick:l,children:n}),a,s]}):t?o(ut,{...i}):l?_c(c,{onClick:l}):c}var ge={},Xo={},ve={},Yi;function ha(){if(Yi)return ve;Yi=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.loop=ve.conditional=ve.parse=void 0;var t=function r(s,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i;if(Array.isArray(a))a.forEach(function(h){return r(s,h,i,c)});else if(typeof a=="function")a(s,i,c,r);else{var l=Object.keys(a)[0];Array.isArray(a[l])?(c[l]={},r(s,a[l],i,c[l])):c[l]=a[l](s,i,c,r)}return i};ve.parse=t;var e=function(s,a){return function(i,c,l,h){a(i,c,l)&&h(i,s,c,l)}};ve.conditional=e;var n=function(s,a){return function(i,c,l,h){for(var d=[],u=i.pos;a(i,c,l);){var f={};if(h(i,s,c,f),i.pos===u)break;u=i.pos,d.push(f)}return d}};return ve.loop=n,ve}var Et={},Xi;function fa(){if(Xi)return Et;Xi=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.readBits=Et.readArray=Et.readUnsigned=Et.readString=Et.peekBytes=Et.readBytes=Et.peekByte=Et.readByte=Et.buildStream=void 0;var t=function(u){return{data:u,pos:0}};Et.buildStream=t;var e=function(){return function(u){return u.data[u.pos++]}};Et.readByte=e;var n=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(f){return f.data[f.pos+u]}};Et.peekByte=n;var r=function(u){return function(f){return f.data.subarray(f.pos,f.pos+=u)}};Et.readBytes=r;var s=function(u){return function(f){return f.data.subarray(f.pos,f.pos+u)}};Et.peekBytes=s;var a=function(u){return function(f){return Array.from(r(u)(f)).map(function(p){return String.fromCharCode(p)}).join("")}};Et.readString=a;var i=function(u){return function(f){var p=r(2)(f);return u?(p[1]<<8)+p[0]:(p[0]<<8)+p[1]}};Et.readUnsigned=i;var c=function(u,f){return function(p,m,g){for(var v=typeof f=="function"?f(p,m,g):f,b=r(u),T=new Array(v),k=0;k<v;k++)T[k]=b(p);return T}};Et.readArray=c;var l=function(u,f,p){for(var m=0,g=0;g<p;g++)m+=u[f+g]&&Math.pow(2,p-g-1);return m},h=function(u){return function(f){for(var p=e()(f),m=new Array(8),g=0;g<8;g++)m[7-g]=!!(p&1<<g);return Object.keys(u).reduce(function(v,b){var T=u[b];return T.length?v[b]=l(m,T.index,T.length):v[b]=m[T.index],v},{})}};return Et.readBits=h,Et}var Qi;function lu(){return Qi||(Qi=1,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=ha(),n=fa(),r={blocks:function(f){for(var p=0,m=[],g=f.data.length,v=0,b=(0,n.readByte)()(f);b!==p&&b;b=(0,n.readByte)()(f)){if(f.pos+b>=g){var T=g-f.pos;m.push((0,n.readBytes)(T)(f)),v+=T;break}m.push((0,n.readBytes)(b)(f)),v+=b}for(var k=new Uint8Array(v),E=0,_=0;_<m.length;_++)k.set(m[_],E),E+=m[_].length;return k}},s=(0,e.conditional)({gce:[{codes:(0,n.readBytes)(2)},{byteSize:(0,n.readByte)()},{extras:(0,n.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,n.readUnsigned)(!0)},{transparentColorIndex:(0,n.readByte)()},{terminator:(0,n.readByte)()}]},function(u){var f=(0,n.peekBytes)(2)(u);return f[0]===33&&f[1]===249}),a=(0,e.conditional)({image:[{code:(0,n.readByte)()},{descriptor:[{left:(0,n.readUnsigned)(!0)},{top:(0,n.readUnsigned)(!0)},{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{lct:(0,n.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,n.readArray)(3,function(u,f,p){return Math.pow(2,p.descriptor.lct.size+1)})},function(u,f,p){return p.descriptor.lct.exists}),{data:[{minCodeSize:(0,n.readByte)()},r]}]},function(u){return(0,n.peekByte)()(u)===44}),i=(0,e.conditional)({text:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{preData:function(f,p,m){return(0,n.readBytes)(m.text.blockSize)(f)}},r]},function(u){var f=(0,n.peekBytes)(2)(u);return f[0]===33&&f[1]===1}),c=(0,e.conditional)({application:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{id:function(f,p,m){return(0,n.readString)(m.blockSize)(f)}},r]},function(u){var f=(0,n.peekBytes)(2)(u);return f[0]===33&&f[1]===255}),l=(0,e.conditional)({comment:[{codes:(0,n.readBytes)(2)},r]},function(u){var f=(0,n.peekBytes)(2)(u);return f[0]===33&&f[1]===254}),h=[{header:[{signature:(0,n.readString)(3)},{version:(0,n.readString)(3)}]},{lsd:[{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{gct:(0,n.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,n.readByte)()},{pixelAspectRatio:(0,n.readByte)()}]},(0,e.conditional)({gct:(0,n.readArray)(3,function(u,f){return Math.pow(2,f.lsd.gct.size+1)})},function(u,f){return f.lsd.gct.exists}),{frames:(0,e.loop)([s,c,l,a,i],function(u){var f=(0,n.peekByte)()(u);return f===33||f===44})}],d=h;t.default=d}(Xo)),Xo}var En={},Ji;function uu(){if(Ji)return En;Ji=1,Object.defineProperty(En,"__esModule",{value:!0}),En.deinterlace=void 0;var t=function(n,r){for(var s=new Array(n.length),a=n.length/r,i=function(p,m){var g=n.slice(m*r,(m+1)*r);s.splice.apply(s,[p*r,r].concat(g))},c=[0,4,2,1],l=[8,8,4,2],h=0,d=0;d<4;d++)for(var u=c[d];u<a;u+=l[d])i(u,h),h++;return s};return En.deinterlace=t,En}var An={},ts;function du(){if(ts)return An;ts=1,Object.defineProperty(An,"__esModule",{value:!0}),An.lzw=void 0;var t=function(n,r,s){var a=4096,i=-1,c=s,l,h,d,u,f,p,m,A,g,v,S,b,I,P,C,L,T=new Array(s),k=new Array(a),E=new Array(a),_=new Array(a+1);for(b=n,h=1<<b,f=h+1,l=h+2,m=i,u=b+1,d=(1<<u)-1,g=0;g<h;g++)k[g]=0,E[g]=g;var S,A,w,I,P,L,C;for(S=A=w=I=P=L=C=0,v=0;v<c;){if(P===0){if(A<u){S+=r[C]<<A,A+=8,C++;continue}if(g=S&d,S>>=u,A-=u,g>l||g==f)break;if(g==h){u=b+1,d=(1<<u)-1,l=h+2,m=i;continue}if(m==i){_[P++]=E[g],m=g,I=g;continue}for(p=g,g==l&&(_[P++]=I,g=m);g>h;)_[P++]=E[g],g=k[g];I=E[g]&255,_[P++]=I,l<a&&(k[l]=m,E[l]=I,l++,(l&d)===0&&l<a&&(u++,d+=l)),m=p}P--,T[L++]=_[P],v++}for(v=L;v<c;v++)T[v]=0;return T};return An.lzw=t,An}var es;function hu(){if(es)return ge;es=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.decompressFrames=ge.decompressFrame=ge.parseGIF=void 0;var t=a(lu()),e=ha(),n=fa(),r=uu(),s=du();function a(d){return d&&d.__esModule?d:{default:d}}var i=function(u){var f=new Uint8Array(u);return(0,e.parse)((0,n.buildStream)(f),t.default)};ge.parseGIF=i;var c=function(u){for(var f=u.pixels.length,p=new Uint8ClampedArray(f*4),m=0;m<f;m++){var g=m*4,v=u.pixels[m],b=u.colorTable[v]||[0,0,0];p[g]=b[0],p[g+1]=b[1],p[g+2]=b[2],p[g+3]=v!==u.transparentIndex?255:0}return p},l=function(u,f,p){if(!u.image){console.warn("gif frame does not have associated image.");return}var m=u.image,g=m.descriptor.width*m.descriptor.height,v=(0,s.lzw)(m.data.minCodeSize,m.data.blocks,g);m.descriptor.lct.interlaced&&(v=(0,r.deinterlace)(v,m.descriptor.width));var b={pixels:v,dims:{top:u.image.descriptor.top,left:u.image.descriptor.left,width:u.image.descriptor.width,height:u.image.descriptor.height}};return m.descriptor.lct&&m.descriptor.lct.exists?b.colorTable=m.lct:b.colorTable=f,u.gce&&(b.delay=(u.gce.delay||10)*10,b.disposalType=u.gce.extras.disposal,u.gce.extras.transparentColorGiven&&(b.transparentIndex=u.gce.transparentColorIndex)),p&&(b.patch=c(b)),b};ge.decompressFrame=l;var h=function(u,f){return u.frames.filter(function(p){return p.image}).map(function(p){return l(p,u.gct,f)})};return ge.decompressFrames=h,ge}var ns=hu();async function fu(t){try{const n=await(await fetch(t)).arrayBuffer(),r=ns.parseGIF(n),s=ns.decompressFrames(r,!0);if(!s?.length)return null;const{dims:a,patch:i}=s[0],{width:c,height:l}=a,h=document.createElement("canvas");h.width=c,h.height=l;const d=h.getContext("2d"),u=new ImageData(i,c,l);d.putImageData(u,0,0);const f=await new Promise(p=>{h.toBlob(p,"image/png")});return URL.createObjectURL(f)}catch{return null}}function Cr({staticUrl:t,alt:e,url:n}){return o("picture",{children:[t&&o("source",{srcset:t,media:"(prefers-reduced-motion: reduce)"}),o("img",{src:n,alt:e,class:"shortcode-emoji emoji",width:"16",height:"16",loading:"lazy",decoding:"async",fetchPriority:"low",onLoad:r=>{try{r.target.dataset.isLarger=r.target.naturalWidth>r.target.width*2||r.target.naturalHeight>r.target.height*2}catch{}}},e||n)]})}const pu=new Ur({concurrency:2,interval:1e3,intervalCap:2}),mu=(t,...e)=>pu.add(()=>fetch(...e),{signal:t}),os=/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,gu=Wt(t=>new RegExp(`:(${t.join("|")}):`,"g")),Le=new Map,vu=30,yu=async t=>{if(Le.has(t))return Le.get(t);try{const r=(await(await mu(null,t,{headers:{accept:"application/activity+json"},referrerPolicy:"no-referrer"})).json()).tag?.filter(a=>a.type==="Emoji")||[],s=r.length?await Promise.all(r.map(async a=>{const i={shortcode:a.name.replace(/^:|:$/g,""),url:a.icon.url};if(a.icon?.mediaType==="image/gif"){const c=await fu(i.url);c&&(i.staticUrl=c)}return i})):[];if(Le.size>=vu){const a=Le.keys().next().value;Le.delete(a)}return Le.set(t,s),s}catch{return[]}},bu=Wt((t,e,n)=>{if(!t)return"";if(!t.includes(":")||!e.length)return t;const r=gu(e.map(a=>a.shortcode));return t.split(r).map((a,i)=>{const c=e.find(l=>l.shortcode===a);if(c){const{url:l,staticUrl:h}=c;return o(Cr,{staticUrl:n?void 0:h,url:n&&h||l,alt:a},`${a}-${i}`)}return a})});function un({text:t,emojis:e=[],staticEmoji:n,resolverURL:r}){const[s,a]=H(()=>Le.get(r)||[]),[i,c]=H(!1);if(q(()=>{if(!r||!t?.includes(":"))return;const h=t.match(os);!h||!h.some(u=>{const f=u.slice(1,-1);return!e.some(p=>p.shortcode===f)})||Le.has(r)||(c(!0),(async()=>{const u=await yu(r);a(u),c(!1)})())},[r,t,e?.length]),!t)return"";if(!t.includes(":"))return t;if(r&&i)return t.replace(os,"");const l=[...s.filter(h=>!e.some(d=>d.shortcode===h.shortcode)),...e];return bu(t,l,n)}function xr({roles:t,accountId:e,accountUrl:n,hideSelf:r=!1}){if(!t?.length)return null;const s=e&&e===qr();if(r&&s)return null;const a=vr(n);return t?.map(i=>o(F,{children:[" ",o("span",{class:"tag collapsed tag-role",children:[i.name,!!a&&o(F,{children:[" ",o("span",{class:"more-insignificant",children:a})]})]})]}))}const wu=Wt(t=>{const e={sensitivity:"base"};try{return new Intl.Collator(t||void 0,e)}catch{return new Intl.Collator(void 0,e)}}),_u=/([^@]+)(@.+)/i,Tu=/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,Su=/\s+/g,ku=/[^a-z0-9@\.]/gi;function Pe({account:t,instance:e,showAvatar:n,showAcct:r,short:s,external:a,onClick:i}){const{i18n:c}=Kt();if(!t)return null;const{acct:l,avatar:h,avatarStatic:d,id:u,url:f,displayName:p,emojis:m,bot:g,username:v,roles:b}=t,[T,k,E]=l.match(_u)||[,l];e||(e=Ge().instance);const _=v.toLowerCase().trim(),S=(p||"").toLowerCase().trim(),A=S.replace(Tu,"").replace(Su,""),w=A.replace(ku,""),I=!s&&(_===S||_===A||_===w||wu(c.locale).compare(_,A)===0)||w===l.toLowerCase();return o("a",{class:`name-text ${r?"show-acct":""} ${s?"short":""}`,href:f,target:a?"_blank":null,title:p?`${p} (${E?"":"@"}${l})`:`${E?"":"@"}${l}`,onClick:P=>{if(!a&&!P.shiftKey){if(P.preventDefault(),P.stopPropagation(),i)return i(P);if(P.metaKey||P.ctrlKey||P.shiftKey||P.which===2){const L=`#/${e}/a/${u}`;window.open(L,"_blank");return}z.showAccount={account:t,instance:e}}},children:[n&&o(F,{children:[o(_e,{url:d||h,squircle:g})," "]}),p&&!s?o(F,{children:[o("b",{dir:"auto",children:o(un,{text:p,emojis:m,resolverURL:t.url,staticEmoji:!0})}),!r&&!I&&o(F,{children:[" ",o("i",{class:"bidi-isolate",children:["@",v]}),o(xr,{roles:b,accountId:u,accountUrl:f,hideSelf:!0})]})]}):s?o("i",{children:v}):o("b",{children:v}),r&&o(F,{children:[o("br",{}),o("i",{class:"bidi-isolate",children:[E?"":"@",k,!!E&&o("span",{class:"ib",children:E})]}),o(xr,{roles:b,accountUrl:f})]})]})}const Eu="ÐÒ§ÑÑˆÓ™Ð°",Au="AcÃ¨h",Cu="LÃ«bacoli",xu="AfÃ¡r",Mu="Afrikaans",Iu="Shqip",Lu="Dhalur",Pu="áŠ áˆ›áˆ­áŠ›",Du="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",Ru="Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶",$u="à¦…à¦¸à¦®à§€à¦¯à¦¼à¦¾",Nu="ÐÐ²Ð°Ñ€ Ð¼Ð°Ñ†Ó€",Ou="à¤…à¤µà¤§à¥€",Fu="Aymar aru",Bu="AzÉ™rbaycanca",zu="Basa Bali",Hu="Ø¨Ù„ÙˆÚ†ÛŒ",Ku="Bamanankan",ju="BaoulÃ©",Uu="Ð‘Ð°ÑˆÒ¡Ð¾Ñ€Ñ‚ÑÐ°",qu="Euskara",Wu="Batak Karo",Gu="Batak Simalungun",Zu="Batak Toba",Vu="Ð‘ÐµÐ»Ð°Ñ€ÑƒÑÐºÐ°Ñ",Yu="Ichibemba",Xu="à¦¬à¦¾à¦‚à¦²à¦¾",Qu="Betawi",Ju="à¤­à¥‹à¤œà¤ªà¥à¤°à¥€",td="Bikol",ed="Bosanski",nd="Brezhoneg",od="Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸",rd="Ð‘ÑƒÑ€ÑÐ°Ð´",id="ç²µèªž",sd="CatalÃ ",ad="Cebuano",cd="Chamoru",ld="ÐÐ¾Ñ…Ñ‡Ð¸Ð¹Ð½ Ð¼Ð¾Ñ‚Ñ‚",ud="Chichewa",dd="Kapasen Chuuk",hd="Ð§Ó‘Ð²Ð°ÑˆÐ»Ð°",fd="Corsu",pd="QÄ±rÄ±mtatarca (ÐšÐ¸Ñ€Ð¸Ð»Ð»)",md="Hrvatski",gd="ÄŒeÅ¡tina",vd="Dansk",yd="Þ‹Þ¨ÞˆÞ¬Þ€Þ¨",bd="ThuÉ”Å‹jÃ¤Å‹",wd="à¤¡à¥‹à¤—à¤°à¥€",_d="Dombe",Td="Nederlands",Sd="Jula",kd="à½¢à¾«à½¼à½„à¼‹à½",Ed="English",Ad="Esperanto",Cd="Eesti",xd="EÊ‹egbe",Md="FÃ¸royskt",Id="Vosa Vakaviti",Ld="Tagalog",Pd="Suomi",Dd="Fon",Rd="FranÃ§ais",$d="Frysk",Nd="Furlan",Od="Fulfulde",Fd="GÃ£",Bd="Galego",zd="áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜",Hd="Deutsch",Kd="Î•Î»Î»Î·Î½Î¹ÎºÎ¬",jd="AvaÃ±e'áº½",Ud="àª—à«àªœàª°àª¾àª¤à«€",qd="KreyÃ²l ayisyen",Wd="Hakha Chin",Gd="Hausa",Zd="Ê»ÅŒlelo HawaiÊ»i",Vd="×¢×‘×¨×™×ª",Yd="Hiligaynon",Xd="à¤¹à¤¿à¤¨à¥à¤¦à¥€",Qd="Hmoob",Jd="Magyar",th="Hunsrik",eh="Iban",nh="Ãslenska",oh="Igbo",rh="Iloko",ih="Bahasa Indonesia",sh="áƒá“„á’ƒá‘Žá‘á‘¦",ah="Gaeilge",ch="Italiano",lh="Patwa",uh="æ—¥æœ¬èªž",dh="Basa Jawa",hh="Jinghpaw",fh="Kalaallisut",ph="à²•à²¨à³à²¨à²¡",mh="Kanuri",gh="Kapampangan",vh="ÒšÐ°Ð·Ð°Ò›ÑˆÐ°",yh="Khasi",bh="áž—áž¶ážŸáž¶ážáŸ’áž˜áŸ‚ážš",wh="Rukiga",_h="Kikongo",Th="Kinyarwanda",Sh="Kituba",kh="Kokborok",Eh="ÐšÐ¾Ð¼Ð¸ ÐºÑ‹Ð²",Ah="à¤•à¥‹à¤‚à¤•à¤£à¥€",Ch="í•œêµ­ì–´",xh="Krio",Mh="KurdÃ® (KurmancÃ®)",Ih="Ú©ÙˆØ±Ø¯ÛŒ (Ø³Û†Ø±Ø§Ù†ÛŒ)",Lh="ÐšÑ‹Ñ€Ð³Ñ‹Ð·Ñ‡Ð°",Ph="àº¥àº²àº§",Dh="LatgaÄ¼u",Rh="Latina",$h="LatvieÅ¡u",Nh="Ligure",Oh="Limburgs",Fh="LingÃ¡la",Bh="LietuviÅ³",zh="Lombard",Hh="Luganda",Kh="Dholuo",jh="LÃ«tzebuergesch",Uh="ÐœÐ°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸",qh="MadhurÃ¢",Wh="à¤®à¥ˆà¤¥à¤¿à¤²à¥€",Gh="Makassar",Zh="Malagasy",Vh="Bahasa Melayu",Yh="à´®à´²à´¯à´¾à´³à´‚",Xh="Malti",Qh="Mam",Jh="Gaelg",tf="Te Reo MÄori",ef="à¤®à¤°à¤¾à¤ à¥€",nf="Kajin MÌ§ajeÄ¼",of="à¤®à¤¾à¤°à¤µà¤¾à¤¡à¤¼à¥€",rf="Kreol Morisien",sf="ÐžÐ»Ñ‹Ðº Ð¼Ð°Ñ€Ð¸Ð¹",af="Baso Minang",cf="Mizo á¹­awng",lf="ÐœÐ¾Ð½Ð³Ð¾Ð»",uf="á€™á€¼á€”á€ºá€™á€¬á€…á€¬",df="NÃ¡huatl",hf="isiNdebele",ff="à¤¨à¥‡à¤ªà¤¾à¤²à¥€",pf="Norsk",mf="Thok Nath",gf="Occitan",vf="à¬“à¬¡à¬¼à¬¿à¬†",yf="Afaan Oromoo",bf="Ð˜Ñ€Ð¾Ð½ Ã¦Ð²Ð·Ð°Ð³",wf="Pangasinan",_f="Papiamentu",Tf="Ù¾ÚšØªÙˆ",Sf="ÙØ§Ø±Ø³ÛŒ",kf="Polski",Ef="PortuguÃªs (Brasil)",Af="à¨ªà©°à¨œà¨¾à¨¬à©€",Cf="Runa Simi",xf="QÊ¼eqchiÊ¼",Mf="Romani Ähib",If="RomÃ¢nÄƒ",Lf="Ikirundi",Pf="Ð ÑƒÑÑÐºÐ¸Ð¹",Df="DavvisÃ¡megiella",Rf="Gagana Samoa",$f="SÃ¤ngÃ¶",Nf="à¤¸à¤‚à¤¸à¥à¤•à¥ƒà¤¤à¤®à¥",Of="á±¥á±Ÿá±±á±›á±Ÿá±²á±¤",Ff="GÃ idhlig",Bf="Sepedi",zf="Ð¡Ñ€Ð¿ÑÐºÐ¸",Hf="Sesotho",Kf="Kreol seselwa",jf="á€œá€­áµá€ºá‚ˆá€á‚†á€¸",Uf="chiShona",qf="Sicilianu",Wf="ÅšlÅnskÅ",Gf="Ø³Ù†ÚŒÙŠ",Zf="à·ƒà·’à¶‚à·„à¶½",Vf="SlovenÄina",Yf="SlovenÅ¡Äina",Xf="Soomaali",Qf="EspaÃ±ol",Jf="Basa Sunda",tp="Susu",ep="Kiswahili",np="siSwati",op="Svenska",rp="Reo Tahiti",ip="Ð¢Ð¾Ò·Ð¸ÐºÓ£",sp="âµœâ´°âµŽâ´°âµ£âµ‰âµ–âµœ",ap="à®¤à®®à®¿à®´à¯",cp="Ð¢Ð°Ñ‚Ð°Ñ€Ñ‡Ð°",lp="à°¤à±†à°²à±à°—à±",up="Tetun",dp="à¹„à¸—à¸¢",hp="à½–à½¼à½‘à¼‹à½¡à½²à½‚",fp="á‰µáŒáˆ­áŠ›",pp="Tiv",mp="Tok Pisin",gp="Lea fakatonga",vp="Tshiluba",yp="Xitsonga",bp="Setswana",wp="à²¤à³à²³à³",_p="chiTumbuka",Tp="TÃ¼rkÃ§e",Sp="TÃ¼rkmenÃ§e",kp="Ð¢Ñ‹Ð²Ð° Ð´Ñ‹Ð»",Ep="Akankasa",Ap="Ð£Ð´Ð¼ÑƒÑ€Ñ‚ ÐºÑ‹Ð»",Cp="Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",xp="Ø§Ø±Ø¯Ùˆ",Mp="Ø¦Û‡ÙŠØºÛ‡Ø±Ú†Û•",Ip="OÊ»zbekcha",Lp="Tshivená¸“a",Pp="VÃ¨neto",Dp="Tiáº¿ng Viá»‡t",Rp="Winaray",$p="Cymraeg",Np="Wolof",Op="isiXhosa",Fp="Ð¡Ð°Ñ…Ð° Ñ‚Ñ‹Ð»Ð°",Bp="×™×™Ö´×“×™×©",zp="YorÃ¹bÃ¡",Hp="MÃ aya T'Ã an",Kp="DidxazÃ¡",jp="isiZulu",Up={ab:Eu,ace:Au,ach:Cu,aa:xu,af:Mu,sq:Iu,alz:Lu,am:Pu,ar:Du,hy:Ru,as:$u,av:Nu,awa:Ou,ay:Fu,az:Bu,ban:zu,bal:Hu,bm:Ku,bci:ju,ba:Uu,eu:qu,btx:Wu,bts:Gu,bbc:Zu,be:Vu,bem:Yu,bn:Xu,bew:Qu,bho:Ju,bik:td,bs:ed,br:nd,bg:od,bua:rd,yue:id,ca:sd,ceb:ad,ch:cd,ce:ld,ny:ud,"zh-CN":"ç®€ä½“ä¸­æ–‡","zh-TW":"ç¹é«”ä¸­æ–‡",chk:dd,cv:hd,co:fd,crh:pd,"crh-Latn":"QÄ±rÄ±mtatarca (Latin)",hr:md,cs:gd,da:vd,"fa-AF":"Ø¯Ø±Ù‰",dv:yd,din:bd,doi:wd,dov:_d,nl:Td,dyu:Sd,dz:kd,en:Ed,eo:Ad,et:Cd,ee:xd,fo:Md,fj:Id,tl:Ld,fi:Pd,fon:Dd,fr:Rd,"fr-CA":"FranÃ§ais (Canada)",fy:$d,fur:Nd,ff:Od,gaa:Fd,gl:Bd,ka:zd,de:Hd,el:Kd,gn:jd,gu:Ud,ht:qd,cnh:Wd,ha:Gd,haw:Zd,iw:Vd,hil:Yd,hi:Xd,hmn:Qd,hu:Jd,hrx:th,iba:eh,is:nh,ig:oh,ilo:rh,id:ih,"iu-Latn":"Inuktitut (Latin)",iu:sh,ga:ah,it:ch,jam:lh,ja:uh,jw:dh,kac:hh,kl:fh,kn:ph,kr:mh,pam:gh,kk:vh,kha:yh,km:bh,cgg:wh,kg:_h,rw:Th,ktu:Sh,trp:kh,kv:Eh,gom:Ah,ko:Ch,kri:xh,ku:Mh,ckb:Ih,ky:Lh,lo:Ph,ltg:Dh,la:Rh,lv:$h,lij:Nh,li:Oh,ln:Fh,lt:Bh,lmo:zh,lg:Hh,luo:Kh,lb:jh,mk:Uh,mad:qh,mai:Wh,mak:Gh,mg:Zh,ms:Vh,"ms-Arab":"Ø¨Ù‡Ø§Ø³ Ù…Ù„Ø§ÙŠÙˆ",ml:Yh,mt:Xh,mam:Qh,gv:Jh,mi:tf,mr:ef,mh:nf,mwr:of,mfe:rf,chm:sf,"mni-Mtei":"ê¯ƒê¯¤ê¯‡ê¯©ê¯‚ê¯£ê¯Ÿ",min:af,lus:cf,mn:lf,my:uf,nhe:df,"ndc-ZW":"Ndau",nr:hf,new:"à¤¨à¥‡à¤ªà¤¾à¤² à¤­à¤¾à¤·à¤¾",ne:ff,"bm-Nkoo":"ß’ßžß",no:pf,nus:mf,oc:gf,or:vf,om:yf,os:bf,pag:wf,pap:_f,ps:Tf,fa:Sf,pl:kf,pt:Ef,"pt-PT":"PortuguÃªs (Portugal)",pa:Af,"pa-Arab":"Ù¾Ù†Ø¬Ø§Ø¨ÛŒ",qu:Cf,kek:xf,rom:Mf,ro:If,rn:Lf,ru:Pf,se:Df,sm:Rf,sg:$f,sa:Nf,"sat-Latn":"Santali (Latin)",sat:Of,gd:Ff,nso:Bf,sr:zf,st:Hf,crs:Kf,shn:jf,sn:Uf,scn:qf,szl:Wf,sd:Gf,si:Zf,sk:Vf,sl:Yf,so:Xf,es:Qf,su:Jf,sus:tp,sw:ep,ss:np,sv:op,ty:rp,tg:ip,"ber-Latn":"Tamazight (Latin)",ber:sp,ta:ap,tt:cp,te:lp,tet:up,th:dp,bo:hp,ti:fp,tiv:pp,tpi:mp,to:gp,lua:vp,ts:yp,tn:bp,tcy:wp,tum:_p,tr:Tp,tk:Sp,tyv:kp,ak:Ep,udm:Ap,uk:Cp,ur:xp,ug:Mp,uz:Ip,ve:Lp,vec:Pp,vi:Dp,war:Rp,cy:$p,wo:Np,xh:Op,sah:Fp,yi:Bp,yo:zp,yua:Hp,zap:Kp,zu:jp},no={"zh-YUE":"YUE",zh_HANT:"zh-Hant"},Qo=Wt(t=>new Intl.DisplayNames(t||void 0,{type:"language"}));function qp(t){let e,n;typeof t=="object"&&({code:t,locale:e,fallback:n}=t);try{const r=Qo(e||Lt.locale).of(t);if(r!==t)return r;if(!n){const s=Qo(t).of(t);if(s!==t)return s;const a=Up?.[e];if(a!==t)return a}return n||""}catch{if(no[t])try{const s=Qo(no[e]||e||Lt.locale).of(no[t]);return s!==no[t]?s:n||""}catch{}return n||""}}const Cn=Wt(qp),Wp={auto:"Detect language",ab:"Abkhaz",ace:"Acehnese",ach:"Acholi",aa:"Afar",af:"Afrikaans",sq:"Albanian",alz:"Alur",am:"Amharic",ar:"Arabic",hy:"Armenian",as:"Assamese",av:"Avar",awa:"Awadhi",ay:"Aymara",az:"Azerbaijani",ban:"Balinese",bal:"Baluchi",bm:"Bambara",bci:"BaoulÃ©",ba:"Bashkir",eu:"Basque",btx:"Batak Karo",bts:"Batak Simalungun",bbc:"Batak Toba",be:"Belarusian",bem:"Bemba",bn:"Bengali",bew:"Betawi",bho:"Bhojpuri",bik:"Bikol",bs:"Bosnian",br:"Breton",bg:"Bulgarian",bua:"Buryat",yue:"Cantonese",ca:"Catalan",ceb:"Cebuano",ch:"Chamorro",ce:"Chechen",ny:"Chichewa","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",chk:"Chuukese",cv:"Chuvash",co:"Corsican",crh:"Crimean Tatar (Cyrillic)","crh-Latn":"Crimean Tatar (Latin)",hr:"Croatian",cs:"Czech",da:"Danish","fa-AF":"Dari",dv:"Dhivehi",din:"Dinka",doi:"Dogri",dov:"Dombe",nl:"Dutch",dyu:"Dyula",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",tl:"Filipino",fi:"Finnish",fon:"Fon",fr:"French","fr-CA":"French (Canada)",fy:"Frisian",fur:"Friulian",ff:"Fulani",gaa:"Ga",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",cnh:"Hakha Chin",ha:"Hausa",haw:"Hawaiian",iw:"Hebrew",hil:"Hiligaynon",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",hrx:"Hunsrik",iba:"Iban",is:"Icelandic",ig:"Igbo",ilo:"Ilocano",id:"Indonesian","iu-Latn":"Inuktut (Latin)",iu:"Inuktut (Syllabics)",ga:"Irish",it:"Italian",jam:"Jamaican Patois",ja:"Japanese",jw:"Javanese",kac:"Jingpo",kl:"Kalaallisut",kn:"Kannada",kr:"Kanuri",pam:"Kapampangan",kk:"Kazakh",kha:"Khasi",km:"Khmer",cgg:"Kiga",kg:"Kikongo",rw:"Kinyarwanda",ktu:"Kituba",trp:"Kokborok",kv:"Komi",gom:"Konkani",ko:"Korean",kri:"Krio",ku:"Kurdish (Kurmanji)",ckb:"Kurdish (Sorani)",ky:"Kyrgyz",lo:"Lao",ltg:"Latgalian",la:"Latin",lv:"Latvian",lij:"Ligurian",li:"Limburgish",ln:"Lingala",lt:"Lithuanian",lmo:"Lombard",lg:"Luganda",luo:"Luo",lb:"Luxembourgish",mk:"Macedonian",mad:"Madurese",mai:"Maithili",mak:"Makassar",mg:"Malagasy",ms:"Malay","ms-Arab":"Malay (Jawi)",ml:"Malayalam",mt:"Maltese",mam:"Mam",gv:"Manx",mi:"Maori",mr:"Marathi",mh:"Marshallese",mwr:"Marwadi",mfe:"Mauritian Creole",chm:"Meadow Mari","mni-Mtei":"Meiteilon (Manipuri)",min:"Minang",lus:"Mizo",mn:"Mongolian",my:"Myanmar (Burmese)",nhe:"Nahuatl (Eastern Huasteca)","ndc-ZW":"Ndau",nr:"Ndebele (South)",new:"Nepalbhasa (Newari)",ne:"Nepali","bm-Nkoo":"NKo",no:"Norwegian",nus:"Nuer",oc:"Occitan",or:"Odia (Oriya)",om:"Oromo",os:"Ossetian",pag:"Pangasinan",pap:"Papiamento",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)",pa:"Punjabi (Gurmukhi)","pa-Arab":"Punjabi (Shahmukhi)",qu:"Quechua",kek:"QÊ¼eqchiÊ¼",rom:"Romani",ro:"Romanian",rn:"Rundi",ru:"Russian",se:"Sami (North)",sm:"Samoan",sg:"Sango",sa:"Sanskrit","sat-Latn":"Santali (Latin)",sat:"Santali (Ol Chiki)",gd:"Scots Gaelic",nso:"Sepedi",sr:"Serbian",st:"Sesotho",crs:"Seychellois Creole",shn:"Shan",sn:"Shona",scn:"Sicilian",szl:"Silesian",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",su:"Sundanese",sus:"Susu",sw:"Swahili",ss:"Swati",sv:"Swedish",ty:"Tahitian",tg:"Tajik","ber-Latn":"Tamazight",ber:"Tamazight (Tifinagh)",ta:"Tamil",tt:"Tatar",te:"Telugu",tet:"Tetum",th:"Thai",bo:"Tibetan",ti:"Tigrinya",tiv:"Tiv",tpi:"Tok Pisin",to:"Tongan",lua:"Tshiluba",ts:"Tsonga",tn:"Tswana",tcy:"Tulu",tum:"Tumbuka",tr:"Turkish",tk:"Turkmen",tyv:"Tuvan",ak:"Twi",udm:"Udmurt",uk:"Ukrainian",ur:"Urdu",ug:"Uyghur",uz:"Uzbek",ve:"Venda",vec:"Venetian",vi:"Vietnamese",war:"Waray",cy:"Welsh",wo:"Wolof",xh:"Xhosa",sah:"Yakut",yi:"Yiddish",yo:"Yoruba",yua:"Yucatec Maya",zap:"Zapotec",zu:"Zulu"},Gp={ab:"Abkhaz",ace:"Acehnese",ach:"Acholi",aa:"Afar",af:"Afrikaans",sq:"Albanian",alz:"Alur",am:"Amharic",ar:"Arabic",hy:"Armenian",as:"Assamese",av:"Avar",awa:"Awadhi",ay:"Aymara",az:"Azerbaijani",ban:"Balinese",bal:"Baluchi",bm:"Bambara",bci:"BaoulÃ©",ba:"Bashkir",eu:"Basque",btx:"Batak Karo",bts:"Batak Simalungun",bbc:"Batak Toba",be:"Belarusian",bem:"Bemba",bn:"Bengali",bew:"Betawi",bho:"Bhojpuri",bik:"Bikol",bs:"Bosnian",br:"Breton",bg:"Bulgarian",bua:"Buryat",yue:"Cantonese",ca:"Catalan",ceb:"Cebuano",ch:"Chamorro",ce:"Chechen",ny:"Chichewa","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",chk:"Chuukese",cv:"Chuvash",co:"Corsican",crh:"Crimean Tatar (Cyrillic)","crh-Latn":"Crimean Tatar (Latin)",hr:"Croatian",cs:"Czech",da:"Danish","fa-AF":"Dari",dv:"Dhivehi",din:"Dinka",doi:"Dogri",dov:"Dombe",nl:"Dutch",dyu:"Dyula",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",tl:"Filipino",fi:"Finnish",fon:"Fon",fr:"French","fr-CA":"French (Canada)",fy:"Frisian",fur:"Friulian",ff:"Fulani",gaa:"Ga",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",cnh:"Hakha Chin",ha:"Hausa",haw:"Hawaiian",iw:"Hebrew",hil:"Hiligaynon",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",hrx:"Hunsrik",iba:"Iban",is:"Icelandic",ig:"Igbo",ilo:"Ilocano",id:"Indonesian","iu-Latn":"Inuktut (Latin)",iu:"Inuktut (Syllabics)",ga:"Irish",it:"Italian",jam:"Jamaican Patois",ja:"Japanese",jw:"Javanese",kac:"Jingpo",kl:"Kalaallisut",kn:"Kannada",kr:"Kanuri",pam:"Kapampangan",kk:"Kazakh",kha:"Khasi",km:"Khmer",cgg:"Kiga",kg:"Kikongo",rw:"Kinyarwanda",ktu:"Kituba",trp:"Kokborok",kv:"Komi",gom:"Konkani",ko:"Korean",kri:"Krio",ku:"Kurdish (Kurmanji)",ckb:"Kurdish (Sorani)",ky:"Kyrgyz",lo:"Lao",ltg:"Latgalian",la:"Latin",lv:"Latvian",lij:"Ligurian",li:"Limburgish",ln:"Lingala",lt:"Lithuanian",lmo:"Lombard",lg:"Luganda",luo:"Luo",lb:"Luxembourgish",mk:"Macedonian",mad:"Madurese",mai:"Maithili",mak:"Makassar",mg:"Malagasy",ms:"Malay","ms-Arab":"Malay (Jawi)",ml:"Malayalam",mt:"Maltese",mam:"Mam",gv:"Manx",mi:"Maori",mr:"Marathi",mh:"Marshallese",mwr:"Marwadi",mfe:"Mauritian Creole",chm:"Meadow Mari","mni-Mtei":"Meiteilon (Manipuri)",min:"Minang",lus:"Mizo",mn:"Mongolian",my:"Myanmar (Burmese)",nhe:"Nahuatl (Eastern Huasteca)","ndc-ZW":"Ndau",nr:"Ndebele (South)",new:"Nepalbhasa (Newari)",ne:"Nepali","bm-Nkoo":"NKo",no:"Norwegian",nus:"Nuer",oc:"Occitan",or:"Odia (Oriya)",om:"Oromo",os:"Ossetian",pag:"Pangasinan",pap:"Papiamento",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)",pa:"Punjabi (Gurmukhi)","pa-Arab":"Punjabi (Shahmukhi)",qu:"Quechua",kek:"QÊ¼eqchiÊ¼",rom:"Romani",ro:"Romanian",rn:"Rundi",ru:"Russian",se:"Sami (North)",sm:"Samoan",sg:"Sango",sa:"Sanskrit","sat-Latn":"Santali (Latin)",sat:"Santali (Ol Chiki)",gd:"Scots Gaelic",nso:"Sepedi",sr:"Serbian",st:"Sesotho",crs:"Seychellois Creole",shn:"Shan",sn:"Shona",scn:"Sicilian",szl:"Silesian",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",su:"Sundanese",sus:"Susu",sw:"Swahili",ss:"Swati",sv:"Swedish",ty:"Tahitian",tg:"Tajik","ber-Latn":"Tamazight",ber:"Tamazight (Tifinagh)",ta:"Tamil",tt:"Tatar",te:"Telugu",tet:"Tetum",th:"Thai",bo:"Tibetan",ti:"Tigrinya",tiv:"Tiv",tpi:"Tok Pisin",to:"Tongan",lua:"Tshiluba",ts:"Tsonga",tn:"Tswana",tcy:"Tulu",tum:"Tumbuka",tr:"Turkish",tk:"Turkmen",tyv:"Tuvan",ak:"Twi",udm:"Udmurt",uk:"Ukrainian",ur:"Urdu",ug:"Uyghur",uz:"Uzbek",ve:"Venda",vec:"Venetian",vi:"Vietnamese",war:"Waray",cy:"Welsh",wo:"Wolof",xh:"Xhosa",sah:"Yakut",yi:"Yiddish",yo:"Yoruba",yua:"Yucatec Maya",zap:"Zapotec",zu:"Zulu"},Zp={},pa={sl:Wp,tl:Gp,al:Zp},Vp=Object.entries(pa.tl).map(([t,{name:e}])=>({code:t,name:e})),Mr=[...navigator.languages],Jo=aa();Jo&&!Mr.includes(Jo)&&Mr.unshift(Jo);const Yp=()=>yo(Mr,Vp.map(t=>t.code.replace("_","-")),"en");function ma(t=!1){if(t){const{contentTranslationTargetLanguage:e}=z.settings;if(e)return e}return Yp()}const rs=["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"];function Py(t){const e=Math.min(Math.floor(Math.log2(t)/10),rs.length-1),n=t/1024**e;return Lt.number(n,{style:"unit",unit:rs[e],unitDisplay:"narrow",maximumFractionDigits:0})}function Yt(){return Tc()?.mastodon>=7}function Xp(t){return t?.[t?.currentUser]?.[0]||"nobody"}const Qp=/[.*+?^${}()|[\]\\]/g,Jp={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},tm=/[&"<>]/g;function em(t){return t.replace(Qp,"\\$&")}function nm(t){return t.replace(tm,e=>Jp[e])}function Ir(t,e=[]){if(!t)return"";if(!e.length||!t.includes(":"))return t;const n=new Map;for(let i=0;i<e.length;i++){const c=e[i];c?.shortcode&&c?.url&&n.set(c.shortcode,c)}if(n.size===0)return t;const s=Array.from(n.keys()).map(i=>`:${em(i)}:`).join("|"),a=new RegExp(s,"g");return t.replace(a,i=>{const c=i.slice(1,-1),l=n.get(c);if(!l)return i;const{staticUrl:h,url:d}=l,u=nm(i);return`<picture>${h?`<source srcset="${h}" media="(prefers-reduced-motion: reduce)"></source>`:""}<img class="shortcode-emoji emoji" src="${d}" alt="${u}" title="${c}" width="16" height="16" loading="lazy" decoding="async" fetchPriority="low" onload="try { this.dataset.isLarger = this.naturalWidth > (this.width * 2) || this.naturalHeight > (this.height * 2) } catch (e) {}" /></picture>`})}const om=/[&<>"']/g,rm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function tr(t){return t.replace(om,e=>rm[e])}const nn=document.createElement("div"),im=["u-url","mention","hashtag"],sm=/<a/i,am=/^https?:\/\//i,cm=/^[@ï¼ ][^@ï¼ ]+(@[^@ï¼ ]+)?$/,lm=/^[#ï¼ƒ][^#ï¼ƒ]+$/,um=/^```[^]+```$/,dm=/^```/,hm=/```$/,fm=/`[^`]+`/,pm=/(twitter|x)\.com/i,mm=/@[a-zA-Z0-9_]+@(twitter|x)\.com/,gm=/(@([a-zA-Z0-9_]+)@(twitter|x)\.com)/g,vm=/(`[^]+?`)/g;function ym(t,e){if(e){const n=document.createElement("template");return n.innerHTML=t,n.content}else{const n=document.createElement("div");return n.innerHTML=t,n}}function bm(t,e={}){if(!t)return"";const{emojis:n,returnDOM:r,postEnhanceDOM:s=()=>{}}=e;let a=t;const i=ym(a,r),c=sm.test(a),l=a.includes("```");if(c){const d=i.querySelectorAll('a:not([target="_blank"])');for(const f of d)f.setAttribute("target","_blank");const u=i.querySelectorAll("a[class]");for(const f of u)for(const p of f.classList)im.includes(p)||f.classList.remove(p)}if(c){const d=i.querySelectorAll("a[href]");for(const u of d)am.test(u.textContent.trim())&&(u.classList.add("has-url-text"),Sm(u))}if(c){const d=i.querySelectorAll("a[href]"),u=[];for(const f of d){const p=f.innerText.trim(),m=f.querySelector("*");if(cm.test(p)){const g=p[0],[v,b,T]=p.split(/[@ï¼ ]/);m||(!u.some(([k])=>k===b)||u.some(([k,E])=>k===b&&E===T)?(f.innerHTML=`${g}<span>${b}</span>`,u.push([b,T])):f.innerHTML=`${g}<span>${b}@${T}</span>`),f.classList.add("mention")}if(lm.test(p)){const g=p[0];m||(f.innerHTML=`${g}<span>${p.slice(1)}</span>`),f.classList.add("mention","hashtag")}}}let h;if(a.includes(":")&&n?.length){h=nr(i);for(const d of h){let u=tr(d.nodeValue);u=Ir(u,n),nn.innerHTML=u,d.replaceWith(...nn.childNodes)}}if(l){const d=[...i.querySelectorAll("p")].filter(u=>um.test(u.innerText.trim()));for(const u of d){const f=document.createElement("pre");for(const p of u.querySelectorAll("br"))p.replaceWith(`
`);f.innerHTML=`<code>${u.innerHTML.trim()}</code>`,u.replaceWith(f)}}if(l){const u=[...i.querySelectorAll("p")].filter(f=>dm.test(f.innerText));for(const f of u){const p=[f];let m=!1,g=f;for(;g.nextElementSibling;){const v=g.nextElementSibling;if(v&&v.tagName==="P")if(hm.test(v.innerText)){p.push(v),m=!0;break}else p.push(v);else break;g=v}if(m){const v=document.createElement("pre");for(const T of p)for(const k of T.querySelectorAll("br"))k.replaceWith(`
`);const b=p.map(T=>T.innerHTML).join(`

`);v.innerHTML=`<code tabindex="0">${b}</code>`,f.replaceWith(v);for(const T of p)T.remove()}}}if(a.includes("`")){h=nr(i);for(const d of h){let u=tr(d.nodeValue);fm.test(u)&&(u=u.replaceAll(vm,"<code>$1</code>")),nn.innerHTML=u,d.replaceWith(...nn.childNodes)}}if(pm.test(a)){h=nr(i,{rejectFilter:["A"]});for(const d of h){let u=tr(d.nodeValue);mm.test(u)&&(u=u.replaceAll(gm,'<a href="https://twitter.com/$2" rel="nofollow noopener" target="_blank">$1</a>')),nn.innerHTML=u,d.replaceWith(...nn.childNodes)}}if(a.includes("#")||a.includes("ï¼ƒ")){let d=null;const u=[...i.querySelectorAll("p")].filter((f,p)=>{let m=0;for(let g=0;g<f.childNodes.length;g++){const v=f.childNodes[g];if(v.nodeType===Node.TEXT_NODE){if(v.textContent.trim()!=="")return!1}else if(v.tagName!=="BR")if(v.tagName==="A"){const b=v.textContent.trim();if(!b||!(b.startsWith("#")||b.startsWith("ï¼ƒ")))return!1;m++}else return!1}if(m>3||m>1&&d&&p===d+1)return d=p,!0});if(u?.length)for(const f of u)f.classList.add("hashtag-stuffing"),f.title=f.innerText}if(a.includes("<img")){const d=i.querySelectorAll("img");for(let u=0;u<d.length;u++){const f=d[u],p=f.getAttribute("width")||f.naturalWidth,m=f.getAttribute("height")||f.naturalHeight;p&&m&&f.style.setProperty("--original-aspect-ratio",`${p}/${m}`)}}for(const d of i.childNodes)if(d.nodeType===Node.TEXT_NODE&&d.textContent.trim?.()){const u=document.createElement("span");u.textContent=d.textContent,i.replaceChild(u,d)}return s&&queueMicrotask(()=>s(i)),r?i:i.innerHTML}const ga=Wt(bm),wm=["STYLE","IMG","VIDEO","AUDIO","AREA","MAP","TRACK","EMBED","IFRAME","OBJECT","PICTURE","PORTAL","SOURCE","SVG","MATH","CANVAS","NOSCRIPT","SCRIPT","INPUT","OPTION","TEXTAREA","SLOT","TEMPLATE"],_m=Object.fromEntries(wm.map(t=>[t,!0])),Tm=/^(https?:\/\/(www\.)?|xmpp:)/,er=30;function Sm(t){if(!(!t||t.querySelector?.("*")))try{const e=t.innerText.trim(),n=(e.match(Tm)||[])[0]||"";if(!n)return;const r=e.slice(n.length,n.length+er),s=e.slice(n.length+er),a=e.slice(n.length).length>er;t.innerHTML=`<span class="invisible">${n}</span><span class=${a?"ellipsis":""}>${r}</span><span class="invisible">${s}</span>`}catch{}}function nr(t,e={}){const n=[],r=Object.assign({},_m,e.rejectFilter?.reduce((i,c)=>(i[c]=!0,i),{})),s=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode(i){return r[i.parentNode.nodeName]?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let a;for(;a=s.nextNode();)n.push(a);return n}const km=window.matchMedia("(hover: hover)").matches;function Em(t){const{mentions:e=[],instance:n,previewMode:r,statusURL:s}=t||{};return a=>{if(a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||a.which===2)return;let{target:i}=a;if(i.closest(".shortcode-emoji")){const{naturalWidth:u,naturalHeight:f,width:p,height:m}=i,g=2;if(u>p*g||f>m*g){a.preventDefault(),a.stopPropagation(),z.showMediaModal={mediaAttachments:[{type:"image",url:i.src,description:i.title||i.alt}]};return}}if(i=i.closest("a"),!i||!a.currentTarget.contains(i))return;const{href:c}=i,l=i.previousSibling?.textContent,h=l?.endsWith("@")||l?.endsWith("ï¼ "),d=i.innerText.startsWith("@")||i.innerText.startsWith("ï¼ ");if((i.classList.contains("u-url")||i.classList.contains("mention"))&&d||h&&!d){const u=(i.querySelector("span")||i).innerText.trim(),f=u.replace(/^[@ï¼ ]/,""),p=e.find(m=>m.url===c)||e.find(m=>m.acct===f||m.username===f);if(p){a.preventDefault(),a.stopPropagation(),z.showAccount={account:p.acct,instance:n};return}else if(!/^http/i.test(u)){a.preventDefault(),a.stopPropagation(),z.showAccount={account:c,instance:n};return}}else if(!r){const u=l?.endsWith("#")||l?.endsWith("ï¼ƒ");if(i.classList.contains("hashtag")||u){a.preventDefault(),a.stopPropagation();const f=i.innerText.replace(/^[#ï¼ƒ]/,"").trim(),p=n?`#/${n}/t/${f}`:`#/t/${f}`;location.hash=p;return}else if(z.unfurledLinks[c]?.url&&s!==c){a.preventDefault(),a.stopPropagation(),z.prevLocation={pathname:location.hash.replace(/^#/,"")},location.hash=`#${z.unfurledLinks[c].url}`;return}}try{const f=URL.parse(c).hostname.replace(/^www\./i,"");if(!i.innerText.toLowerCase().includes(f.toLowerCase())&&!km){a.preventDefault(),a.stopPropagation();const m=i.innerText.trim();z.showOpenLink={url:c,linkText:m}}}catch{}}}function ae(t){try{return Lt.number(t,{notation:"compact",roundingMode:"floor"})}catch{return t}}const Am={"@mastodon/list-exclusive":">=4.2","@gotosocial/list-exclusive":">=0.17","@gotosocial/edit-media-attributes":">=0.18","@mastodon/filtered-notifications":"~4.3 || >=4.3","@mastodon/fetch-multiple-statuses":"~4.3 || >=4.3","@mastodon/trending-link-posts":"~4.3 || >=4.3","@mastodon/annual-report":"~4.4 || >=4.4","@mastodon/endorsements":"~4.4 || >=4.4"},or=/pixelfed/i,de=/^(?!.*pixelfed).*$/i,Cm=/pleroma/i,xm=/akkoma/i;const is={"@mastodon/lists":de,"@mastodon/filters":de,"@mastodon/mentions":de,"@mastodon/trending-hashtags":de,"@mastodon/trending-links":de,"@mastodon/post-bookmark":de,"@mastodon/post-edit":de,"@mastodon/profile-edit":de,"@mastodon/profile-private-note":de,"@mastodon/pinned-posts":de,"@pixelfed/trending":or,"@pixelfed/home-include-reblogs":or,"@pixelfed/global-feed":or,"@pleroma/local-visibility-post":Cm,"@akkoma/local-visibility-post":xm},xn={},Mm=/^\d+\.\d+(\.\d+)?/,Im=/^@([a-z]+)\//i;function oo(t){try{let{version:e,domain:n}=Sc(),r=kc()?.software?.name||"mastodon";r==="hometown"&&(r="mastodon");const s=`${n}-${t}`;if(xn[s])return xn[s];if(is[t])return xn[s]=is[t].test(e);const a=t.match(Im);if(!a){const d=t.replace(/^@/,"");return xn[s]=r===d}const i=Am[t];if(!i)return!1;const l=a[1]===r.toLowerCase();let h=Pi(e,i,{includePrerelease:!0,loose:!0});if(!h)try{h=Pi(e.match(Mm)?.[0],i,{includePrerelease:!0,loose:!1})}catch{}return xn[s]=l&&h}catch{return!1}}function Dy({skeleton:t,account:e,avatarSize:n="xl",useAvatarStatic:r=!1,instance:s,external:a,internal:i,onClick:c,showActivity:l=!1,showStats:h=!1,accountInstance:d,hideDisplayName:u=!1,relationship:f={},excludeRelationshipAttrs:p=[]}){const{_:m}=Kt();if(t)return o("div",{class:"account-block skeleton",children:[o(_e,{size:n}),o("span",{children:[o("b",{children:"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"}),o("br",{}),o("span",{class:"account-block-acct",children:"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"})]})]});if(!e)return null;const{id:g,acct:v,avatar:b,avatarStatic:T,displayName:k,username:E,emojis:_,url:S,statusesCount:A,lastStatusAt:w,bot:I,fields:P,note:L,group:C,followersCount:$,createdAt:R,locked:W,roles:B}=e;let[Y,et,ct]=v.match(/([^@]+)(@.+)/i)||[,v];d&&(ct=`@${d}`);const nt=P?.find(J=>!!J.verifiedAt&&!!J.value),Z={};for(const J in f)p.includes(J)||(Z[J]=f[J]);const st=Z.following||Z.followedBy||Z.requested;return o("a",{class:"account-block",href:S,target:a?"_blank":null,title:ct?v:`@${v}`,onClick:J=>{if(!a){if(J.preventDefault(),c)return c(J);i?location.hash=`/${s}/a/${g}`:z.showAccount={account:e,instance:s}}},children:[o("div",{class:"avatar-container",children:o(_e,{url:r?T:b||T,staticUrl:r?void 0:T,size:n,squircle:I})}),o("span",{class:"account-block-content",children:[!u&&o(F,{children:k?o("b",{children:o(un,{text:k,emojis:_,resolverURL:S})}):o("b",{children:E})})," ",o("span",{class:"account-block-acct bidi-isolate",children:[ct?"":"@",et,o("wbr",{}),ct,W&&o(F,{children:[" ",o(M,{icon:"lock",size:"s",alt:m({id:"G2fuEb"})})]})]}),o(xr,{roles:B,accountUrl:S}),l&&o("div",{class:"account-block-stats",children:[o(x,{id:"ajzDof",values:{0:ae(A)}}),!!w&&o(F,{children:[" ","Â·"," ",o(x,{id:"f8bJ3C",values:{0:Kn(w,{hideTime:!0})}})]})]}),h&&o("div",{class:"account-block-stats",children:[I&&o(F,{children:o("span",{class:"tag collapsed",children:[o(M,{icon:"bot"})," ",o(x,{id:"9Vdq+j"})]})}),!!C&&o(F,{children:o("span",{class:"tag collapsed",children:[o(M,{icon:"group"})," ",o(x,{id:"L8fEEm"})]})}),st&&o("div",{class:"shazam-container-horizontal",children:o("div",{class:"shazam-container-inner",children:Z.following&&Z.followedBy?o("span",{class:"tag minimal",children:o(x,{id:"7oRLbi"})}):Z.requested?o("span",{class:"tag minimal",children:o(x,{id:"Yx0Ud8"})}):Z.following?o("span",{class:"tag minimal",children:o(x,{id:"y6sq5j"})}):Z.followedBy?o("span",{class:"tag minimal",children:o(x,{id:"p3UO/y"})}):null})},f.id),!!$&&o("span",{class:"ib",children:o(x,{id:"Mn1E9C",values:{followersCount:$}})}),!!nt&&o("span",{class:"verified-field",children:[o(M,{icon:"check-circle",size:"s",alt:m({id:"QDEWii"})})," ",o("span",{dangerouslySetInnerHTML:{__html:ga(nt.value,{emojis:_})}})]}),!I&&!C&&!st&&!$&&!nt&&!!R&&o("span",{class:"created-at",children:o(x,{id:"PCcEFZ",values:{0:Kn(R,{hideTime:!0})},components:{0:o("time",{datetime:R})}})})]})]})]})}async function Ry(t,e={}){if(!t?.length)return;const{masto:n}=Ge(),r=qr(),s=t.reduce((a,i)=>(!a.includes(i.id)&&!e[i.id]&&i.id!==r&&a.push(i.id),a),[]);if(!s.length)return null;try{return(await n.v1.accounts.relationships.fetch({id:s})).reduce((c,l)=>(c[l.id]=l,c),{})}catch{return null}}function $y(t,e){return()=>Lt.number(t,{style:"unit",unit:e,unitDisplay:"long"})}const Lm=Object.prototype.toString,Pm=t=>Lm.call(t)==="[object Error]",Dm=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function Rm(t){return t&&Pm(t)&&t.name==="TypeError"&&typeof t.message=="string"?t.message==="Load failed"?t.stack===void 0:Dm.has(t.message):!1}function $m(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function ro(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be â‰¥ ${n}.`)}}class Nm extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function Om(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let s=Math.round(r*e.minTimeout*e.factor**(n-1));return s=Math.min(s,e.maxTimeout),s}function ss(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function Fm({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:s}){const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof Nm)throw a.originalError;const i=Number.isFinite(s.retries)?Math.max(0,s.retries-n):s.retries,c=s.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:i,retriesConsumed:n});if(await s.onFailedAttempt(l),ss(r,c)<=0)throw a;const h=await s.shouldConsumeRetry(l),d=ss(r,c);if(d<=0||i<=0)throw a;if(a instanceof TypeError&&!Rm(a)){if(h)throw a;return s.signal?.throwIfAborted(),!1}if(!await s.shouldRetry(l))throw a;if(!h)return s.signal?.throwIfAborted(),!1;const u=Om(n,s),f=Math.min(u,d);return f>0&&await new Promise((p,m)=>{const g=()=>{clearTimeout(v),s.signal?.removeEventListener("abort",g),m(s.signal.reason)},v=setTimeout(()=>{s.signal?.removeEventListener("abort",g),p()},f);s.unref&&v.unref?.(),s.signal?.addEventListener("abort",g,{once:!0})}),s.signal?.throwIfAborted(),!0}async function Bm(t,e={}){if(e={...e},$m(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??=10,e.factor??=2,e.minTimeout??=1e3,e.maxTimeout??=Number.POSITIVE_INFINITY,e.maxRetryTime??=Number.POSITIVE_INFINITY,e.randomize??=!1,e.onFailedAttempt??=()=>{},e.shouldRetry??=()=>!0,e.shouldConsumeRetry??=()=>!0,ro("factor",e.factor,{min:0,allowInfinity:!1}),ro("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),ro("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),ro("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),e.signal?.throwIfAborted();let n=0,r=0;const s=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{e.signal?.throwIfAborted();const a=await t(n);return e.signal?.throwIfAborted(),a}catch(a){await Fm({error:a,attemptNumber:n,retriesConsumed:r,startTime:s,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}const va="LanguageDetector"in self,zm=va&&"Translator"in self;let We;va&&(async()=>{try{const t=await LanguageDetector.availability();if(t==="unavailable")return;t==="available"?We=await LanguageDetector.create():(We=await LanguageDetector.create({monitor(e){e.addEventListener("downloadprogress",n=>{})}}),await We.ready)}catch{}})();const Hm=async(t,e,n)=>{let r;const s=e;if(e==="auto"){if(!We?.detect)return{error:"No language detector"};try{e=(await We.detect(t))[0].detectedLanguage,r=e}catch(i){return{error:i}}}const a=`ðŸ’¬ BROWSER TRANSLATE ${t}`;console.groupCollapsed(a);try{const i=await Translator.availability({sourceLanguage:e,targetLanguage:n});if(i==="unavailable")return console.groupEnd(a),{error:`Unsupported language pair: ${e} -> ${n}`};let c;i==="available"?c=await Translator.create({sourceLanguage:e,targetLanguage:n}):(c=await Translator.create({sourceLanguage:e,targetLanguage:n,monitor(h){h.addEventListener("downloadprogress",d=>{})}}),await c.ready);const l=await c.translate(t);return console.groupEnd(a),{content:l,detectedSourceLanguage:r,provider:"browser"}}catch(i){return console.groupEnd(a),{error:i}}};var Km=Object.defineProperty,jm=(t,e,n)=>e in t?Km(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mn=(t,e,n)=>jm(t,typeof e!="symbol"?e+"":e,n),Lr=new Map,io=new WeakMap,as=0,Um;function qm(t){return t?(io.has(t)||(as+=1,io.set(t,as.toString())),io.get(t)):"0"}function Wm(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?qm(t.root):t[e]}`).toString()}function Gm(t){const e=Wm(t);let n=Lr.get(e);if(!n){const r=new Map;let s;const a=new IntersectionObserver(i=>{i.forEach(c=>{var l;const h=c.isIntersecting&&s.some(d=>c.intersectionRatio>=d);t.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=h),(l=r.get(c.target))==null||l.forEach(d=>{d(h,c)})})},t);s=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:a,elements:r},Lr.set(e,n)}return n}function ya(t,e,n={},r=Um){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:s,observer:a,elements:i}=Gm(n),c=i.get(t)||[];return i.has(t)||i.set(t,c),c.push(e),a.observe(t),function(){c.splice(c.indexOf(e),1),c.length===0&&(i.delete(t),a.unobserve(t)),i.size===0&&(a.disconnect(),Lr.delete(s))}}function Zm(t){return typeof t.children!="function"}var Ny=class extends zs{constructor(t){super(t),Mn(this,"node",null),Mn(this,"_unobserveCb",null),Mn(this,"lastInView"),Mn(this,"handleNode",e=>{this.node&&(this.unobserve(),!e&&!this.props.triggerOnce&&!this.props.skip&&(this.setState({inView:!!this.props.initialInView,entry:void 0}),this.lastInView=this.props.initialInView)),this.node=e||null,this.observeNode()}),Mn(this,"handleChange",(e,n)=>{const r=this.lastInView;this.lastInView=e,!(r===void 0&&!e)&&(e&&this.props.triggerOnce&&this.unobserve(),Zm(this.props)||this.setState({inView:e,entry:n}),this.props.onChange&&this.props.onChange(e,n))}),this.state={inView:!!t.initialInView,entry:void 0},this.lastInView=t.initialInView}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(t){(t.rootMargin!==this.props.rootMargin||t.root!==this.props.root||t.threshold!==this.props.threshold||t.skip!==this.props.skip||t.trackVisibility!==this.props.trackVisibility||t.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:t,root:e,rootMargin:n,trackVisibility:r,delay:s,fallbackInView:a}=this.props;this.lastInView===void 0&&(this.lastInView=this.props.initialInView),this._unobserveCb=ya(this.node,this.handleChange,{threshold:t,root:e,rootMargin:n,trackVisibility:r,delay:s},a)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:t}=this.props;if(typeof t=="function"){const{inView:p,entry:m}=this.state;return t({inView:p,entry:m,ref:this.handleNode})}const{as:e,triggerOnce:n,threshold:r,root:s,rootMargin:a,onChange:i,skip:c,trackVisibility:l,delay:h,initialInView:d,fallbackInView:u,...f}=this.props;return Ec(e||"div",{ref:this.handleNode,...f},t)}};var cs,ls,Vm=(ls=(cs=Ac)!=null?cs:Te)!=null?ls:q,Ym=(t,{threshold:e,root:n,rootMargin:r,trackVisibility:s,delay:a,triggerOnce:i,skip:c}={})=>{const l=N(t),h=N(null),d=N(void 0),u=N(void 0);return Vm(()=>{l.current=t},[t]),yt(f=>{const p=()=>{if(d.current){const b=d.current;d.current=void 0,b()}};if(f===h.current)return d.current;if(!f||c){p(),h.current=null,u.current=void 0;return}p(),h.current=f;let m=!1;const g=ya(f,(b,T)=>{const k=u.current;u.current=b,!(k===void 0&&!b)&&(l.current(b,T),i&&b&&v())},{threshold:e,root:n,rootMargin:r,trackVisibility:s,delay:a});function v(){m||(m=!0,g(),h.current=null,d.current=void 0,u.current=void 0)}return d.current=v,d.current},[Array.isArray(e)?e.toString():e,n,r,s,a,i,c])};const us=48,rr={};function ba({id:t,children:e}){const n=N(),[r,s]=H(!!rr[t]),a=yt(c=>{c&&n.current&&(n.current.hidden=!1,t&&(rr[t]=!0))},[t]),i=Ym(a,{rootMargin:`-${us}px 0px 0px 0px`,trackVisibility:!0,delay:1e3,triggerOnce:!0,skip:r});return Te(()=>{if(!n.current)return;const c=n.current.getBoundingClientRect();c.bottom>us&&(c.top<window.innerHeight?n.current.hidden=!1:s(!0),t&&(rr[t]=!0))},[]),r?e:o("div",{ref:n,class:"shazam-container no-animation",hidden:!0,children:o("div",{ref:i,class:"shazam-container-inner",children:e})})}const Xm={BASE_URL:"./",DEV:!1,MODE:"production",PHANPY_CLIENT_NAME:"Blaede Phanpy",PHANPY_DEFAULT_INSTANCE:"mastodon.blaede.family",PHANPY_DEFAULT_INSTANCE_REGISTRATION_URL:"https://mastodon.blaede.family/auth/sign_up",PHANPY_GIPHY_API_KEY:"48JGsrSS1XE5w4nWe9c9hqxPbsfRWR0e",PHANPY_LINGVA_INSTANCES:"lingva.phanpy.social lingva.lunar.icu lingva.garudalinux.org translate.plausibility.cloud",PHANPY_PRIVACY_POLICY_URL:"https://mastodon.blaede.family/privacy-policy",PHANPY_TRANSLANG_INSTANCES:"translang.phanpy.social",PHANPY_WEBSITE:"https://phanpy.blaede.family",PROD:!0,SSR:!1,VITE_APP_ENV:"production"},Qm=Object.entries(pa.sl).map(([t,e])=>({code:t,name:e})),{PHANPY_TRANSLANG_INSTANCES:ds}=Xm,Pr=ds?ds.split(/\s+/):[],wa=new Ur({concurrency:1,interval:2e3,intervalCap:1}),_a=1e3*60*60;let ir=0;function Jm(t,e,n){return Bm(()=>{let s=Pr[ir];const a=t.length>2e3;let i;return a?i=fetch(`https://${s}/api/v1/translate`,{method:"POST",priority:"low",referrerPolicy:"no-referrer",headers:{"Content-Type":"application/json"},body:JSON.stringify({sl:e,tl:n,text:t})}):i=fetch(`https://${s}/api/v1/translate?sl=${encodeURIComponent(e)}&tl=${encodeURIComponent(n)}&text=${encodeURIComponent(t)}`,{priority:"low",referrerPolicy:"no-referrer"}),i.then(c=>{if(!c.ok)throw new Error(c.statusText);return c.json()}).then(c=>({provider:"translang",content:c.translated_text,detectedSourceLanguage:c.detected_language,pronunciation:c.pronunciation}))},{retries:3,onFailedAttempt:s=>{ir=(ir+1)%Pr.length}})}const Ta=Co(Jm,{maxAge:_a}),tg=Co(({signal:t,text:e,source:n,target:r})=>wa.add(()=>Ta(e,n,r),{signal:t}),{maxAge:_a}),eg=({text:t,source:e,target:n,signal:r})=>wa.add(()=>Hm(t,e,n),{signal:r});function ng({forceTranslate:t,sourceLanguage:e,onTranslate:n,text:r="",mini:s,autoDetected:a}){const{_:i}=Kt(),c=ma(!0),[l,h]=H("default"),[d,u]=H(null),[f,p]=H(null),[m,g]=H(null),v=N(),b=N(),T=e?Cn(e):null,k=Cn(c),E=N("auto");n||(n=async({text:S,source:A,target:w,signal:I})=>{if(zm){const P=await eg({text:S,source:A,target:w,signal:I});if(P&&!P.error)return P}return s?await tg({signal:I,text:S,source:A,target:w}):await Ta(S,A,w)});const _=async()=>{h("loading");try{const{content:S,detectedSourceLanguage:A,provider:w,error:I,...P}=await n({text:r,source:E.current,target:c,signal:b.current?.signal});if(S){if(A){const L=Cn(A);g(L)}if(w==="translang"){const L=P?.pronunciation;L&&u(L)}p(S),h("default"),!s&&S.trim()!==r.trim()&&v.current&&(v.current.open=!0,v.current.scrollIntoView({behavior:"smooth",block:"nearest"}))}else h("error")}catch(S){S.name!=="AbortError"&&h("error")}};return q(()=>{t&&_()},[t]),q(()=>(b.current=new AbortController,()=>{b.current.abort()}),[]),s?f&&f.trim()!==r.trim()&&m!==k?o(ba,{children:o("div",{class:"status-translation-block-mini",children:[o(M,{icon:"translate",alt:i({id:"zVJKbG",values:{sourceLangText:T}})}),o("output",{lang:c,dir:"auto",title:d||"",children:f})]})}):null:o("div",{class:"status-translation-block",onClick:S=>{S.preventDefault()},children:o("details",{ref:v,children:[o("summary",{children:o("button",{type:"button",class:l==="loading"?"loading-mask":"",onClick:async S=>{S.preventDefault(),S.stopPropagation(),v.current.open=!v.current.open,l!=="loading"&&(f||_())},children:[o(M,{icon:"translate"})," ",o("span",{children:i(l==="loading"?{id:"Zxkt/v"}:e&&T&&!m?a?{id:"R20Yf9",values:{sourceLangText:T}}:{id:"h8zDAI",values:{sourceLangText:T}}:{id:"pi8x/S"})})]})}),o("div",{class:"translated-block",children:[o("div",{class:"translation-info insignificant",children:[o("select",{class:"translated-source-select",disabled:l==="loading",onChange:S=>{E.current=S.target.value,_()},children:Qm.map(S=>{const A=Cn({code:S.code,fallback:S.name}),w=Cn({code:S.code,locale:S.code}),I=w&&A!==w;return o("option",{value:S.code,children:S.code==="auto"?i({id:"Bze3gr",values:{0:m??"â€¦"}}):I?`${w} - ${A}`:A})})})," ",o("span",{children:["â†’ ",k]}),o(bo,{abrupt:!0,hidden:l!=="loading"})]}),l==="error"?o("p",{class:"ui-state",children:o(x,{id:"m5LihO"})}):!!f&&o(F,{children:[o("output",{class:"translated-content",lang:c,dir:"auto",children:f}),!!d&&o("output",{class:"translated-pronunciation-content",tabIndex:-1,onClick:S=>{S.target.classList.toggle("expand")},children:d})]})]})]})})}const og=Pr?.length?ng:()=>null;function ke(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Sa(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=ke(s),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(s,a)=>r().then(i=>a(i.transaction(e,s).objectStore(e)))}let sr;function Ye(){return sr||(sr=Sa("keyval-store","keyval")),sr}function rg(t,e=Ye()){return e("readonly",n=>ke(n.get(t)))}function ig(t,e,n=Ye()){return n("readwrite",r=>(r.put(e,t),ke(r.transaction)))}function sg(t,e=Ye()){return e("readonly",n=>Promise.all(t.map(r=>ke(n.get(r)))))}function ag(t,e=Ye()){return e("readwrite",n=>(n.delete(t),ke(n.transaction)))}function cg(t,e=Ye()){return e("readwrite",n=>(t.forEach(r=>n.delete(r)),ke(n.transaction)))}function lg(t=Ye()){return t("readwrite",e=>(e.clear(),ke(e.transaction)))}function ug(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ke(t.transaction)}function dg(t=Ye()){return t("readonly",e=>{if(e.getAllKeys)return ke(e.getAllKeys());const n=[];return ug(e,r=>n.push(r.key)).then(()=>n)})}function hs(t,e){const n=Sa(t,e);return{set:(r,s)=>ig(r,s,n),get:r=>rg(r,n),getMany:r=>sg(r,n),del:r=>ag(r,n),delMany:r=>cg(r,n),clear:()=>lg(n),keys:()=>dg(n)}}const Oy={drafts:hs("drafts-db","drafts-store"),catchup:hs("catchup-db","catchup-store")},ka=ce({}),hg=!!document.startViewTransition;function Fy({children:t,statusID:e}){const n=N([]),[r,s]=H(!1),[a,i]=H(0);function c(p){p!==a&&(hg?document.startViewTransition(()=>{i(p)}):i(p))}async function l(){const{masto:p}=Ge(),m=await p.v1.statuses.$select(e).history.list();m.sort((g,v)=>Date.parse(v.createdAt)-Date.parse(g.createdAt)),n.current=m}async function h(){try{await l(),s(!0),c(0)}catch{s(!1)}}function d(){n.current=[],s(!1),c(0)}function u(){c(p=>Math.min(p+1,n.current.length-1))}function f(){c(p=>Math.max(p-1,0))}return o(ka.Provider,{value:{editHistoryRef:n,initEditHistory:h,exitEditHistory:d,editHistoryMode:r,editedAtIndex:a,prevEditedAt:u,nextEditedAt:f},children:t})}function fg(){return It(ka)}const oi=ce();function pg(t,e){if(!t?.length)return!1;const n=t.filter(i=>{const{filter:c}=i,l=c.context.includes(e);return l?c.expiresAt?Date.parse(c.expiresAt)>Date.now():l:!1});if(!n.length)return!1;if(n.some(i=>i.filter.filterAction==="hide"))return{action:"hide"};if(n.every(i=>i.filter.filterAction==="blur")){const i=n.map(c=>c.filter.title);return{action:"blur",titles:i,titlesStr:i.join(" â€¢ ")}}if(n.some(i=>!!i.filter.filterAction)){const i=n.map(c=>c.filter.title);return{action:"warn",titles:i,titlesStr:i.join(" â€¢ ")}}return!1}const Io=Wt(pg);function mg(t,e,n){const{filtered:r}=t;if(!r?.length||n&&t.account?.id===n)return!0;const a=Io(r,e);return a?a.action!=="hide":!0}function By(t,e){if(!t?.length)return[];if(!e)return t;const n=qr();return t.filter(r=>mg(r,e,n))}const so=document.createElement("template");function gg(t){if(!t)return 0;so.innerHTML=t;const e=so.content.querySelectorAll(".invisible");for(let r=0;r<e.length;r++)e[r].remove();let n="";for(let r=0;r<so.content.childNodes.length;r++){const s=so.content.childNodes[r];n+=s.innerText||s.textContent||""}return n.length}const Dr="speechSynthesis"in window;function vg(t,e){if(Dr)try{speechSynthesis.speaking&&speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(t);e&&(n.lang=e),speechSynthesis.speak(n)}catch(n){alert(n)}}function yg(t,e,n,r){var s=this,a=N(null),i=N(0),c=N(0),l=N(null),h=N([]),d=N(),u=N(),f=N(t),p=N(!0);f.current=t;var m=typeof window<"u",g=!e&&e!==0&&m;if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0;var v=!!(n=n||{}).leading,b=!("trailing"in n)||!!n.trailing,T="maxWait"in n,k="debounceOnServer"in n&&!!n.debounceOnServer,E=T?Math.max(+n.maxWait||0,e):null;q(function(){return p.current=!0,function(){p.current=!1}},[]);var _=it(function(){var S=function($){var R=h.current,W=d.current;return h.current=d.current=null,i.current=$,c.current=c.current||$,u.current=f.current.apply(W,R)},A=function($,R){g&&cancelAnimationFrame(l.current),l.current=g?requestAnimationFrame($):setTimeout($,R)},w=function($){if(!p.current)return!1;var R=$-a.current;return!a.current||R>=e||R<0||T&&$-i.current>=E},I=function($){return l.current=null,b&&h.current?S($):(h.current=d.current=null,u.current)},P=function $(){var R=Date.now();if(v&&c.current===i.current&&L(),w(R))return I(R);if(p.current){var W=e-(R-a.current),B=T?Math.min(W,E-(R-i.current)):W;A($,B)}},L=function(){r&&r({})},C=function(){if(m||k){var $=Date.now(),R=w($);if(h.current=[].slice.call(arguments),d.current=s,a.current=$,R){if(!l.current&&p.current)return i.current=a.current,A(P,e),v?S(a.current):u.current;if(T)return A(P,e),S(a.current)}return l.current||A(P,e),u.current}};return C.cancel=function(){var $=l.current;$&&(g?cancelAnimationFrame(l.current):clearTimeout(l.current)),i.current=0,h.current=a.current=d.current=l.current=null,$&&r&&r({})},C.isPending=function(){return!!l.current},C.flush=function(){return l.current?I(Date.now()):u.current},C},[v,T,e,E,b,g,m,k,r]);return _}function bg(t,e,n){var r=n===void 0?{}:n,s=r.leading,a=r.trailing;return yg(t,e,{maxWait:e,leading:s===void 0||s,trailing:a===void 0||a})}function wg(t,e){var n=N(null),r=N(null);r.current=e;var s=N(null);q(function(){a()});var a=yt(function(){var i=s.current,c=r.current,l=i||(c?c instanceof Element?c:c.current:null);n.current&&n.current.element===l&&n.current.subscriber===t||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:l,subscriber:t,cleanup:l?t(l):void 0})},[t]);return q(function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}},[]),yt(function(i){s.current=i,a()},[a])}function fs(t,e,n){return t[e]?t[e][0]?t[e][0][n]:t[e][n]:e==="contentBoxSize"?t.contentRect[n==="inlineSize"?"width":"height"]:void 0}function _g(t){t===void 0&&(t={});var e=t.onResize,n=N(void 0);n.current=e;var r=t.round||Math.round,s=N(),a=H({width:void 0,height:void 0}),i=a[0],c=a[1],l=N(!1);q(function(){return l.current=!1,function(){l.current=!0}},[]);var h=N({width:void 0,height:void 0}),d=wg(yt(function(u){return(!s.current||s.current.box!==t.box||s.current.round!==r)&&(s.current={box:t.box,round:r,instance:new ResizeObserver(function(f){var p=f[0],m=t.box==="border-box"?"borderBoxSize":t.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",g=fs(p,m,"inlineSize"),v=fs(p,m,"blockSize"),b=g?r(g):void 0,T=v?r(v):void 0;if(h.current.width!==b||h.current.height!==T){var k={width:b,height:T};h.current.width=b,h.current.height=T,n.current?n.current(k):l.current||c(k)}})}),s.current.instance.observe(u,{box:t.box}),function(){s.current&&s.current.instance.unobserve(u)}},[t.box,r]),t.ref);return it(function(){return{ref:d,width:i.width,height:i.height}},[d,i.width,i.height])}function Tg(t={}){const e=bg(t.onResize,300);return _g({...t,onResize:e})}function On({className:t="truncated"}={}){const e=N();return Tg({ref:e,box:"border-box",onResize:({height:r})=>{if(e.current){const{scrollHeight:s}=e.current;let a=s>r;if(a){const{height:i,maxHeight:c}=getComputedStyle(e.current),l=parseInt(c||i,10);a=s>l}e.current.classList.toggle(t,a)}}}),e}const Fn={public:"earth",unlisted:"group",private:"lock",direct:"message",local:"building"},qe={public:{id:"7d1a0d"},local:{id:"d5zxa4"},unlisted:{id:"pPYeIN"},private:{id:"x5LEuB"},direct:{id:"IV4QaU"}},Sg=["\\\\\\[[\\s\\S]*?\\\\\\]","\\\\\\([\\s\\S]*?\\\\\\)"],ps=new RegExp(Sg.join("|"),"g");function kg(t){const e=["\\\\\\[","\\\\\\("],n=new RegExp(`(${e.join("|")})`),r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),s=[];let a;for(;a=r.nextNode();)s.push(a);for(const i of s){const c=i.textContent,l=c.match(n);if(!l)continue;const d=l[0]==="\\["?"\\]":"\\)",u=[i];let f=i,p=!1,m=c;if(c.includes(d))p=!0;else for(;f.nextSibling&&!p;){const g=f.nextSibling;if(g.nodeType===Node.TEXT_NODE)u.push(g),m+=g.textContent,g.textContent.includes(d)&&(p=!0);else if(g.nodeType===Node.ELEMENT_NODE&&g.tagName==="BR")u.push(g),m+=`
`;else break;f=g}if(p&&u.length>1){i.textContent=m;for(let g=1;g<u.length;g++)u[g].remove()}}}const Eg=({content:t,contentRef:e,onRevert:n})=>{if(ps.lastIndex=0,!ps.test(t))return null;const{_:s}=Kt(),[a,i]=H(!1),c=yt(async l=>{if(l.preventDefault(),l.stopPropagation(),a)i(!1),n();else try{const h=window.temml||(window.temml=(await Hs(async()=>{const{default:p}=await import("./temml-Dns96zBN.js");return{default:p}},[],import.meta.url))?.default);kg(e.current);const d=e.current.innerHTML;h.renderMathInElement(e.current,{fences:"(",annotate:!0,throwOnError:!0,errorCallback:p=>{}});const u=e.current.querySelector("math"),f=e.current.innerHTML!==d;u&&f?i(!0):(ht(s({id:"HBIZeo"})),i(!1),n())}catch{}},[a]);return o("div",{class:"math-block",children:[o(M,{icon:"formula",size:"s"})," ",o("span",{children:s({id:"/nf2x7"})})," ",o("button",{type:"button",class:"light small",onClick:c,children:s(a?{id:"AJqQb+"}:{id:"dP6iYK"})})]})},Ea=new Uint8Array(128);for(let t=0;t<83;t++)Ea["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~".charCodeAt(t)]=t;const go=(t,e,n)=>{let r=0;for(;e<n;)r*=83,r+=Ea[t.charCodeAt(e++)];return r},Aa=Math.pow,jn=Math.PI,Ag=jn*2,Ca=3294.6,xa=269.025,Cg=t=>t>10.31475?Aa(t/xa+.052132,2.4):t/Ca,ar=t=>~~(t>1227e-8?xa*Aa(t,.416666)-13.025:t*Ca+1),Bn=t=>(t<0?-1:1)*t*t,ms=t=>{for(t+=jn/2;t>jn;)t-=Ag;const e=1.27323954*t-.405284735*Bn(t);return .225*(Bn(e)-e)+e};function ri(t){const e=go(t,2,6);return[e>>16,e>>8&255,e&255]}function xg(t,e,n,r){const s=go(t,0,1),a=s%9+1,i=~~(s/9)+1,c=a*i;let l=0,h=0,d=0,u=0,f=0,p=0,m=0,g=0,v=0,b=0,T=0,k=0;const E=(go(t,1,2)+1)/13446*(r|1),_=new Float64Array(c*3),S=ri(t);for(l=0;l<3;l++)_[l]=Cg(S[l]);for(l=1;l<c;l++)k=go(t,4+l*2,6+l*2),_[l*3]=Bn(~~(k/361)-9)*E,_[l*3+1]=Bn(~~(k/19)%19-9)*E,_[l*3+2]=Bn(k%19-9)*E;const A=new Float64Array(i*n),w=new Float64Array(a*e);for(h=0;h<i;h++)for(u=0;u<n;u++)A[h*n+u]=ms(jn*u*h/n);for(l=0;l<a;l++)for(d=0;d<e;d++)w[l*e+d]=ms(jn*d*l/e);const I=e*4,P=new Uint8ClampedArray(I*n);for(u=0;u<n;u++)for(d=0;d<e;d++){for(f=p=m=0,h=0;h<i;h++)for(v=A[h*n+u],l=0;l<a;l++)g=w[l*e+d]*v,b=(l+h*a)*3,f+=_[b]*g,p+=_[b+1]*g,m+=_[b+2]*g;T=4*d+u*I,P[T]=ar(f),P[T+1]=ar(p),P[T+2]=ar(m),P[T+3]=255}return P}var Ma="kvfysmfp",Ia="ufhsfnkm",Mg=".".concat(Ma,"{overflow:hidden;touch-action:none}.").concat(Ia,"{transform-origin: 0 0}"),Ig=typeof window>"u",Lg=function(){return!Ig&&("ontouchstart"in window||navigator.maxTouchPoints>0)};var Pg=function(t){var e=t.x,n=t.y,r=t.scale;return"scale3d(".concat(r,",").concat(r,", 1) translate3d(").concat(e,"px, ").concat(n,"px, 0)")};var Dg=Math.min,Rg=Math.max;function gs(t){var e=t.containerDimension,n=t.childDimension,r=t.padding,s=t.centerContained,a=n-e;return a+2*r<=0&&s?[a/2,a/2]:[Dg(a+r,0)-r,Rg(0,a+r)]}var vs=function(t,e){return e?"".concat(t," ").concat(e):t},ao=Math.abs,$g=Math.min,Ng=Math.sqrt,La=typeof window>"u",Og=La?!1:/(Mac)/i.test(navigator.platform),on=function(t){return t==="drag"},In=function(t){return t==="zoom"},Fg=function(t){return Og&&t.ctrlKey},Ln=function(t){t.stopPropagation(),t.preventDefault()},ys=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Ng(n*n+r*r)},Bg=function(t,e){var n=ys(t[0],t[1]),r=ys(e[0],e[1]);return r/n},zg=function(t,e){return t>e-.01&&t<e+.01},Hg=function(t){return-Math.cos(t*Math.PI)/2+.5},Kg=function(t){return{x:t.pageX,y:t.pageY}},co=function(t){return Array.from(t).map(Kg)},bs=function(t,e){return t+e},jg=function(t){return{x:t.map(function(e){var n=e.x;return n}).reduce(bs,0)/t.length,y:t.map(function(e){var n=e.y;return n}).reduce(bs,0)/t.length}},cr=function(t,e,n){return n<t?t:n>e?e:n},Ug=function(t){return!(t.ctrlKey||t.metaKey)},qg=function(t){if(t){var e=t.offsetWidth,n=t.offsetHeight;if(e&&n)return{width:e,height:n};var r=getComputedStyle(t),s=parseFloat(r.width),a=parseFloat(r.height);if(a&&s)return{width:s,height:a}}return{width:0,height:0}},Wg=function(t,e){return{x:e.x-t.x,y:e.y-t.y}},Gg=function(t,e){return t.x===e.x&&t.y===e.y},ze=function(){},lo={x:0,y:0},ws=function(t){Cc(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._prevDragMovePoint=null,n._containerObserver=null,n._fingers=0,n._firstMove=!0,n._initialOffset=Bt({},lo),n._interaction=null,n._isDoubleTap=!1,n._isOffsetsSet=!1,n._lastDragPosition=null,n._lastScale=1,n._lastTouchStart=0,n._lastZoomCenter=null,n._listenMouseMove=!1,n._nthZoom=0,n._offset=Bt({},lo),n._startOffset=Bt({},lo),n._startTouches=null,n._updatePlaned=!1,n._wheelTimeOut=null,n._zoomFactor=1,n._initialZoomFactor=1,n._draggingPoint=Bt({},lo),n._ignoreNextClick=!1,n._containerRef=xc(),n._handleClick=function(r){n._ignoreNextClick&&(n._ignoreNextClick=!1,r.stopPropagation())},n._onResize=function(){var r;!((r=n._containerRef)===null||r===void 0)&&r.current&&(n._updateInitialZoomFactor(),n._setupOffsets(),n._update())},n._handlerOnTouchEnd=n._handlerIfEnable(function(r){n._fingers=r.touches.length,n.props.shouldCancelHandledTouchEndEvents&&(In(n._interaction)||on(n._interaction)&&(n._startOffset.x!==n._offset.x||n._startOffset.y!==n._offset.y))&&Ln(r),on(n._interaction)&&!n._enoughToDrag()&&n._handleClick(r),n._updateInteraction(r)}),n._handlerOnTouchStart=n._handlerIfEnable(function(r){n._firstMove=!0,n._fingers=r.touches.length,n._detectDoubleTap(r)}),n._handlerOnTouchMove=n._handlerIfEnable(function(r){n._isDoubleTap||(n._collectInertia(r),n._firstMove?(n._updateInteraction(r),n._interaction&&Ln(r),n._startOffset=Bt({},n._offset),n._startTouches=co(r.touches)):(In(n._interaction)?n._startTouches&&n._startTouches.length===2&&r.touches.length===2&&n._handleZoom(r,Bg(n._startTouches,co(r.touches))):on(n._interaction)&&n._handleDrag(r),n._interaction&&(Ln(r),n._update())),n._firstMove=!1)}),n._handlerWheel=function(r){if(!n.props.shouldInterceptWheel(r)){Ln(r);var s=r.pageX,a=r.pageY,i=r.deltaY,c=r.deltaMode,l=1;(Fg(r)||c===1)&&(l=15);var h={touches:[{pageX:s,pageY:a}]},d=n._getOffsetByFirstTouch(h),u=i*l;n._stopAnimation(),n._scaleTo(n._zoomFactor-u/n.props.wheelScaleFactor,d),n._update(),clearTimeout(n._wheelTimeOut),n._wheelTimeOut=setTimeout(function(){return n._sanitize()},100)}},n._handlers=n.props.isTouch()?[["touchstart",n._handlerOnTouchStart],["touchend",n._handlerOnTouchEnd],["touchmove",n._handlerOnTouchMove]]:[["mousemove",n.simulate(n._handlerOnTouchMove),n.props._document],["mouseup",n.simulate(n._handlerOnTouchEnd),n.props._document],["mousedown",n.simulate(n._handlerOnTouchStart)],["click",n._handleClick],["wheel",n._handlerWheel]],n}return e.prototype._handleDragStart=function(n){this._ignoreNextClick=!0,this.props.onDragStart(),this._stopAnimation(),this._resetInertia(),this._lastDragPosition=null,this._hasInteraction=!0,this._draggingPoint=this._offset,this._handleDrag(n)},e.prototype._handleDrag=function(n){var r=this._getOffsetByFirstTouch(n);this._enoughToDrag()?this._drag(r,this._lastDragPosition):this._virtualDrag(r,this._lastDragPosition),this._offset=this._sanitizeOffset(this._offset),this._lastDragPosition=r},e.prototype._resetInertia=function(){this._velocity=null,this._prevDragMovePoint=null},e.prototype._realizeInertia=function(){var n=this,r=this.props,s=r.inertiaFriction,a=r.inertia;if(!(!a||!this._velocity)){var i=this._velocity,c=i.x,l=i.y;if(c||l){this._stopAnimation(),this._resetInertia();var h=function(){if(c*=s,l*=s,!c&&!l)return n._stopAnimation();var d=Bt({},n._offset);if(n._addOffset({x:c,y:l}),n._offset=n._sanitizeOffset(n._offset),Gg(d,n._offset))return n._stopAnimation();n._update({isAnimation:!0})};this._animate(h,{duration:9999})}}},e.prototype._collectInertia=function(n){var r=n.touches;if(this.props.inertia){var s=co(r)[0],a=this._prevDragMovePoint;a&&(this._velocity=Wg(s,a)),this._prevDragMovePoint=s}},e.prototype._handleDragEnd=function(){this.props.onDragEnd(),this._end(),this._realizeInertia()},e.prototype._handleZoomStart=function(){this.props.onZoomStart(),this._stopAnimation(),this._lastScale=1,this._nthZoom=0,this._lastZoomCenter=null,this._hasInteraction=!0},e.prototype._handleZoom=function(n,r){var s=jg(this._getOffsetTouches(n)),a=r/this._lastScale;this._lastScale=r,this._nthZoom+=1,this._nthZoom>3&&(this._scale(a,s),this._drag(s,this._lastZoomCenter),this.props.enforceBoundsDuringZoom&&(this._offset=this._sanitizeOffset(this._offset))),this._lastZoomCenter=s},e.prototype._handleZoomEnd=function(){this.props.onZoomEnd(),this._end()},e.prototype._handleDoubleTap=function(n){var r=this;if(!(this._hasInteraction||this.props.tapZoomFactor===0)){var s=this.props.doubleTapZoomOutOnMaxScale&&this._zoomFactor===this.props.maxZoom||this.props.doubleTapToggleZoom&&this._zoomFactor>1;this.props.onDoubleTap(),this._ignoreNextClick=!0;var a=this._zoomFactor+this.props.tapZoomFactor,i=this._zoomFactor,c=function(h){r._scaleTo(i+h*(a-i),l)},l=this._getOffsetByFirstTouch(n);this._isDoubleTap=!0,i>a&&(l=this._getCurrentZoomCenter()),s?this._zoomOutAnimation():this._animate(c)}},e.prototype._computeInitialOffset=function(){var n=this._getContainerRect(),r=this._getChildSize(),s=r.width,a=r.height,i=-ao(s*this._getInitialZoomFactor()-n.width)/2,c=-ao(a*this._getInitialZoomFactor()-n.height)/2;this._initialOffset={x:i,y:c}},e.prototype._resetOffset=function(){this._offset=Bt({},this._initialOffset)},e.prototype._setupOffsets=function(){this.props.setOffsetsOnce&&this._isOffsetsSet||(this._isOffsetsSet=!0,this._computeInitialOffset(),this._resetOffset())},e.prototype._sanitizeOffset=function(n){var r=this._getContainerRect(),s=this._getChildSize(),a=s.width,i=s.height,c=a*this._getInitialZoomFactor()*this._zoomFactor,l=i*this._getInitialZoomFactor()*this._zoomFactor,h=gs({containerDimension:r.width,childDimension:c,padding:this.props.horizontalPadding,centerContained:this.props.centerContained}),d=h[0],u=h[1],f=gs({containerDimension:r.height,childDimension:l,padding:this.props.verticalPadding,centerContained:this.props.centerContained}),p=f[0],m=f[1];return{x:cr(d,u,n.x),y:cr(p,m,n.y)}},e.prototype.alignCenter=function(n){var r=this,s=Bt({duration:250,animated:!0},n),a=s.x,i=s.y,c=s.scale,l=s.animated,h=s.duration,d=a*this._initialZoomFactor,u=i*this._initialZoomFactor,f=this._zoomFactor,p=Bt({},this._offset),m=this._getContainerRect(),g={x:m.width/2,y:m.height/2};if(this._zoomFactor=1,this._offset={x:-(g.x-d),y:-(g.y-u)},this._scaleTo(c,g),this._stopAnimation(),!l)return this._update();var v=this._zoomFactor-f,b={x:this._offset.x-p.x,y:this._offset.y-p.y};this._zoomFactor=f,this._offset=Bt({},p);var T=function(k){var E=p.x+b.x*k,_=p.y+b.y*k;r._zoomFactor=f+v*k,r._offset=r._sanitizeOffset({x:E,y:_}),r._update()};this._animate(T,{callback:function(){return r._sanitize()},duration:h})},e.prototype.scaleTo=function(n){var r=this,s=Bt({duration:250,animated:!0},n),a=s.x,i=s.y,c=s.scale,l=s.animated,h=s.duration,d=this._zoomFactor,u=Bt({},this._offset);if(this._zoomFactor=1,this._offset={x:0,y:0},this._scaleTo(c,{x:a,y:i}),this._stopAnimation(),!l)return this._update();var f=this._zoomFactor-d,p={x:this._offset.x-u.x,y:this._offset.y-u.y};this._zoomFactor=d,this._offset=Bt({},u);var m=function(g){var v=u.x+p.x*g,b=u.y+p.y*g;r._zoomFactor=d+f*g,r._offset={x:v,y:b},r._update()};this._animate(m,{callback:function(){return r._sanitize()},duration:h})},e.prototype._scaleTo=function(n,r){this._scale(n/this._zoomFactor,r),this._offset=this._sanitizeOffset(this._offset)},e.prototype._scale=function(n,r){n=this._scaleZoomFactor(n),this._addOffset({x:(n-1)*(r.x+this._offset.x),y:(n-1)*(r.y+this._offset.y)}),this.props.onZoomUpdate()},e.prototype._scaleZoomFactor=function(n){var r=this._zoomFactor;return this._zoomFactor*=n,this._zoomFactor=cr(this.props.minZoom,this.props.maxZoom,this._zoomFactor),this._zoomFactor/r},e.prototype._canDrag=function(){return this.props.draggableUnZoomed||!zg(this._zoomFactor,1)},e.prototype._drag=function(n,r){if(r){var s=-(n.y-r.y),a=-(n.x-r.x);this.props.lockDragAxis?ao(a)>ao(s)?this._addOffset({x:a,y:0}):this._addOffset({y:s,x:0}):this._addOffset({x:a,y:s}),this.props.onDragUpdate()}},e.prototype._virtualDrag=function(n,r){if(r){var s=-(n.y-r.y),a=-(n.x-r.x);this._draggingPoint={x:a+this._draggingPoint.x,y:s+this._draggingPoint.y}}},e.prototype._addOffset=function(n){var r=this._offset,s=r.x,a=r.y;this._offset={x:s+n.x,y:a+n.y}},e.prototype._sanitize=function(){this._zoomFactor<this.props.zoomOutFactor?(this._resetInertia(),this._zoomOutAnimation()):this._isInsaneOffset()&&this._sanitizeOffsetAnimation()},e.prototype._isInsaneOffset=function(){var n=this._offset,r=this._sanitizeOffset(n);return r.x!==n.x||r.y!==n.y},e.prototype._sanitizeOffsetAnimation=function(){var n=this,r=this._sanitizeOffset(this._offset),s=Bt({},this._offset),a=function(i){var c=s.x+i*(r.x-s.x),l=s.y+i*(r.y-s.y);n._offset={x:c,y:l},n._update()};this._animate(a)},e.prototype._zoomOutAnimation=function(){var n=this;if(this._zoomFactor!==1){var r=this._zoomFactor,s=1,a=this._getCurrentZoomCenter(),i=function(c){var l=r+c*(s-r);n._scaleTo(l,a)};this._animate(i)}},e.prototype._getInitialZoomFactor=function(){return this._initialZoomFactor},e.prototype._getCurrentZoomCenter=function(){var n=this._offset,r=n.x,s=n.y,a=r-this._initialOffset.x,i=s-this._initialOffset.y;return{x:-1*r-a/(1/this._zoomFactor-1),y:-1*s-i/(1/this._zoomFactor-1)}},e.prototype._getOffsetByFirstTouch=function(n){return this._getOffsetTouches(n)[0]},e.prototype._getOffsetTouches=function(n){var r=this.props._document,s=r.documentElement,a=r.body,i=this._getContainerRect(),c=i.top,l=i.left,h=s.scrollTop||a.scrollTop,d=s.scrollLeft||a.scrollLeft,u=c+h,f=l+d;return co(n.touches).map(function(p){var m=p.x,g=p.y;return{x:m-f,y:g-u}})},e.prototype._animate=function(n,r){var s=this,a=new Date().getTime(),i=Bt({timeFn:Hg,callback:function(){},duration:this.props.animationDuration},r),c=i.timeFn,l=i.callback,h=i.duration,d=function(){if(s._inAnimation){var u=new Date().getTime()-a,f=u/h;u>=h?(n(1),s._stopAnimation(),l(),s._update()):(f=c(f),n(f),s._update({isAnimation:!0}),requestAnimationFrame(d))}};this._inAnimation=!0,requestAnimationFrame(d)},e.prototype._stopAnimation=function(){this._inAnimation=!1},e.prototype._end=function(){this._hasInteraction=!1,this._sanitize(),this._update()},e.prototype._getContainerRect=function(){var n=this._containerRef.current;return n.getBoundingClientRect()},e.prototype._getChildSize=function(){var n=this._containerRef.current;return qg(n?.firstElementChild)},e.prototype._updateInitialZoomFactor=function(){var n=this._getContainerRect(),r=this._getChildSize(),s=n.width/r.width,a=n.height/r.height;this._initialZoomFactor=$g(s,a)},e.prototype._bindEvents=function(){var n=this,r=this._containerRef.current;window.ResizeObserver?(this._containerObserver=new ResizeObserver(this._onResize),this._containerObserver.observe(r)):window.addEventListener("resize",this._onResize),this._handlers.forEach(function(s){var a=s[0],i=s[1],c=s[2];(c||r).addEventListener(a,i,!0)}),Array.from(r.querySelectorAll("img")).forEach(function(s){return s.addEventListener("load",n._onResize)})},e.prototype._unSubscribe=function(){var n=this,r=this._containerRef.current;this._containerObserver&&(this._containerObserver.disconnect(),this._containerObserver=null),window.removeEventListener("resize",this._onResize),this._handlers.forEach(function(s){var a=s[0],i=s[1],c=s[2];(c||r).removeEventListener(a,i,!0)}),Array.from(r.querySelectorAll("img")).forEach(function(s){return s.removeEventListener("load",n._onResize)})},e.prototype._update=function(n){var r=this;if(!this._updatePlaned){var s=function(){var a=r._getInitialZoomFactor()*r._zoomFactor,i=-r._offset.x/a,c=-r._offset.y/a;r.props.onUpdate({scale:a,x:i,y:c})};if(n?.isAnimation)return s();this._updatePlaned=!0,requestAnimationFrame(function(){r._updatePlaned=!1,s()})}},e.prototype._handlerIfEnable=function(n){var r=this;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];r.props.enabled&&n.apply(void 0,s)}},e.prototype._setInteraction=function(n,r){var s=this._interaction;s!==n&&(s&&!n&&(In(s)?this._handleZoomEnd():on(s)&&this._handleDragEnd()),In(n)?this._handleZoomStart():on(n)&&this._handleDragStart(r)),this._interaction=n},e.prototype._distanceBetweenNumbers=function(n,r){return n>r?n-r:r-n},e.prototype._enoughToDrag=function(){return this._distanceBetweenNumbers(this._startOffset.x,this._draggingPoint.x)>5||this._distanceBetweenNumbers(this._startOffset.y,this._draggingPoint.y)>5},e.prototype._updateInteraction=function(n){var r=this._fingers;if(r===2)return this._setInteraction("zoom",n);if(r===1&&this._canDrag())return this._setInteraction("drag",n);this._setInteraction(null,n)},e.prototype._detectDoubleTap=function(n){var r=new Date().getTime();this._fingers>1&&(this._lastTouchStart=0),r-this._lastTouchStart<300?(Ln(n),this._handleDoubleTap(n),In(this._interaction)?this._handleZoomEnd():on(this._interaction)&&this._handleDragEnd()):this._isDoubleTap=!1,this._fingers===1&&(this._lastTouchStart=r)},e.prototype.simulate=function(n){var r=this;return function(s){var a=s.pageX,i=s.pageY,c=s.type,l=c==="mouseup",h=c==="mousedown";h&&(s.preventDefault(),r._listenMouseMove=!0),r._listenMouseMove&&(s.touches=l?[]:[{pageX:a,pageY:i}],n(s)),l&&(r._listenMouseMove=!1)}},e.prototype.componentDidMount=function(){this._bindEvents(),this._update()},e.prototype.componentWillUnmount=function(){this._stopAnimation(),this._unSubscribe()},e.prototype.render=function(){var n=this.props,r=n.children,s=n.containerProps,a=n.nonce,i=Mc.only(r),c=s||{};return Jn.createElement(Jn.Fragment,null,Jn.createElement("style",{nonce:a},Mg),Jn.createElement("div",Bt({},c,{ref:this._containerRef,className:vs(Ma,c.className)}),Fs(i,{className:vs(Ia,i.props.className)})))},e.defaultProps={animationDuration:250,draggableUnZoomed:!0,enforceBoundsDuringZoom:!1,centerContained:!1,enabled:!0,inertia:!0,inertiaFriction:.96,horizontalPadding:0,isTouch:Lg,lockDragAxis:!1,maxZoom:5,minZoom:.5,onDoubleTap:ze,onDragEnd:ze,onDragStart:ze,onDragUpdate:ze,onZoomEnd:ze,onZoomStart:ze,onZoomUpdate:ze,setOffsetsOnce:!1,shouldInterceptWheel:Ug,shouldCancelHandledTouchEndEvents:!1,tapZoomFactor:1,verticalPadding:0,wheelScaleFactor:1500,zoomOutFactor:1.3,doubleTapZoomOutOnMaxScale:!1,doubleTapToggleZoom:!1,_document:La?null:window.document},e}(zs);if(0)var zy,Hy,Ky,jy,Uy,qy,Wy,Gy;function lr(t){if(!t)return;let e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=Math.round(t%60);return e===0?`${n}:${r.toString().padStart(2,"0")}`:`${e}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}const Zg=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Vg="ALT",ur=t=>{const{_:e}=Kt(),{alt:n,lang:r,index:s,...a}=t;return!n||!n.trim()?null:o("button",{type:"button",class:"alt-badge clickable",...a,onClick:i=>{i.stopPropagation(),i.preventDefault(),z.showMediaAlt={alt:n,lang:r}},title:e({id:"5gfDMm"}),children:[Vg,!!s&&o("sup",{children:s})]})},Yg=140,Xg=280,Pa=Wt(t=>t?.length?t.length>Yg||/[\n\r].*[\n\r]/.test(t.trim()):!1);function Qg({class:t="",media:e,to:n,lang:r,showOriginal:s,autoAnimate:a,showCaption:i,allowLongerCaption:c,altIndex:l,checkAspectRatio:h=!0,onClick:d}){let{id:u,blurhash:f,description:p,meta:m,previewRemoteUrl:g,previewUrl:v,remoteUrl:b,url:T,type:k}=e;/no\-preview\./i.test(v)&&(v=null);const E=Jg(u||f||T),{original:_={},small:S,focus:A}=m||{},w=s?_?.width:S?.width||_?.width,I=s?_?.height:S?.height||_?.height,P=s?T:v||T,L=s?b:g||b,C=S?.width&&S?.height,R=w&&I?w>I?"landscape":"portrait":null,W=f?ri(f):null,B=N();let Y;if(A){const O=(A.x+1)/2*100,V=(1-A.y)/2*100;Y=`${O.toFixed(0)}% ${V.toFixed(0)}%`}const et=N(),ct=yt(({x:O,y:V,scale:U})=>{const{current:wt}=et;if(wt){const Mt=Pg({x:O,y:V,scale:U});U===1?wt.style.removeProperty("transform"):wt.style.setProperty("transform",Mt),wt.closest(".media-zoom").style.touchAction=U<=1.01?"pan-x":""}},[]),[nt,Z]=H(!1),st={enabled:nt,draggableUnZoomed:!1,inertiaFriction:.9,tapZoomFactor:2,doubleTapToggleZoom:!0,containerProps:{className:"media-zoom",style:{overflow:"visible"}},onUpdate:ct},[J,St]=H(!1),Pt=it(()=>n&&!J?O=>o(Ze,{to:n,...O}):"div",[n,J]),$t=L?_s(L):null,dt=k==="unknown"&&$t&&/\.(mp4|m4r|m4v|mov|webm)$/i.test($t.pathname),le=k==="unknown"&&$t&&/\.(mp3|ogg|wav|m4a|m4p|m4b)$/i.test($t.pathname),ne=k==="image"||k==="unknown"&&v&&!dt&&!le,oe=v&&/\.(mp4|m4r|m4v|mov|webm)$/i.test(_s(v).pathname),K=N(),[ft,Dt]=H(!1);Te(()=>{if(!ne||!s||!K.current)return;const{offsetWidth:O,offsetHeight:V}=K.current,U=w<O&&I<V;U&&Dt(U)},[w,I]);const Ct=window.innerHeight*(R==="portrait"?.45:.33),Ft=R==="portrait"?0:160,jt={"--average-color":W&&`rgb(${W.join(",")})`},tt=w&&I?{"--width":`${w}px`,"--height":`${I}px`,"--aspectWidth":`${w/I*Math.max(Ft,Ct)}px`,aspectRatio:`${w} / ${I}`,...jt}:{...jt},ot=Pa(p);let lt=!!i&&!s&&!!p&&!ot;c&&!lt&&p?.length<=Xg&&(lt=!0);const gt=lt?O=>{const{children:V,...U}=O;return o("figure",{...U,children:[V,o("figcaption",{class:"media-caption",lang:r,dir:"auto",onClick:wt=>{wt.preventDefault(),wt.stopPropagation(),z.showMediaAlt={alt:p,lang:r}},children:p})]})}:F,Gt=()=>window.matchMedia("(min-width: calc(40em + 350px))").matches?"large":"small",bt=yt(O=>{const V=O.target.closest(".status-deck");if(s||Gt()==="large"&&V||!document.startViewTransition){d?.(O);return}const U=O.target.closest("[data-view-transition-name]")||O.target.querySelector("[data-view-transition-name]");if(U)if(d)d(O);else if(O.preventDefault(),U.dataset.viewTransitioned){U.style.viewTransitionName=E;try{document.startViewTransition(()=>{U.style.viewTransitionName="",location.hash=`#${n}`})}catch{U.style.viewTransitionName="",location.hash=`#${n}`}}else location.hash=`#${n}`;else d?.(O)},[E,s,d]);if(ne)return st.containerProps.style.display="inherit",Te(()=>{Zg&&s&&(async()=>{try{await fetch(P,{mode:"no-cors"}),et.current.src=P}catch{}})()},[P]),o(gt,{children:[o(Pt,{ref:K,class:`media media-image ${t}`,onClick:bt,"data-orientation":R,"data-has-alt":!lt||void 0,style:s?{backgroundImage:`url(${v})`,"--bg-image":`url(${v})`,backgroundSize:ft?`${w}px ${I}px`:void 0,...jt}:tt,children:s?o(ws,{...st,children:o("img",{ref:et,src:P,alt:p,width:w,height:I,"data-orientation":R,loading:"eager",decoding:"sync",style:{"view-transition-name":E},onLoad:O=>{const V=O.target,U=V.closest(".media-image");U&&(U.style.backgroundImage=`url(${V.src})`,U.style.removeProperty("--bg-image")),V.closest(".media-zoom").style.display="",Z(!0)},onError:O=>{const{src:V}=O.target;V===P&&L&&P!==L&&(O.target.src=L)}})}):o(F,{children:[o("img",{src:P,alt:lt?"":p,width:w,height:I,"data-orientation":R,loading:"lazy","data-view-transition-name":E,style:{objectPosition:Y||"center","--anim-duration":`${Math.min(Math.max(Math.max(w,I)/100,5),120)}s`},onLoad:O=>{O.target.dataset.loaded=!0;const V=O.target.closest(".media");if(!C&&V){const{naturalWidth:U,naturalHeight:wt}=O.target;V.dataset.orientation=U>wt?"landscape":"portrait",V.style.setProperty("--width",`${U}px`),V.style.setProperty("--height",`${wt}px`),V.style.aspectRatio=`${U}/${wt}`}if(h&&V){const{target:U}=O;setTimeout(()=>{const{clientWidth:wt,clientHeight:Mt,naturalWidth:pt,naturalHeight:xt}=U;if(wt&&Mt&&pt&&xt)if(pt<88||xt<88)V.dataset.hasSmallDimension=!0;else{const vt=xt*wt/pt;if(Math.abs(vt-Mt)<5){const G=V.closest(".media");G&&(G.dataset.hasNaturalAspectRatio=!0)}}},300)}},onError:O=>{const{src:V}=O.target;V===P&&L&&P!==L?O.target.src=L:St(!0)}}),!lt&&o(ur,{alt:p,lang:r,index:l})]})}),J&&o("div",{children:o("a",{href:b,class:"button plain6 small",target:"_blank",children:[o(M,{icon:"external"})," ",o("span",{children:o(x,{id:"9npOH9"})})]})})]});if(k==="gifv"||k==="video"||dt){const O=_.duration>0,V=_.duration<31,U=k==="gifv"&&V,wt=_.duration<61,Mt=lr(_.duration),pt=!s&&!a&&U,xt=!s&&a&&U,Rt=_.duration>5,vt=`
      <video
        src="${T}"
        poster="${v}"
        width="${w}"
        height="${I}"
        data-orientation="${R}"
        style="view-transition-name: ${E}"
        preload="auto"
        autoplay
        muted
        playsinline
        ${wt?"loop":""}
        ondblclick="this.paused ? this.play() : this.pause()"
        ${Rt?"ontimeupdate=\"this.closest('.media-gif') && this.closest('.media-gif').style.setProperty('--progress', `${~~((this.currentTime / this.duration) * 100)}%`)\"":""}
      ></video>
  `,Zt=`
      <video
        src="${T}"
        poster="${v}"
        width="${w}"
        height="${I}"
        data-orientation="${R}"
        style="view-transition-name: ${E}"
        preload="auto"
        autoplay
        playsinline
        ${wt?"loop":""}
        controls
      ></video>
    `;return o(gt,{children:o(Pt,{ref:K,class:`media ${t} media-${U?"gif":"video"} ${xt?"media-contain":""} ${pt?"media-hover-animate":""}`,"data-orientation":R,"data-formatted-duration":s?void 0:Mt,"data-label":U&&!s&&!xt?"GIF":void 0,"data-has-alt":!lt||void 0,style:!s&&tt,onClick:G=>{if(pt)try{B.current.pause()}catch{}bt(G)},onMouseEnter:()=>{if(pt)try{B.current.play()}catch{}},onMouseLeave:()=>{if(pt)try{B.current.pause()}catch{}},onFocus:()=>{if(pt)try{B.current.play()}catch{}},onBlur:()=>{if(pt)try{B.current.pause()}catch{}},children:[s||xt?U&&s?o(ws,{...st,enabled:!0,children:o("div",{ref:et,dangerouslySetInnerHTML:{__html:vt}})}):U?o("div",{class:"video-container",dangerouslySetInnerHTML:{__html:vt}}):o("div",{class:"video-container",dangerouslySetInnerHTML:{__html:Zt}}):U?o("video",{ref:B,src:T,poster:v,width:w,height:I,"data-orientation":R,"data-view-transition-name":E,preload:"auto",playsinline:!0,loop:!0,muted:!0,onTimeUpdate:Rt?G=>{const{target:_t}=G,Ht=_t?.closest(".media-gif");if(Ht){const re=_t.currentTime/_t.duration*100;Ht.style.setProperty("--progress",`${re}%`)}}:void 0}):o(F,{children:[v&&!oe?o("img",{src:v,alt:lt?"":p,width:w,height:I,"data-orientation":R,loading:"lazy",decoding:"async","data-view-transition-name":E,onLoad:G=>{if(!C){const _t=G.target.closest(".media");if(_t){const{naturalHeight:Ht,naturalWidth:re}=G.target;_t.dataset.orientation=re>Ht?"landscape":"portrait",_t.style.setProperty("--width",`${re}px`),_t.style.setProperty("--height",`${Ht}px`),_t.style.aspectRatio=`${re}/${Ht}`}}}}):o("video",{src:T+"#t=0.1",width:w,height:I,"data-orientation":R,"data-view-transition-name":E,preload:"metadata",muted:!0,disablePictureInPicture:!0,onLoadedMetadata:G=>{if(!O){const{duration:_t}=G.target;if(_t){const Ht=lr(_t),re=G.target.closest(".media-video");re&&(re.dataset.formattedDuration=Ht)}}}}),o("div",{class:"media-play",children:o(M,{icon:"play",size:"xl",alt:"â–¶"})})]}),!s&&!lt&&o(ur,{alt:p,lang:r,index:l})]})})}else if(k==="audio"||le){const O=lr(_.duration);return o(gt,{children:o(Pt,{class:`media media-audio ${t}`,"data-formatted-duration":s?void 0:O,"data-has-alt":!lt||void 0,onClick:d,style:!s&&tt,children:[s?o("audio",{src:b||T,preload:"none",controls:!0,autoPlay:!0}):v?o("img",{src:v,alt:lt?"":p,width:w,height:I,"data-orientation":R,loading:"lazy",onError:V=>{try{V.target?.remove?.()}catch{}}}):null,!s&&o(F,{children:[o("div",{class:"media-play",children:o(M,{icon:"play",size:"xl",alt:"â–¶"})}),!lt&&o(ur,{alt:p,lang:r,index:l})]})]})})}}function _s(t){return URL.parse(t,location.origin)}function Jg(t){let e=t.replace(/[^a-zA-Z0-9_-]/g,"-");return e.match(/^[0-9-]/)&&(e="vt-"+e),e}const Rr=$e(Qg,(t,e)=>{const n=t.media||{},r=e.media||{};return n?.id===r?.id&&n.url===r.url&&t.to===e.to&&t.class===e.class});function tv(t){const{mediaAttachments:e,language:n,postID:r,instance:s}=t,a=e.length>1,i=N(),[c,l]=H(0);return q(()=>{let h=()=>{const{clientWidth:d,scrollLeft:u}=i.current,f=Math.round(Math.abs(u)/d);l(f)};return i.current&&i.current.addEventListener("scroll",h,{passive:!0}),()=>{i.current&&i.current.removeEventListener("scroll",h)}},[]),o(F,{children:[o("div",{class:"media-first-container",children:[o("div",{class:"media-first-carousel",ref:i,children:e.map((h,d)=>o("div",{class:"media-first-item",children:o(Rr,{media:h,lang:n,to:`/${s}/s/${r}?media=${d+1}`})},h.id))}),a&&o("div",{class:"media-carousel-controls",children:[o("div",{class:"carousel-indexer",children:[c+1,"/",e.length]}),o("label",{class:"media-carousel-button",children:o("button",{type:"button",class:"carousel-button",hidden:c===0,onClick:h=>{h.preventDefault(),h.stopPropagation(),i.current.focus(),i.current.scrollTo({left:i.current.clientWidth*(c-1)*(ko()?-1:1),behavior:"smooth"})},children:o(M,{icon:"arrow-left"})})}),o("label",{class:"media-carousel-button",children:o("button",{type:"button",class:"carousel-button",hidden:c===e.length-1,onClick:h=>{h.preventDefault(),h.stopPropagation(),i.current.focus(),i.current.scrollTo({left:i.current.clientWidth*(c+1)*(ko()?-1:1),behavior:"smooth"})},children:o(M,{icon:"arrow-right"})})})]})]}),a&&o("div",{class:"media-carousel-dots",style:{"--dots-count":e.length},children:e.map((h,d)=>o("span",{class:`carousel-dot ${d===c?"active":""}`},h.id))})]})}function ev(t){const{enabled:e,children:n,lang:r,captionChildren:s}=t;return!e||!s?n:o("figure",{class:"media-figure-multiple",children:[n,o("figcaption",{lang:r,dir:"auto",children:s})]})}function nv({poll:t,lang:e,readOnly:n,refresh:r=()=>{},votePoll:s=()=>{}}){const{_:a}=Kt(),[i,c]=H("default"),{expired:l,expiresAt:h,id:d,multiple:u,options:f,ownVotes:p,voted:m,votersCount:g,votesCount:v=0,emojis:b}=t,T=!!h&&new Date(h),k=u&&g||v;let E=0;k<=1e3?E=0:k<=1e4?E=1:k<=1e5&&(E=2);const[_,S]=H(!1),A=f.every(w=>w.votesCount!==null);return o("div",{lang:e,dir:"auto",class:`poll ${n?"read-only":""} ${i==="loading"?"loading":""}`,children:[_&&A||m||l?o(F,{children:[o("div",{class:"poll-options",children:f.map((w,I)=>{const{title:P,votesCount:L}=w,C=k?L/k:0,$=C?C.toLocaleString(Lt.locale||void 0,{style:"percent",maximumFractionDigits:E}):"0%",R=L>0&&L===Math.max(...f.map(W=>W.votesCount));return o("div",{class:`poll-option poll-result ${R?"poll-option-leading":""}`,style:{"--percentage":`${C*100}%`},children:[o("div",{class:"poll-option-title",children:[o("span",{children:o(un,{text:P,emojis:b})}),m&&p.includes(I)&&o(F,{children:[" ",o(M,{icon:"check-circle",alt:a({id:"IeO7us"})})]})]}),o("div",{class:"poll-option-votes",title:Lt._({id:"+syLpm",values:{optionVotesCount:L}}),children:$})]},`${I}-${P}-${L}`)})}),!l&&!m&&o("button",{class:"poll-vote-button plain2",disabled:i==="loading",onClick:w=>{w.preventDefault(),S(!1)},children:[o(M,{icon:"arrow-left",size:"s"})," ",o(x,{id:"L96xSt"})]})]}):o("form",{onSubmit:async w=>{w.preventDefault();const I=w.target,P=new FormData(I),L=[];P.forEach((C,$)=>{$==="poll"&&L.push(C)}),L.length&&(c("loading"),await s(L),c("default"))},children:[o("div",{class:"poll-options",children:f.map((w,I)=>{const{title:P}=w;return o("div",{class:"poll-option",children:o("label",{class:"poll-label",children:[o("input",{type:u?"checkbox":"radio",name:"poll",value:I,disabled:i==="loading",readOnly:n}),o("span",{class:"poll-option-title",children:o(un,{text:P,emojis:b})})]})})})}),!n&&o("button",{class:"poll-vote-button",type:"submit",disabled:i==="loading",children:o(x,{id:"lQXQKs"})})]}),o("p",{class:"poll-meta",children:[!l&&!n&&o("button",{type:"button",class:"plain small",disabled:i==="loading",onClick:w=>{w.preventDefault(),c("loading"),(async()=>(await r(),c("default")))()},title:a({id:"lCF0wC"}),children:o(M,{icon:"refresh",alt:a({id:"lCF0wC"})})}),!m&&!l&&!n&&A&&o("button",{type:"button",class:"plain small",disabled:i==="loading",onClick:w=>{w.preventDefault(),S(!_)},title:a(_?{id:"L96xSt"}:{id:"zCjei3"}),children:[o(M,{icon:_?"eye-open":"eye-close",alt:a(_?{id:"L96xSt"}:{id:"zCjei3"})})," "]}),!l&&!n&&" ",o(x,{id:"k7v0Rh",values:{0:ae(v),1:ae(v),votesCount:v},components:{0:o("span",{title:v}),1:o("span",{title:v})}}),!!g&&g!==v&&o(F,{children:[" ","â€¢"," ",o(x,{id:"jf1i1L",values:{0:ae(g),1:ae(g),votersCount:g},components:{0:o("span",{title:g}),1:o("span",{title:g})}})]})," ","â€¢"," ",l?T?o(x,{id:"5LwCCI",components:{0:o(we,{datetime:T})}}):a({id:"237hSL"}):T?o(x,{id:"ooHDPY",components:{0:o(we,{datetime:T})}}):a({id:"O2tNG0"})]})]})}const ov=/^http/i,Ts=({post:t,instance:e,previewMode:n})=>{const{content:r,emojis:s,language:a,mentions:i,url:c}=t,l=Ve(z),h=Qt(t.id,e),d=l.statusQuotes[h],u=N();return Te(()=>{if(!u.current)return;const f=ga(r,{emojis:s,returnDOM:!0});for(const p of f.querySelectorAll('a.u-url[target="_blank"]'))ov.test(p.innerText.trim())||p.removeAttribute("target");u.current.replaceChildren(f.cloneNode(!0))},[r,s?.length]),q(()=>{if(d?.length)for(const f of u.current.querySelectorAll("a"))d.some(p=>p?.originalURL===f.href)&&f.classList.add("is-quote")},[d?.length]),o("div",{ref:u,lang:a,dir:"auto",class:"inner-content",onClick:Em({mentions:i,instance:e,previewMode:n,statusURL:c})})};var dr,Ss;function rv(){return Ss||(Ss=1,dr=(e,n={})=>{const r=n.char||" ",s=n.count||2;let a=0;const i=[];return e.reverse().reduce((c,l)=>{i.length&&a&&i[a]&&i[a]===l.substring(1,i[a].length+1)&&(i.splice(a,1),a--);const d=[`${r.repeat(a?a*s:0)}${l}`,...c];return l.substring(0,2)==="</"&&(a++,i[a]=l.substring(2,l.length-1)),d},[]).join(`
`)}),dr}var hr,ks;function iv(){if(ks)return hr;ks=1;const t=n=>n.trim().replace(/(^(\s|\t)+|(( |\t)+)$)/gm,"");return hr={mergeAttributesWithElements:n=>{const r=t(n).split(`
`),s=[];let a="";for(let i=0;i<r.length;i+=1){const c=r[i];if(c.endsWith("/>")){s.push(`${a}${c.slice(0,-2)} />`),a="";continue}if(c.endsWith(">")){s.push(`${a}${c.startsWith(">")||c.startsWith("<")?"":" "}${c}`),a="";continue}a+=a.length?` ${c}`:c}return s},removeEmptyLines:t},hr}var fr,Es;function sv(){if(Es)return fr;Es=1;const t=rv(),{mergeAttributesWithElements:e}=iv();return fr=(r,s={})=>{const a=e(r);return t(a,s)},fr}var av=sv();const cv=Os(av);function Da(t,e,n=0){const{account:{url:r,displayName:s,acct:a,username:i,emojis:c,bot:l,group:h},id:d,poll:u,spoilerText:f,language:p,editedAt:m,createdAt:g,content:v,mediaAttachments:b,url:T,emojis:k}=t,E=Qt(d,e),S=(z.statusQuotes[E]||[]).filter((L,C,$)=>$.findIndex(R=>R.url===L.url)===C),A=S.length&&n<=2?S.map(L=>{const{id:C,instance:$}=L,R=Qt(C,$),W=z.statuses[R];if(W)return Da(W,$,++n)}).join(""):"",w=new Date(g),I=Ir(v,k)+`
`+A+`
`+(u?.options?.length?`
        <p>ðŸ“Š:</p>
        <ul>
        ${u.options.map(L=>`
              <li>
                ${L.title}
                ${L.votesCount>=0?` (${L.votesCount})`:""}
              </li>
            `).join("")}
        </ul>`:"")+(b.length>0?`
`+b.map(L=>{const{description:C,meta:$,previewRemoteUrl:R,previewUrl:W,remoteUrl:B,url:Y,type:et}=L,{original:ct={},small:nt}=$||{},Z=nt?.width||ct?.width,st=nt?.height||ct?.height,J=B||Y,St=R||W,Pt=St||J,$t=J?URL.parse(J):null,dt=et==="unknown"&&$t&&/\.(mp4|m4r|m4v|mov|webm)$/i.test($t.pathname),le=et==="unknown"&&$t&&/\.(mp3|ogg|wav|m4a|m4p|m4b)$/i.test($t.pathname),ne=et==="image"||et==="unknown"&&St&&!dt&&!le,oe=et==="gifv"||et==="video"||dt,K=et==="audio"||le;let ft="";return ne?ft=`<img src="${Pt}" width="${Z}" height="${st}" alt="${C}" loading="lazy" />`:oe?ft=`
                <video src="${J}" width="${Z}" height="${st}" controls preload="auto" poster="${St}" loading="lazy"></video>
                ${C?`<figcaption>${C}</figcaption>`:""}
              `:K?ft=`
                <audio src="${J}" controls preload="auto"></audio>
                ${C?`<figcaption>${C}</figcaption>`:""}
              `:ft=`
                <a href="${J}">ðŸ“„ ${C||J}</a>
              `,`<figure>${ft}</figure>`}).join(`
`):""),P=`
    <blockquote lang="${p}" cite="${T}" data-source="fediverse">
      ${f?`
            <details>
              <summary>${f}</summary>
              ${I}
            </details>
          `:I}
      <footer>
        â€” ${Ir(s,c)} (@${a}) ${g?`<a href="${T}"><time datetime="${w.toISOString()}">${w.toLocaleString()}</time></a>`:""}
      </footer>
    </blockquote>
  `;return cv(P)}function lv({post:t,instance:e,onClose:n}){const{_:r}=Kt(),{account:{url:s,displayName:a,username:i,emojis:c,bot:l,group:h},id:d,poll:u,spoilerText:f,language:p,editedAt:m,createdAt:g,content:v,mediaAttachments:b,url:T,emojis:k}=t,E=Da(t,e);return o("div",{id:"embed-post",class:"sheet",children:[!!n&&o("button",{type:"button",class:"sheet-close",onClick:n,children:o(M,{icon:"x",alt:r({id:"yz7wBu"})})}),o("header",{children:o("h2",{children:o(x,{id:"jdVwsS"})})}),o("main",{tabIndex:"-1",children:[o("h3",{children:o(x,{id:"GkS6YG"})}),o("textarea",{class:"embed-code",readonly:!0,onClick:_=>{_.target.select()},dir:"auto",children:E}),o("button",{type:"button",onClick:()=>{try{navigator.clipboard.writeText(E),ht(r({id:"bl7nrg"}))}catch{ht(r({id:"/KEBaP"}))}},children:[o(M,{icon:"clipboard"})," ",o("span",{children:o(x,{id:"he3ygx"})})]}),!!b?.length&&o("section",{children:[o("p",{children:o(x,{id:"/2mUza"})}),o("ol",{class:"links-list",children:b.map(_=>o("li",{children:o("a",{href:_.remoteUrl||_.url,target:"_blank",download:!0,children:_.remoteUrl||_.url})},_.id))})]}),!!c?.length&&o("section",{children:[o("p",{children:o(x,{id:"AeM/di"})}),o("ul",{children:c.map(_=>o("li",{children:[o("picture",{children:[o("source",{srcset:_.staticUrl,media:"(prefers-reduced-motion: reduce)"}),o("img",{class:"shortcode-emoji emoji",src:_.url,alt:`:${_.shortcode}:`,width:"16",height:"16",loading:"lazy",decoding:"async"})]})," ",o("code",{children:[":",_.shortcode,":"]})," (",o("a",{href:_.url,target:"_blank",download:!0,children:"URL"}),")",_.staticUrl?o(F,{children:[" ","(",o("a",{href:_.staticUrl,target:"_blank",download:!0,children:o(x,{id:"xiropL"})}),")"]}):null]},_.shortcode))})]}),!!k?.length&&o("section",{children:[o("p",{children:o(x,{id:"jzjjJh"})}),o("ul",{children:k.map(_=>o("li",{children:[o("picture",{children:[o("source",{srcset:_.staticUrl,media:"(prefers-reduced-motion: reduce)"}),o("img",{class:"shortcode-emoji emoji",src:_.url,alt:`:${_.shortcode}:`,width:"16",height:"16",loading:"lazy",decoding:"async"})]})," ",o("code",{children:[":",_.shortcode,":"]})," (",o("a",{href:_.url,target:"_blank",download:!0,children:"URL"}),")",_.staticUrl?o(F,{children:[" ","(",o("a",{href:_.staticUrl,target:"_blank",download:!0,children:o(x,{id:"xiropL"})}),")"]}):null]},_.shortcode))})]}),o("section",{children:o("small",{children:[o("p",{children:o(x,{id:"TnJgwX"})}),o("ul",{children:[o("li",{children:o(x,{id:"0OHPem"})}),o("li",{children:o(x,{id:"AzZ5zv"})}),o("li",{children:o(x,{id:"NU7wa/"})}),o("li",{children:o(x,{id:"R4PmPA"})})]})]})}),o("h3",{children:o(x,{id:"rdUucN"})}),o("output",{class:"embed-preview",dangerouslySetInnerHTML:{__html:E},dir:"auto"}),o("p",{children:o("small",{children:o(x,{id:"j0kZfi"})})})]})]})}function uv({onClose:t,post:e,currentPolicy:n}){const{_:r}=Kt(),{masto:s}=Ge(),[a,i]=H("default"),[c,l]=H(n||"public"),h=async d=>{d.preventDefault();const f=new FormData(d.target).get("quoteApprovalPolicy");l(f),i("loading");try{const p=await s.v1.statuses.$select(e.id).interactionPolicy.update({quote_approval_policy:f});t(!0),ht(r({id:"3P1r1z"})),i("default"),ye(p,e.instance,{skipThreading:!0,skipUnfurling:!0})}catch{ht(r({id:"hEe3YR"})),i("error")}};return o("div",{class:"sheet",id:"quote-settings-container",children:[!!t&&o("button",{type:"button",class:"sheet-close",onClick:t,disabled:a==="loading",children:o(M,{icon:"x",alt:r({id:"yz7wBu"})})}),o("header",{children:o("h2",{children:o(x,{id:"UWSCwN"})})}),o("main",{children:[!!e&&o("div",{class:"post-preview",children:o($a,{status:e,size:"s",readOnly:!0})}),o("form",{onSubmit:h,children:[o("select",{value:c,name:"quoteApprovalPolicy",disabled:a==="loading",children:[o("option",{value:"public",children:o(x,{id:"hDWXuG"})}),o("option",{value:"followers",children:o(x,{id:"9Ko+Xp"})}),o("option",{value:"nobody",children:o(x,{id:"+bAQ3S"})})]})," ",o("button",{disabled:a==="loading",children:o(x,{id:"tfDRzk"})})]})]})]})}const As=20;function dv({statusId:t,instance:e,onClose:n=()=>{}}){const{_:r}=Kt(),{masto:s}=Ge(),[a,i]=H([]),[c,l]=H("default"),[h,d]=H(!1),u=N(),f=N(!0),p=(m=!1)=>{(m||!u.current)&&(u.current=s.v1.statuses.$select(t).quotes.list({limit:As}).values()),l("loading"),(async()=>{try{let{done:g,value:v}=await u.current.next();Array.isArray(v)?(i(m?v:b=>[...b,...v]),v.length<As&&(g=!0),d(!g)):d(!1),l("default")}catch{l("error")}})()};return q(()=>{p(!0),f.current=!1},[t]),o("div",{id:"quotes-modal",class:"sheet",tabindex:"-1",children:[n&&o("button",{type:"button",class:"sheet-close",onClick:n,children:o(M,{icon:"x",alt:r({id:"yz7wBu"})})}),o("header",{children:o("h2",{children:o(x,{id:"eWLklq"})})}),o("main",{children:a.length>0?o(F,{children:[o("ul",{class:"quoted-posts-list",children:a.map(m=>o("li",{class:"quoted-post-item",children:o(Ze,{to:e?`/${e}/s/${m.id}`:`/s/${m.id}`,class:"status-link",onContextMenu:g=>{const v=g.target.querySelector(".status");if(v){if(g.metaKey)return;g.preventDefault(),v.dispatchEvent(new MouseEvent("contextmenu",{clientX:g.clientX,clientY:g.clientY}))}},children:o($a,{status:m,instance:e,size:"s",readOnly:!0,showCommentCount:!0})})},m.id))}),c==="default"?h?o("button",{type:"button",class:"plain block",onClick:()=>p(),children:o(x,{id:"uXRAkV"})}):o("p",{class:"ui-state insignificant",children:o(x,{id:"2EYeAZ"})}):c==="loading"&&o("p",{class:"ui-state",children:o(bo,{abrupt:!0})})]}):c==="loading"?o("p",{class:"ui-state",children:o(bo,{abrupt:!0})}):c==="error"?o("p",{class:"ui-state",children:o(x,{id:"3Uoj83"})}):o("p",{class:"ui-state insignificant",children:o(x,{id:"/Xg6f6"})})})]})}const He=Re((t,e)=>{let{checked:n,count:r,extraCount:s,class:a,title:i,alt:c,size:l,icon:h,iconSize:d="l",onClick:u,...f}=t;typeof i=="string"&&(i=[i,i]),typeof c=="string"&&(c=[c,c]);const[p,m]=H(i[0]||""),[g,v]=H(c[0]||"");return q(()=>{n?(m(i[1]||""),v(c[1]||"")):(m(i[0]||""),v(c[0]||""))},[n,i,c]),o("button",{ref:e,type:"button",title:p,class:`plain ${l?"small":""} ${a} ${n?"checked":""}`,onClick:b=>{u&&(b.preventDefault(),b.stopPropagation(),u(b))},...f,children:[o(M,{icon:h,size:d,alt:g}),(!!r||!!s)&&o(F,{children:[" ",!!r&&o("small",{title:r,children:ae(r)}),!!r&&!!s&&o("small",{children:"+"}),!!s&&o("small",{title:s,children:ae(s)})]})]})});class Ut extends HTMLElement{constructor(){super(),this.isIframeLoaded=!1,this.isPlaylistThumbnailLoaded=!1,this.setupDom()}static get observedAttributes(){return["videoid","playlistid","videoplay","videotitle"]}connectedCallback(){this.addEventListener("pointerover",()=>Ut.warmConnections(this),{once:!0}),this.addEventListener("click",()=>this.addIframe())}get videoId(){return encodeURIComponent(this.getAttribute("videoid")||"")}set videoId(e){this.setAttribute("videoid",e)}get playlistId(){return encodeURIComponent(this.getAttribute("playlistid")||"")}set playlistId(e){this.setAttribute("playlistid",e)}get videoTitle(){return this.getAttribute("videotitle")||"Video"}set videoTitle(e){this.setAttribute("videotitle",e)}get videoPlay(){return this.getAttribute("videoplay")||"Play"}set videoPlay(e){this.setAttribute("videoplay",e)}get videoStartAt(){return this.getAttribute("videoStartAt")||"0"}get autoLoad(){return this.hasAttribute("autoload")}get autoPause(){return this.hasAttribute("autopause")}get noCookie(){return this.hasAttribute("nocookie")}get posterQuality(){return this.getAttribute("posterquality")||"hqdefault"}get posterLoading(){return this.getAttribute("posterloading")||"lazy"}get params(){return`start=${this.videoStartAt}&${this.getAttribute("params")}`}set params(e){this.setAttribute("params",e)}set posterQuality(e){this.setAttribute("posterquality",e)}get disableNoscript(){return this.hasAttribute("disablenoscript")}setupDom(){const e=this.attachShadow({mode:"open"});let n="";window.liteYouTubeNonce&&(n=`nonce="${window.liteYouTubeNonce}"`),e.innerHTML=`
      <style ${n}>
        :host {
          --aspect-ratio: var(--lite-youtube-aspect-ratio, 16 / 9);
          --aspect-ratio-short: var(--lite-youtube-aspect-ratio-short, 9 / 16);
          --frame-shadow-visible: var(--lite-youtube-frame-shadow-visible, yes);
          contain: content;
          display: block;
          position: relative;
          width: 100%;
          aspect-ratio: var(--aspect-ratio);
        }

        @media (max-width: 40em) {
          :host([short]) {
            aspect-ratio: var(--aspect-ratio-short);
          }
        }

        #frame, #fallbackPlaceholder, iframe {
          position: absolute;
          width: 100%;
          height: 100%;
          left: 0;
          top: 0;
        }

        #frame {
          cursor: pointer;
        }

        #fallbackPlaceholder, slot[name=image]::slotted(*) {
          object-fit: cover;
          width: 100%;
          height: 100%;
        }

        @container style(--frame-shadow-visible: yes) {
          #frame::before {
            content: '';
            display: block;
            position: absolute;
            top: 0;
            background-image: linear-gradient(180deg, #111 -20%, transparent 90%);
            height: 60px;
            width: 100%;
            z-index: 1;
          }
        }

        #playButton {
          width: 68px;
          height: 48px;
          background-color: transparent;
          background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');
          z-index: 1;
          border: 0;
          border-radius: inherit;
        }

        #playButton:before {
          content: '';
          border-style: solid;
          border-width: 11px 0 11px 19px;
          border-color: transparent transparent transparent #fff;
        }

        #playButton,
        #playButton:before {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate3d(-50%, -50%, 0);
          cursor: inherit;
        }

        /* Post-click styles */
        .activated {
          cursor: unset;
        }

        #frame.activated::before,
        #frame.activated > #playButton {
          display: none;
        }
      </style>
      <div id="frame">
        <picture>
          <slot name="image">
            <source id="webpPlaceholder" type="image/webp">
            <source id="jpegPlaceholder" type="image/jpeg">
            <img id="fallbackPlaceholder" referrerpolicy="origin" loading="lazy">
          </slot>
        </picture>
        <button id="playButton" part="playButton"></button>
      </div>
    `,this.domRefFrame=e.querySelector("#frame"),this.domRefImg={fallback:e.querySelector("#fallbackPlaceholder"),webp:e.querySelector("#webpPlaceholder"),jpeg:e.querySelector("#jpegPlaceholder")},this.domRefPlayButton=e.querySelector("#playButton")}setupComponent(){this.shadowRoot.querySelector("slot[name=image]").assignedNodes().length===0&&this.initImagePlaceholder(),this.domRefPlayButton.setAttribute("aria-label",`${this.videoPlay}: ${this.videoTitle}`),this.setAttribute("title",`${this.videoPlay}: ${this.videoTitle}`),(this.autoLoad||this.isYouTubeShort()||this.autoPause)&&this.initIntersectionObserver(),this.disableNoscript||this.injectSearchNoScript()}attributeChangedCallback(e,n,r){n!==r&&(e==="playlistid"&&n!==null&&n!==r&&(this.isPlaylistThumbnailLoaded=!1),this.setupComponent(),this.domRefFrame.classList.contains("activated")&&(this.domRefFrame.classList.remove("activated"),this.shadowRoot.querySelector("iframe").remove(),this.isIframeLoaded=!1))}injectSearchNoScript(){const e=document.createElement("noscript");this.prepend(e),e.innerHTML=this.generateIframe()}generateIframe(e=!1){let n=e?0:1,r=this.autoPause?"&enablejsapi=1":"";const s=this.noCookie?"-nocookie":"";let a;return this.playlistId?a=`?listType=playlist&list=${this.playlistId}&`:a=`${this.videoId}?`,this.isYouTubeShort()&&(this.params=`loop=1&mute=1&modestbranding=1&playsinline=1&rel=0&enablejsapi=1&playlist=${this.videoId}`,n=1),`
<iframe credentialless frameborder="0" title="${this.videoTitle}"
  referrerpolicy="strict-origin-when-cross-origin"
  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
  src="https://www.youtube${s}.com/embed/${a}autoplay=${n}${r}&${this.params}"
></iframe>`}addIframe(e=!1){if(!this.isIframeLoaded){const n=this.generateIframe(e);this.domRefFrame.insertAdjacentHTML("beforeend",n),this.domRefFrame.classList.add("activated"),this.isIframeLoaded=!0,this.attemptShortAutoPlay(),this.dispatchEvent(new CustomEvent("liteYoutubeIframeLoaded",{detail:{videoId:this.videoId},bubbles:!0,cancelable:!0}))}}initImagePlaceholder(){this.playlistId&&!this.videoId?this.loadPlaylistThumbnail():this.testPosterImage(),this.domRefImg.fallback.setAttribute("aria-label",`${this.videoPlay}: ${this.videoTitle}`),this.domRefImg?.fallback?.setAttribute("alt",`${this.videoPlay}: ${this.videoTitle}`)}async loadPlaylistThumbnail(){if(!this.isPlaylistThumbnailLoaded){this.isPlaylistThumbnailLoaded=!0;try{const e=`https://www.youtube.com/oembed?url=https://www.youtube.com/playlist?list=${this.playlistId}&format=json`,n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch playlist thumbnail: ${n.status}`);const r=await n.json();if(r.thumbnail_url){const s=r.thumbnail_url,a=s.match(/\/vi\/([^\/]+)\//);if(a){const i=a[1];this.loadThumbnailImages(i)}else this.domRefImg.fallback.src=s,this.domRefImg.fallback.loading=this.posterLoading}}catch(e){console.warn("Failed to load playlist thumbnail:",e)}}}loadThumbnailImages(e){const n=`https://i.ytimg.com/vi_webp/${e}/${this.posterQuality}.webp`;this.domRefImg.webp.srcset=n;const r=`https://i.ytimg.com/vi/${e}/${this.posterQuality}.jpg`;this.domRefImg.jpeg.srcset=r,this.domRefImg.fallback.src=r,this.domRefImg.fallback.loading=this.posterLoading}async testPosterImage(){setTimeout(()=>{const e=`https://i.ytimg.com/vi_webp/${this.videoId}/${this.posterQuality}.webp`,n=new Image;n.fetchPriority="low",n.referrerPolicy="origin",n.src=e,n.onload=async r=>{const s=r.target;s?.naturalHeight==90&&s?.naturalWidth==120&&(this.posterQuality="hqdefault"),this.loadThumbnailImages(this.videoId)}},100)}initIntersectionObserver(){const e={root:null,rootMargin:"0px",threshold:0};new IntersectionObserver((r,s)=>{r.forEach(a=>{a.isIntersecting&&!this.isIframeLoaded&&(Ut.warmConnections(this),this.addIframe(!0),s.unobserve(this))})},e).observe(this),this.autoPause&&new IntersectionObserver((s,a)=>{s.forEach(i=>{i.intersectionRatio!==1&&this.shadowRoot.querySelector("iframe")?.contentWindow?.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})},{threshold:1}).observe(this)}attemptShortAutoPlay(){this.isYouTubeShort()&&setTimeout(()=>{this.shadowRoot.querySelector("iframe")?.contentWindow?.postMessage('{"event":"command","func":"playVideo","args":""}',"*")},2e3)}isYouTubeShort(){return this.getAttribute("short")===""&&window.matchMedia("(max-width: 40em)").matches}static addPrefetch(e,n){const r=document.createElement("link");r.rel=e,r.href=n,r.crossOrigin="true",document.head.append(r)}static warmConnections(e){Ut.isPreconnected||window.liteYouTubeIsPreconnected||(Ut.addPrefetch("preconnect","https://i.ytimg.com/"),Ut.addPrefetch("preconnect","https://s.ytimg.com"),e.noCookie?Ut.addPrefetch("preconnect","https://www.youtube-nocookie.com"):(Ut.addPrefetch("preconnect","https://www.youtube.com"),Ut.addPrefetch("preconnect","https://www.google.com"),Ut.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),Ut.addPrefetch("preconnect","https://static.doubleclick.net")),Ut.isPreconnected=!0,window.liteYouTubeIsPreconnected=!0)}}Ut.isPreconnected=!1;customElements.define("lite-youtube",Ut);function hv({authors:t,hidden:e,children:n}){if(e||!t?.[0]?.account?.id)return n;const r=t[0].account;return o("div",{class:"card-byline",children:[n,o("div",{class:"card-byline-author",children:[o(M,{icon:"link",size:"s"})," ",o("small",{children:o(x,{id:"4LHHK6",components:{0:o(Pe,{account:r,showAvatar:!0})}})})]})]})}function Cs(t){return["x.com","twitter.com","threads.net","bsky.app","bsky.brid.gy","fed.brid.gy"].includes(t)}function fv({card:t,selfReferential:e,selfAuthor:n,instance:r}){const s=Ve(z),{blurhash:a,title:i,description:c,html:l,providerName:h,providerUrl:d,authorName:u,authorUrl:f,width:p,height:m,image:g,imageDescription:v,url:b,type:T,embedUrl:k,language:E,publishedAt:_,authors:S}=t,A=i||h||u,I=p/m>=1.2?"large":"",[P,L]=H(null);if(q(()=>{if(!A||!g||e||!Ic(b))return;const B=new AbortController;return Lc(r,b,B.signal).then(Y=>{if(!Y)return;const{id:et,url:ct}=Y;L("#"+ct)}),()=>{B.abort()}},[A,g,e]),s.unfurledLinks[b])return null;const C=/<iframe/i.test(l),$=yt(B=>{C&&(B.preventDefault(),z.showEmbedModal={html:l,url:b||k,width:p,height:m})},[C]),[R,W]=H(null);if(A&&(g||T==="photo"&&a)){const B=vr(b),Y=g&&a?ri(a):null;if(!g){const Z=xg(a,44,44),st=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas");st.width=44,st.height=44;const J=st.getContext("2d");J.imageSmoothingEnabled=!1;const St=J.createImageData(44,44);St.data.set(Z),J.putImageData(St,0,0);try{window.OffscreenCanvas?st.convertToBlob().then(Pt=>{W(URL.createObjectURL(Pt))}):W(st.toDataURL())}catch{}}const et=Cs(B);return o(hv,{hidden:!!n,authors:S,children:o("a",{href:P||b,target:P?null:"_blank",rel:"nofollow noopener",class:`card link ${et?"card-post":""} ${R?"":I} ${C?"can-show-embed":""}`,style:{"--average-color":Y&&`rgb(${Y.join(",")})`},onClick:$,children:[o("div",{class:"card-image",children:o("img",{src:g||R,width:p,height:m,loading:"lazy",decoding:"async",fetchPriority:"low",alt:v||"",onError:ct=>{try{ct.target.style.display="none"}catch{}},style:{"--anim-duration":p&&m&&`${Math.min(Math.max(Math.max(p,m)/100,5),120)}s`}})}),o("div",{class:"meta-container",lang:E,children:[o("p",{class:"meta domain",children:[o("span",{class:"domain",children:B})," ",!!_&&o(F,{children:"Â· "}),!!_&&o(F,{children:o(we,{datetime:_,format:"micro"})})]}),o("p",{class:"title",dir:"auto",title:i,children:i}),o("p",{class:"meta",dir:"auto",title:c,children:c||!!_&&o(we,{datetime:_,format:"micro"})})]})]})})}else{if(T==="photo")return o("a",{href:b,target:"_blank",rel:"nofollow noopener",class:"card photo",onClick:$,children:o("img",{src:k,width:p,height:m,alt:i||c,loading:"lazy",style:{height:"auto",aspectRatio:`${p}/${m}`}})});if(T==="video"&&/youtube/i.test(h)){const B=b.match(/watch\?v=([^&]+)/)?.[1];if(B)return o("a",{class:"card video",onClick:$,children:o("lite-youtube",{videoid:B,nocookie:!0,autoPause:!0})})}if(A&&!g){const B=vr(b),Y=Cs(B);return o("a",{href:P||b,target:P?null:"_blank",rel:"nofollow noopener",class:`card link ${Y?"card-post":""} no-image`,lang:E,dir:"auto",onClick:$,children:o("div",{class:"meta-container",children:[o("p",{class:"meta domain",children:[o("span",{class:"domain",children:[o(M,{icon:"link",size:"s"})," ",o("span",{children:B})]})," ",!!_&&o(F,{children:"Â· "}),!!_&&o(F,{children:o(we,{datetime:_,format:"micro"})})]}),o("p",{class:"title",title:i,children:i}),o("p",{class:"meta",title:c||h||u,children:c||h||u})]})})}}}function pv({sKey:t}){const n=Ve(z).statusReply[t];if(!n)return null;const{id:r,instance:s}=n,a=Ks(r,s);if(!a)return null;const{account:{id:i},sensitive:c,spoilerText:l,account:{avatar:h,avatarStatic:d,bot:u}={},visibility:f,content:p,language:m,filtered:g}=a;if(c||l||!p)return null;const v=Qt(r,s),b=ni(a),T=Wr(),k=T&&T===i,E=It(oi);let _=!k&&Io(g,E);if(_?.action==="blur"&&(_=null),_?.action==="hide")return null;const S=_?.titlesStr||"";return o("article",{class:`status compact-reply shazam ${f==="direct"?"visibility-direct":""}`,tabindex:"-1","data-state-post-id":v,children:[o(_e,{url:d||h,squircle:u}),o("div",{class:"content-compact",title:b,lang:m,dir:"auto",children:_?o("b",{class:"status-filtered-badge badge-meta",title:S,children:[o("span",{children:o(x,{id:"03Qqf9"})}),o("span",{children:S})]}):o("span",{children:b})})]})}const mv=ce(0);function xs({alt:t}){return o(M,{icon:"thread",size:"s",alt:t})}function Ms({index:t,showIcon:e,showText:n}){const{_:r}=Kt(),s=It(mv),a=t>0,i=s>0;return o("div",{class:"status-thread-badge",children:[e&&o(F,{children:[o(xs,{alt:n?"":r({id:"e66y2Z"})})," "]}),n?a?i?o(x,{id:"A05Pj6",values:{index:t,total:s}}):o(x,{id:"fYeATS",values:{index:t}}):r({id:"e66y2Z"}):a?r(i?{id:"98E0aM",values:{index:t,total:s}}:{id:"NNrlf5",values:{index:t}}):!e&&o(xs,{alt:r({id:"e66y2Z"})})]})}const gv={BASE_URL:"./",DEV:!1,MODE:"production",PHANPY_CLIENT_NAME:"Blaede Phanpy",PHANPY_DEFAULT_INSTANCE:"mastodon.blaede.family",PHANPY_DEFAULT_INSTANCE_REGISTRATION_URL:"https://mastodon.blaede.family/auth/sign_up",PHANPY_GIPHY_API_KEY:"48JGsrSS1XE5w4nWe9c9hqxPbsfRWR0e",PHANPY_LINGVA_INSTANCES:"lingva.phanpy.social lingva.lunar.icu lingva.garudalinux.org translate.plausibility.cloud",PHANPY_PRIVACY_POLICY_URL:"https://mastodon.blaede.family/privacy-policy",PHANPY_TRANSLANG_INSTANCES:"translang.phanpy.social",PHANPY_WEBSITE:"https://phanpy.blaede.family",PROD:!0,SSR:!1,VITE_APP_ENV:"production"},vv=280,yv=140,bv=new Ur({concurrency:1,interval:1e3,intervalCap:1});function wv(t,e,n){return bv.add(()=>e.v1.accounts.$select(t).fetch(),{signal:n})}const _v=Co(wv),Tv=window.ontouchstart!==void 0&&/iPad|iPhone|iPod/.test(navigator.userAgent),Is=80;function Sv(t){return t?.options?.length?`ðŸ“Š:
${t.options.map(e=>`- ${e.title}${e.votesCount>=0?` (${e.votesCount})`:""}`).join(`
`)}`:""}function pr(t,e){const{maskCustomEmojis:n,maskURLs:r,hideInlineQuote:s,htmlTextOpts:a={}}=e||{},{spoilerText:i,poll:c,emojis:l}=t;let{content:h}=t;if(n&&l?.length){const d=new RegExp(`:(${l.map(u=>u.shortcode).join("|")}):`,"g");h=h.replace(d,"â¬š")}return(i?`${i}

`:"")+ei(h,{...a,preProcess:(r||s)&&(d=>{if(r)for(const u of d.querySelectorAll("a")){const f=u.innerText.trim();/^https?:\/\//i.test(f)&&u.replaceWith("Â«ðŸ”—Â»")}if(s){const u=d.querySelector(".quote-inline");u&&u.remove()}})})+Sv(c)}function kv(t=[],e=document){for(const n of t)try{return e.querySelectorAll(n)}catch{}return[]}const Ra=Wt((t,e)=>{if(!t)return"";if(e?.length){const n=new RegExp(`:(${e.map(r=>r.shortcode).join("|")}):`,"g");t=t.replace(n,"")}return t=t.trim(),t?ei(t,{preProcess:n=>{for(const r of kv([".mention, .hashtag, pre, code, a:has(.invisible)",".mention, .hashtag, pre, code"],n))r.remove();for(const r of n.querySelectorAll("a")){const s=r.innerText.trim();(s.startsWith("https://")||s.startsWith("http://"))&&r.remove()}}}):""});function Ev(t,e){return!!Ra(t,e)}const Av={s:"small",m:"medium",l:"large"},Cv=Co(async t=>{if(t=t?.trim(),t?.length>500)return null;if(We){const s=await We.detect(t);console.groupCollapsed("ðŸ’¬ DETECTLANG BROWSER",s.slice(0,3).map(i=>i.detectedLanguage)),console.groupEnd();const a=s[0];if(a?.detectedLanguage&&a?.confidence>.5)return a.detectedLanguage}const{detectAll:e}=await Hs(async()=>{const{detectAll:s}=await import("./tinyld.light.node-D9KYf3Y3.js");return{detectAll:s}},[],import.meta.url),n=e(t);console.groupCollapsed("ðŸ’¬ DETECTLANG TINYLD",n.slice(0,3).map(s=>s.lang)),console.groupEnd();const r=n[0];return r?.lang&&r?.accuracy>.5?r.lang:null}),an={id:"8fZueG"},$r={},Nr=(t,e)=>`${t}:${e.join("|")}`,xv=(t,e=[])=>{if(!t)return!1;const n=Nr(t,e),r=ma(!0),s=t!==r&&!yo([t],[r])&&!e.find(a=>t===a||yo([t],[a]));return s&&($r[n]=!0),s},Pn={quotePrivate:{id:"0NXzv9"},requestQuote:{id:"awRXyV"},quoteManualReview:{id:"re2mMZ"},quoteFollowersOnly:{id:"NPXprJ"},quoteCannot:{id:"dmiEVR"}},Mv={public:{id:"hDWXuG"},followers:{id:"9Ko+Xp"},nobody:{id:"+bAQ3S"}},Iv=/[??ï¼Ÿï¸–â“â”â‡âˆâ‰Â¿â€½ØŸ]/,{DEV:uo}=gv;function dn({statusID:t,status:e,instance:n,size:r="m",contentTextWeight:s,readOnly:a,enableCommentHint:i,withinContext:c,skeleton:l,enableTranslate:h,forceTranslate:d,previewMode:u,allowFilters:f,onMediaClick:p,quoted:m,quoteDomain:g,onStatusLinkClick:v=()=>{},showFollowedTags:b,allowContextMenu:T,showActionsBar:k,showReplyParent:E,mediaFirst:_,showCommentCount:S}){const{_:A,_:w,i18n:I}=Kt(),P=da(I.locale);if(l)return o("div",{class:`status skeleton ${_?"status-media-first small":""}`,children:[!_&&o(_e,{size:"xxl"}),o("div",{class:"container",children:[o("div",{class:"meta",children:[(r==="s"||_)&&o(_e,{size:"m"})," â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"]}),o("div",{class:"content-container",children:[_&&o("div",{class:"media-first-container"}),o("div",{class:`content ${_?"media-first-content":""}`,children:o("p",{children:"â–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"})})]})]})]});const{masto:L,instance:C,authenticated:$}=Ge({instance:n}),{instance:R}=Ge(),W=C===R;let B=Qt(t||e?.id,C);const Y=Ve(z);if(e||(e=Y.statuses[B]||Y.statuses[t],B=Qt(e?.id,C)),!e)return null;const{editHistoryRef:et,editHistoryMode:ct,editedAtIndex:nt}=fg();if(ct&&e?.editedAt&&et.current.length){const y=et.current[nt];y&&(e={...e,...y})}const{account:{acct:Z,avatar:st,avatarStatic:J,id:St,url:Pt,displayName:$t,username:dt,emojis:le,bot:ne,group:oe}={},id:K,repliesCount:ft,reblogged:Dt,reblogsCount:Ct,favourited:Ft,favouritesCount:jt,quotesCount:tt,bookmarked:ot,poll:lt,muted:gt,sensitive:Gt,spoilerText:bt,visibility:O,language:V,editedAt:U,filtered:wt,card:Mt,createdAt:pt,inReplyToId:xt,inReplyToAccountId:Rt,content:vt,mentions:Zt,mediaAttachments:G=[],reblog:_t,quote:Ht,uri:re,url:Jt,emojis:Ee,tags:X,pinned:kt,quoteApproval:Nt,_deleted:Ot,_pinned:Tt,emojiReactions:Oe}=e,[pn,Lo]=H(null);q(()=>{if(!vt||V||pn)return;let y;return y=setTimeout(async()=>{let D=await Cv(Ra(vt,Ee));Lo(D)},1e3),()=>clearTimeout(y)},[vt,V]);const mt=V||pn,mn=!!G?.length;_&&mn&&(r="s");const me=Wr(),ie=me&&me===St,Po=It(oi),te=!ie&&(!a&&!u||f)&&Io(wt,Po);if(te?.action==="hide")return null;const se=y=>{y.shiftKey};if((f||r!=="l")&&te&&te.action!=="blur")return o(Ov,{status:e,filterInfo:te,instance:C,containerProps:{onMouseEnter:se},showFollowedTags:!0,quoted:m});const Vt=new Date(pt),Xe=new Date(U);let Ae=Zt?.find(y=>y.id===Rt);!Ae&&Rt===K&&(Ae={url:Pt,username:dt,displayName:$t});const[gn,si]=H(Ae);q(()=>{if(!c&&!gn&&Rt){const y=z.accounts[Rt];if(y){si(y);return}const D=new AbortController;return _v(Rt,L,D.signal).then(Q=>{si(Q),z.accounts[Q.id]=Q}).catch(Q=>{}),()=>{D.abort()}}},[c,gn,Rt]);const ai=Rt&&Rt===me||Zt?.find(y=>y.id===me),ci=Dc(),Ce=!!ci["reading:expand:spoilers"],li=ci["reading:expand:media"]?.toLowerCase()||"default",ue=u||Ce||!!Y.spoilers[K],vn=u||li==="show_all"&&te?.action!=="blur"||!!Y.spoilersMedia[K];if(_t)return oe?o("div",{"data-state-post-id":B,class:"status-group",onMouseEnter:se,children:[o("div",{class:"status-pre-meta",children:[o(M,{icon:"group",size:"l",alt:w({id:"L8fEEm"})})," ",o(Pe,{account:e.account,instance:C,showAvatar:!0})]}),o(dn,{status:t?null:_t,statusID:t?_t.id:null,instance:C,size:r,contentTextWeight:s,readOnly:a,mediaFirst:_})]}):o("div",{"data-state-post-id":B,class:"status-reblog",onMouseEnter:se,children:[o("div",{class:"status-pre-meta",children:[o(M,{icon:"rocket",size:"l"})," ",o(x,{id:"DlhB4J",components:{0:o(Pe,{account:e.account,instance:C,showAvatar:!0}),1:o("span",{})}})]}),o(dn,{status:t?null:_t,statusID:t?_t.id:null,instance:C,size:r,contentTextWeight:s,readOnly:a,enableCommentHint:!0,mediaFirst:_})]});const Wa=yt(({children:y})=>o("div",{"data-state-post-id":B,class:"status-followed-tags",onMouseEnter:se,children:[o("div",{class:"status-pre-meta",children:[o(M,{icon:"hashtag",size:"l"})," ",Y.statusFollowedTags[B].slice(0,3).map(D=>o(Ze,{to:C?`/${C}/t/${D}`:`/t/${D}`,class:"status-followed-tag-item",children:D},D))]}),y]}),[B,C,Y.statusFollowedTags[B]]),Ga=b&&Y.statusFollowedTags[B]?.length?Wa:F,rt=r==="l",xe=it(()=>gg(vt),[vt]),[Do,Za]=H(d),{contentTranslation:Ro,contentTranslationAutoInline:ui}=Y.settings;Ro||(h=!1);const di=it(()=>!Ro||!ui||a||c&&!rt||u||bt||Gt||lt||Mt?!1:xe>0&&xe<=yv,[Ro,ui,a,c,rt,u,bt,Gt,lt,Mt,G,xe]),[$o,qn]=H(!1),[Va,No]=H(!1),[Ya,Oo]=H(!1),[Xa,Fo]=H(!1),hi=On(),Bo=On(),Qa=On(),Qe=N(null),[Ja,tc]=jr(y=>y+1,0),yn=w({id:"7jyUKe"}),fi=yt(()=>Math.max(Math.round(((bt?.length||0)+xe)/140)||1,1),[bt,xe]),pi=pt&&Kn(Vt),mi=U&&Kn(Xe),Je=["public","unlisted"].includes(O);let bn=$&&Je;O==="private"&&ie&&(bn=!0);let tn=!1,wn=w({id:"ZhhOwV"}),Me;if(Yt()){const y=ie,D=y&&O==="private",Q=Nt?.currentUser==="automatic"&&(Je||D),at=Nt?.currentUser==="manual"&&(Je||D),ee=Nt?.automatic?.[0]==="followers"||Nt?.manual?.[0]==="followers";!Je&&!y?(tn=!0,Me=A(Pn.quotePrivate)):Q||(at?(wn=A(Pn.requestQuote),Me=A(Pn.quoteManualReview)):(tn=!0,Me=A(ee?Pn.quoteFollowersOnly:Pn.quoteCannot)))}const Wn=Yt()&&!tn,gi=Xp(Nt),Fe=(y,D="all")=>{if(!W||!$)return alert(yn);(y?.shiftKey||y?.syntheticEvent?.shiftKey)&&jl({replyToStatus:e,replyMode:D})||Ie({replyToStatus:e,replyMode:D})},ec=it(()=>G.some(y=>!y.description?.trim?.()),[G]),vi=it(()=>Math.floor((new Date-Vt)/(1e3*60*60*24*30)),[Vt]),zo=async()=>{if(!W||!$)return alert(yn),!1;try{if(z.statuses[B]={...e,reblogged:!Dt,reblogsCount:Ct+(Dt?-1:1)},Dt){const y=await L.v1.statuses.$select(K).unreblog();ye(y,C)}else{const y=await L.v1.statuses.$select(K).reblog();ye(y,C)}return!0}catch{return z.statuses[B]=e,!1}},yi=async()=>{if(!W||!$)return alert(yn),!1;try{if(z.statuses[B]={...e,favourited:!Ft,favouritesCount:jt+(Ft?-1:1)},Ft){const y=await L.v1.statuses.$select(K).unfavourite();ye(y,C)}else{const y=await L.v1.statuses.$select(K).favourite();ye(y,C)}return!0}catch{return z.statuses[B]=e,!1}},Ho=async()=>{try{const y=await yi();!rt&&y&&ht(w(Ft?{id:"sZvpIt",values:{0:dt||Z}}:{id:"yUngDO",values:{0:dt||Z}}))}catch{}},bi=async()=>{if(oo("@mastodon/post-bookmark")){if(!W||!$)return alert(yn),!1;try{if(z.statuses[B]={...e,bookmarked:!ot},ot){const y=await L.v1.statuses.$select(K).unbookmark();ye(y,C)}else{const y=await L.v1.statuses.$select(K).bookmark();ye(y,C)}return!0}catch{return z.statuses[B]=e,!1}}},wi=async()=>{try{const y=await bi();!rt&&y&&ht(w(ot?{id:"lWQguj",values:{0:dt||Z}}:{id:"Fb2K8h",values:{0:dt||Z}}))}catch{}},Ko=Y.settings.contentTranslationHideLanguages||[],[Be,_i]=H($r[Nr(mt,Ko)]);q(()=>{if(!mt||Be)return;if(!Be&&$r[Nr(mt,Ko)]){_i(!0);return}let y=setTimeout(()=>{const D=xv(mt,Ko);D&&_i(D)},100);return()=>clearTimeout(y)},[mt,Be]);const Ti=N(),Si=N();async function nc(y){y&&(Ti.current=L.v1.statuses.$select(t).rebloggedBy.list({limit:Is}).values(),Si.current=L.v1.statuses.$select(t).favouritedBy.list({limit:Is}).values());const[{value:D},{value:Q}]=await Promise.allSettled([Ti.current.next(),Si.current.next()]);if(D.value?.length||Q.value?.length){const at=[];return D.value?.length&&at.push(...D.value.map(ee=>(ee._types=["reblog"],ee))),Q.value?.length&&at.push(...Q.value.map(ee=>(ee._types=["favourite"],ee))),{value:at,done:D.done&&Q.done}}return{value:[],done:!0}}const oc=Ht?.state==="accepted"&&Ht?.quotedStatus?.account?.id===me,rc=N(),ic=["public","unlisted","private"].includes(O),ki=ec&&!Dt?o("div",{class:"footer",children:[o(M,{icon:"alert"}),o(x,{id:"MB+wJL"})]}):vi>=3&&o("div",{class:"footer",children:[o(M,{icon:"info"}),o("span",{children:o(x,{id:"dBme/4",values:{0:P.format(-vi,"month")},components:{0:o("strong",{})}})})]}),jo=it(()=>Zt?.length?[...new Set([St,...Zt.map(D=>D.id)])].filter(D=>D!==me).length:!1,[St,Zt?.length,me]),Gn=jo>3,Ei=()=>o(F,{children:[o(M,{icon:"comment"}),o("span",{children:ft>0?ae(ft):w(Gn?{id:"MmYpxT"}:{id:"ImOQa9"})})]}),Ai=o(F,{children:[o(ut,{onClick:y=>Fe(y,"all"),children:o("small",{children:[o(x,{id:"5ykMJ1"}),o("br",{}),o("span",{class:"more-insignificant",children:o(x,{id:"rtCQ2N",values:{mentionsCount:jo}})})]})}),o(ut,{onClick:y=>Fe(y,"author-first"),children:o("small",{children:[o(x,{id:"5ykMJ1"}),o("br",{}),o("span",{class:"more-insignificant",children:o(x,{id:"4UOm4A",values:{0:jo-1,1:dt||Z},components:{0:o("span",{class:"bidi-isolate"})}})})]})}),o(ut,{onClick:y=>Fe(y,"author-only"),children:o("small",{children:[o(x,{id:"ImOQa9"}),o("br",{}),o("span",{class:"more-insignificant",children:o(x,{id:"zcKxuj",values:{0:dt||Z},components:{0:o("span",{class:"bidi-isolate"})}})})]})})]}),Ci=o(F,{children:[!rt&&W&&o(F,{children:o("div",{class:"menu-control-group-horizontal status-menu",children:[Gn?o(kr,{openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",label:o(Ei,{}),children:Ai}):o(ut,{onClick:Fe,children:o(Ei,{})}),o(eo,{subMenu:!0,confirmLabel:o(F,{children:[o(M,{icon:"rocket"}),o("span",{children:w(Dt?{id:"QzzGsY"}:{id:"kulphB"})})]}),className:`menu-reblog ${Dt?"checked":""}`,menuExtras:o(F,{children:[Yt()&&o(ut,{disabled:tn,onClick:()=>{Ie({quoteStatus:e})},children:[o(M,{icon:"quote"}),Me?o("small",{children:[wn,o("br",{}),Me]}):o("span",{children:wn})]}),(uo||!Yt())&&o(ut,{onClick:()=>{Ie({draftStatus:{status:`
${Jt}`}})},children:[o(M,{icon:"quote"}),o("span",{children:o(x,{id:"ygxzZR"})}),Yt()&&uo&&o("small",{class:"tag collapsed",children:"DEV"})]})]}),menuFooter:ki,disabled:!bn,onClick:async()=>{try{const y=await zo();!rt&&y&&ht(w(Dt?{id:"bpDheH",values:{0:dt||Z}}:{id:"dbNZdP",values:{0:dt||Z}}))}catch{}},children:[Wn?o("span",{class:"icon",children:[o(M,{icon:"rocket"}),o(M,{icon:"quote"})]}):o(M,{icon:"rocket"}),o("span",{children:Ct>0||tt>0?`${Ct>0?ae(Ct):""}${Ct>0&&tt>0?"+":""}${tt>0?ae(tt):""}`:w(Dt?{id:"QzzGsY"}:Wn?{id:"n1PNla"}:{id:"PiVIlD"})})]}),o(ut,{onClick:Ho,className:`menu-favourite ${Ft?"checked":""}`,children:[o(M,{icon:"heart"}),o("span",{children:jt>0?ae(jt):w(Ft?{id:"OcUmcH"}:{id:"W9FRBT"})})]}),oo("@mastodon/post-bookmark")&&o(ut,{onClick:wi,className:`menu-bookmark ${ot?"checked":""}`,children:[o(M,{icon:"bookmark"}),o("span",{children:w(ot?{id:"q8EQYI"}:{id:"PZlHt8"})})]})]})}),!rt&&W&&(rt||k)&&o(Sn,{}),(rt||k)&&o(F,{children:[o(ut,{onClick:()=>{z.showGenericAccounts={heading:w({id:"+XOeb+"}),fetchAccounts:nc,instance:C,showReactions:!0,postID:B}},children:[o(M,{icon:"react"}),o("span",{children:o(x,{id:"+XOeb+"})})]}),Yt()&&o(ut,{onClick:()=>{Fo(!0)},children:[o(M,{icon:"quote"}),o("span",{children:o(x,{id:"5t4KSs"})})]})]}),(rt||!_&&(h||!mt||Be))&&o(Sn,{}),!_&&(h||!mt||Be)&&o("div",{class:Dr?"menu-horizontal":"",children:[h?o(ut,{disabled:Do,onClick:()=>Za(!0),children:[o(M,{icon:"translate"}),o("span",{children:o(x,{id:"pi8x/S"})})]}):o(Wi,{to:`${C?`/${C}`:""}/s/${K}?translate=1`,children:[o(M,{icon:"translate"}),o("span",{children:o(x,{id:"pi8x/S"})})]}),Dr&&o(ut,{onClick:()=>{try{const y=pr(e,{hideInlineQuote:Yt()});y&&vg(y,mt)}catch{}},children:[o(M,{icon:"speak"}),o("span",{children:o(x,{id:"yIBLq8"})})]})]}),rt&&o(ut,{onClick:()=>{try{const y=pr(e,{hideInlineQuote:Yt(),htmlTextOpts:{truncateLinks:!1}});navigator.clipboard.writeText(y),ht(w({id:"iSRQvy"}))}catch{ht(w({id:"N1MyiN"}))}},children:[o(M,{icon:"clipboard"}),o("span",{children:o(x,{id:"iQgJaz"})})]}),(!rt&&W||h||!mt||Be)&&o(Sn,{}),!rt&&o(F,{children:o(Wi,{to:C?`/${C}/s/${K}`:`/s/${K}`,onClick:y=>{v(y,e)},children:[o(M,{icon:"arrows-right"}),o("small",{children:[o(x,{id:"8MkSAW",values:{0:dt||Z},components:{0:o("span",{class:"bidi-isolate"})}}),o("br",{}),o("span",{class:"more-insignificant",children:[A(qe[O])," â€¢ ",pi]})]})]})}),!!U&&o(F,{children:o(ut,{onClick:()=>{qn(K)},children:[o(M,{icon:"history"}),o("small",{children:[o(x,{id:"QL+7Jw"}),o("br",{}),o("span",{class:"more-insignificant",children:o(x,{id:"DuJJm9",values:{editedDateText:mi}})})]})]})}),o(kr,{direction:ko()?"left":"right",overflow:"auto",gap:-8,label:o(F,{children:[o(M,{icon:"link"}),o("small",{class:"menu-double-lines should-cloak",style:{maxWidth:"16em"},children:Lv(Jt)}),o(M,{icon:"chevron-right"})]}),children:[o(ut,{href:Jt,target:"_blank",children:[o(M,{icon:"external"}),o("span",{children:o(x,{id:"x57cJf"})})]}),o(ut,{onClick:()=>{try{navigator.clipboard.writeText(Jt),ht(w({id:"edWbV6"}))}catch{ht(w({id:"W1ewR0"}))}},children:[o(M,{icon:"copy"}),o("span",{children:o(x,{id:"he3ygx"})})]}),Je&&navigator?.share&&navigator?.canShare?.({url:Jt})&&o(ut,{onClick:()=>{try{navigator.share({url:Jt})}catch{alert(w({id:"TtG3Uh"}))}},children:[o(M,{icon:"share"}),o("span",{children:o(x,{id:"LFKLqp"})})]})]}),Je&&rt&&o(ut,{onClick:()=>{No(!0)},children:[o(M,{icon:"code"}),o("span",{children:o(x,{id:"jdVwsS"})})]}),$&&o(F,{children:[(ie||ai)&&o(Sn,{}),(ie||ai)&&o(ut,{onClick:async()=>{try{const y=await L.v1.statuses.$select(K)[gt?"unmute":"mute"]();ye(y,C),ht(w(gt?{id:"Pm+5jw"}:{id:"ywB7JM"}))}catch{ht(w(gt?{id:"c6jxNY"}:{id:"8SN9kN"}))}},children:gt?o(F,{children:[o(M,{icon:"unmute"}),o("span",{children:o(x,{id:"i51zUR"})})]}):o(F,{children:[o(M,{icon:"mute"}),o("span",{children:o(x,{id:"OiUYO5"})})]})}),ie&&ic&&o(ut,{onClick:async()=>{try{const y=await L.v1.statuses.$select(K)[kt?"unpin":"pin"]();ye(y,C),ht(w(kt?{id:"Yx809+"}:{id:"S6P6E+"}))}catch{ht(w(kt?{id:"A6cs15"}:{id:"vgUfWO"}))}},children:kt?o(F,{children:[o(M,{icon:"unpin"}),o("span",{children:o(x,{id:"XQMQZw"})})]}):o(F,{children:[o(M,{icon:"pin"}),o("span",{children:o(x,{id:"lfHLsx"})})]})}),ie&&o(F,{children:[Yt()&&!["private","direct"].includes(O)&&o(ut,{onClick:()=>Oo(!0),children:[o(M,{icon:"quote2"}),o("small",{children:[o(x,{id:"eKInue"}),o("br",{}),o("span",{class:"more-insignificant",children:A(Mv[gi])})]})]}),o("div",{class:"menu-horizontal",children:[oo("@mastodon/post-edit")&&o(ut,{onClick:()=>{Ie({editStatus:e,quoteStatus:e.quote?.quotedStatus})},children:[o(M,{icon:"pencil"}),o("span",{children:o(x,{id:"ePK91l"})})]}),rt&&o(eo,{subMenu:!0,confirmLabel:o(F,{children:[o(M,{icon:"trash"}),o("span",{children:o(x,{id:"FbPNuJ"})})]}),itemProps:{className:"danger"},menuItemClassName:"danger",onClick:()=>{(async()=>{try{await L.v1.statuses.$select(K).remove();const y=Ks(K,C);y._deleted=!0,ht(w({id:"KiyvHV"}))}catch{ht(w({id:"Yb6p2q"}))}})()},children:[o(M,{icon:"trash"}),o("span",{children:o(x,{id:"Jb6/SB"})})]})]})]}),!ie&&rt&&o(F,{children:[o(Sn,{}),oc&&o(eo,{subMenu:!0,confirmLabel:o(F,{children:[o(M,{icon:"quote"}),o("span",{children:o(x,{id:"FMGfUd",values:{0:dt||Z},components:{0:o("span",{class:"bidi-isolate"})}})})]}),itemProps:{className:"danger"},menuItemClassName:"danger",onClick:()=>{(async()=>{try{const y=Ht.quotedStatus.id;await L.v1.statuses.$select(y).quotes.$select(K).revoke.create(),ht(w({id:"YgM2yU"})),z.reloadStatusPage++}catch{ht(w({id:"VzLGaA"}))}})()},children:[o(M,{icon:"quote"}),o(x,{id:"ukL58r"})]}),o(ut,{className:"danger",onClick:()=>{z.showReportModal={account:e.account,post:e}},children:[o(M,{icon:"flag"}),o("span",{children:o(x,{id:"7PQAMY"})})]})]})]})]}),xi=N(),[Zn,_n]=H(!1),[Mi,Vn]=H({}),Yn=T||!rt&&!u&&!Ot&&!m,sc=sa(Tv&&Yn?y=>{if(y.pointerType==="mouse")return;const{clientX:D,clientY:Q}=y.touches?.[0]||y,at=y.target.closest("a");at&&Qe.current.contains(at)&&!at.getAttribute("href").startsWith("#")||(y.preventDefault(),Vn({anchorPoint:{x:D,y:Q},direction:"right"}),_n(!0))}:null,{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),Tn=!a&&!u&&!m,ac=Ke("r, shift+r",(y,D)=>{y.shiftKey===D.shift&&Fe(y)},{enabled:Tn,useKey:!0,ignoreEventWhen:y=>y.metaKey||y.ctrlKey||y.altKey}),cc=Ke("f, l",Ho,{enabled:Tn,ignoreEventWhen:y=>y.metaKey||y.ctrlKey||y.altKey||y.shiftKey,useKey:!0}),lc=Ke("d",wi,{enabled:Tn,useKey:!0,ignoreEventWhen:y=>y.metaKey||y.ctrlKey||y.altKey||y.shiftKey}),uc=Ke("shift+b",y=>{y.shiftKey&&(async()=>{try{const D=await zo();!rt&&D&&ht(w(Dt?{id:"bpDheH",values:{0:dt||Z}}:{id:"dbNZdP",values:{0:dt||Z}}))}catch{}})()},{enabled:Tn&&bn,useKey:!0,ignoreEventWhen:y=>y.metaKey||y.ctrlKey||y.altKey}),dc=Ke("x",y=>{const D=document.activeElement.closest(".status-link, .status-focus");if(D){const Q=D.querySelector(".spoiler-button:not(.spoiling)");if(Q)y.stopPropagation(),Q.click();else{const at=D.querySelector(".spoiler-media-button:not(.spoiling)");at&&(y.stopPropagation(),at.click())}}},{useKey:!0,ignoreEventWhen:y=>y.metaKey||y.ctrlKey||y.altKey||y.shiftKey}),hc=Ke("q",y=>{if(!W||!$)return alert(yn);Yt()?tn?ht(Me):Ie({quoteStatus:e}):Ie({draftStatus:{status:`
${Jt}`}})},{enabled:Tn,useKey:!0,ignoreEventWhen:y=>y.metaKey||y.ctrlKey||y.altKey||y.shiftKey}),Xn=G.slice(0,rt?void 0:4),Qn=G.length>1&&Xn.some(y=>!!y.description&&!Pa(y.description)),fc=it(()=>{if(!Qn)return null;const y=[];return Xn.forEach((D,Q)=>{if(!D.description)return;const at=y.findIndex(ee=>ee.media.description===D.description);at===-1?y.push({media:D,indices:[Q]}):y[at].indices.push(Q)}),y.map(({media:D,indices:Q})=>o("div",{"data-caption-index":Q.map(at=>at+1).join(" "),onClick:at=>{at.preventDefault(),at.stopPropagation(),z.showMediaAlt={alt:D.description,lang:mt}},title:D.description,children:[o("sup",{children:Q.map(at=>at+1).join(" ")})," ",D.description]},D.id))},[Qn,Xn,mt]),en=it(()=>!!xt&&Rt===e.account?.id||!!Y.statusThreadNumber[B],[xt,Rt,e.account?.id,Y.statusThreadNumber[B]]),Ii=it(()=>i&&!en&&!c&&!xt&&O==="public"&&ft>0,[i,en,c,xt,ft,O]),Uo=it(()=>{if(S&&ft>0)return!0;if(Mt||lt||Gt||bt||G?.length||en||c||xt||ft<=0||!Iv.test(vt))return!1;if(xe>0&&xe<=vv)return!0},[S,Mt,lt,Gt,bt,G,_t,en,c,xt,ft,vt,xe]);return o(Ga,{children:[E&&!!(xt&&Rt)&&o(pv,{sKey:B}),o("article",{"data-state-post-id":B,ref:y=>{Qe.current=y;const D=y?.closest?.(".timeline-item, .timeline-item-alt, .status-link, .status-focus")||y;ac.current=D,cc.current=D,lc.current=D,uc.current=D,dc.current=D,hc.current=D},tabindex:"-1",class:`status ${!c&&xt&&gn?"status-reply-to":""} visibility-${O} ${Tt?"status-pinned":""} ${Av[r]} ${Ot?"status-deleted":""} ${m?"status-card":""} ${Zn?"status-menu-open":""} ${_&&mn?"status-media-first":""}`,onMouseEnter:se,onContextMenu:y=>{if(!Yn||y.metaKey)return;const D=y.target.closest("a");if(D&&Qe.current.contains(D)&&!D.getAttribute("href").startsWith("#"))return;const Q=window.getSelection?.();if(Q.toString().length>0){const{anchorNode:at}=Q;if(Qe.current?.contains(at))return}y.preventDefault(),Vn({anchorPoint:{x:y.clientX,y:y.clientY},direction:"right"}),_n(!0)},...Yn?sc():{},children:[Yn&&o(Qs,{ref:xi,state:Zn?"open":void 0,...Mi,onClose:y=>{_n(!1),y?.reason==="click"&&Qe.current?.closest("[tabindex]")?.focus?.()},portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:()=>{xi.current?.closeMenu?.()}},overflow:"auto",boundingBoxPadding:ua(),unmountOnClose:!0,children:Ci}),k&&r!=="l"&&!u&&!a&&!Ot&&!m&&o("div",{class:`status-actions ${Zn==="actions-bar"?"open":""}`,ref:rc,children:[o(He,{size:"s",title:w({id:"ImOQa9"}),alt:w({id:"ImOQa9"}),class:"reply-button",icon:"comment",iconSize:"m",onClick:y=>Fe(y,Gn?"author-first":"all")}),o(He,{size:"s",checked:Ft,title:[w({id:"W9FRBT"}),w({id:"OcUmcH"})],alt:[w({id:"W9FRBT"}),w({id:"8ab1sR"})],class:"favourite-button",icon:"heart",iconSize:"m",count:jt,onClick:Ho}),o("button",{type:"button",title:w({id:"2FYpfJ"}),class:"plain more-button",onClick:y=>{y.preventDefault(),y.stopPropagation(),Vn({anchorRef:{current:y.currentTarget},align:"start",direction:"left",gap:0,shift:-8}),_n("actions-bar")},children:o(M,{icon:"more2",size:"m",alt:w({id:"2FYpfJ"})})})]}),r!=="l"&&o("div",{class:"status-badge",children:[Dt&&o(M,{class:"reblog",icon:"rocket",size:"s",alt:w({id:"b7T5Zj"})}),Ft&&o(M,{class:"favourite",icon:"heart",size:"s",alt:w({id:"8ab1sR"})}),ot&&o(M,{class:"bookmark",icon:"bookmark",size:"s",alt:w({id:"1C/9Sa"})}),Tt&&o(M,{class:"pin",icon:"pin",size:"s",alt:w({id:"kNiQp6"})})]}),r!=="s"&&o("a",{href:Pt,tabindex:"-1",title:`@${Z}`,onClick:y=>{y.preventDefault(),y.stopPropagation(),z.showAccount={account:e.account,instance:C}},children:o(_e,{url:J||st,size:"xxl",squircle:ne})}),o("div",{class:"container",children:[!!g&&o("div",{class:"status-quote-meta",children:o("span",{class:"domain",children:g})}),!!(e.account||pt)&&o("div",{class:"meta",children:[o("span",{class:"meta-name",children:o(Pe,{account:e.account,instance:C,showAvatar:r==="s",showAcct:rt})}),c&&en&&o(Ms,{showIcon:rt,index:Y.statusThreadNumber[B]})," ",r!=="l"&&(Ot?o("span",{class:"status-deleted-tag",children:o(x,{id:"vGjmyl"})}):Jt&&!u&&!a&&!m?o(Ze,{to:C?`/${C}/s/${K}`:`/s/${K}`,onClick:y=>{y.metaKey||y.ctrlKey||y.shiftKey||y.altKey||y.which===2||(y.preventDefault(),y.stopPropagation(),v?.(y,e),Vn({anchorRef:{current:y.currentTarget},align:"end",direction:"bottom",gap:4}),_n(!0))},class:`time ${Zn&&Mi?.anchorRef?"is-open":""}`,children:[Ii&&!Uo?o(M,{icon:"comment2",size:"s",alt:Lt._({id:"RXmXDR",values:{repliesCount:ft}})}):O!=="public"&&O!=="direct"&&o(M,{icon:Fn[O],alt:A(qe[O]),size:"s"})," ",o(we,{datetime:Vt,format:"micro"}),!u&&!a&&o(M,{icon:"more2",class:"more",alt:w({id:"2FYpfJ"})})]}):o("span",{class:"time",children:[Ii&&!Uo?o(M,{icon:"comment2",size:"s",alt:Lt._({id:"RXmXDR",values:{repliesCount:ft}})}):O!=="public"&&O!=="direct"&&o(M,{icon:Fn[O],alt:A(qe[O]),size:"s"})," ",o(we,{datetime:Vt,format:"micro"})]}))]}),O==="direct"&&o(F,{children:[o("div",{class:"status-direct-badge",children:o(x,{id:"IV4QaU"})})," "]}),!c&&o(F,{children:en?o(Ms,{showIcon:!0,showText:!0,index:Y.statusThreadNumber[B]}):!!xt&&!!gn&&(!!bt||!Zt.find(y=>y.id===Rt))&&o("div",{class:"status-reply-badge",children:[o(M,{icon:"reply"})," ",o(Pe,{account:gn,instance:C,short:!0})]})}),o("div",{class:`content-container ${bt||Gt||te?.action==="blur"?"has-spoiler":""} ${ue?"show-spoiler":""} ${vn?"show-media":""}`,"data-content-text-weight":s?fi():null,style:(rt||s)&&{"--content-text-weight":fi()},children:_&&mn?o(F,{children:[(!!bt||!!Gt)&&!Ce&&o(F,{children:[!!bt&&o("span",{class:"spoiler-content media-first-spoiler-content",lang:mt,dir:"auto",ref:hi,"data-read-more":A(an),children:[o(un,{text:bt,emojis:Ee})," "]}),o("button",{class:`light spoiler-button media-first-spoiler-button ${ue?"spoiling":""}`,type:"button",onClick:y=>{y.preventDefault(),y.stopPropagation(),ue?(delete z.spoilers[K],Ce||delete z.spoilersMedia[K]):(z.spoilers[K]=!0,Ce||(z.spoilersMedia[K]=!0))},children:[o(M,{icon:ue?"eye-open":"eye-close"})," ",w(ue?{id:"6lGV3K"}:{id:"lqBX03"})]})]}),o(tv,{mediaAttachments:G,language:mt,postID:K,instance:C}),!!vt&&o("div",{class:"media-first-content content",ref:Bo,children:o(Ts,{post:e,instance:C,previewMode:u})})]}):o(F,{children:[!!bt&&o(F,{children:[o("div",{class:"content spoiler-content",lang:mt,dir:"auto",ref:hi,"data-read-more":A(an),children:o("p",{children:o(un,{text:bt,emojis:Ee})})}),Ce||u?o("div",{class:"spoiler-divider",children:[o(M,{icon:"eye-open"})," ",o(x,{id:"gnKo7f"})]}):o("button",{class:`light spoiler-button ${ue?"spoiling":""}`,type:"button",onClick:y=>{y.preventDefault(),y.stopPropagation(),ue?(delete z.spoilers[K],Ce||delete z.spoilersMedia[K]):(z.spoilers[K]=!0,Ce||(z.spoilersMedia[K]=!0))},children:[o(M,{icon:ue?"eye-open":"eye-close"})," ",w(ue?{id:"6lGV3K"}:{id:"lqBX03"})]})]}),!!vt&&o("div",{class:"content",ref:Bo,"data-read-more":A(an),inert:bt&&!ue?!0:void 0,children:o(Ts,{post:e,instance:C,previewMode:u},Ja)}),!!vt&&o(Eg,{content:vt,contentRef:Bo,onRevert:tc}),!!lt&&o(nv,{lang:mt,poll:lt,readOnly:a||!W||!$,onUpdate:y=>{z.statuses[B].poll=y},refresh:()=>L.v1.polls.$select(lt.id).fetch().then(y=>{z.statuses[B].poll=y}).catch(y=>{}),votePoll:y=>L.v1.polls.$select(lt.id).votes.create({choices:y}).then(D=>{z.statuses[B].poll=D}).catch(D=>{})}),((h||di)&&Ev(vt,Ee)&&Be||Do)&&o(og,{forceTranslate:Do||di,mini:!rt&&!c,sourceLanguage:mt,autoDetected:pn,text:pr(e,{maskCustomEmojis:!0,maskURLs:!0,hideInlineQuote:!0})}),!u&&(Gt||te?.action==="blur")&&!!G.length&&(li!=="show_all"||te?.action==="blur")&&o("button",{class:`plain spoiler-media-button ${vn?"spoiling":""}`,type:"button",hidden:!Ce&&!!bt,onClick:y=>{y.preventDefault(),y.stopPropagation(),vn?delete z.spoilersMedia[K]:z.spoilersMedia[K]=!0},children:[o(M,{icon:vn?"eye-open":"eye-close"})," ",o("span",{children:[te?.action==="blur"&&o("small",{children:[o(x,{id:"suKjh3",values:{0:te?.titlesStr}}),o("br",{})]}),w(vn?{id:"6lGV3K"}:{id:"9ZCilh"})]})]}),!!G.length&&(G.length>1&&(rt||c&&r==="m")?o("div",{class:"media-large-container",children:G.map((y,D)=>o("div",{class:"media-container media-eq1",children:o(Rr,{media:y,autoAnimate:!0,showCaption:!0,allowLongerCaption:!vt||rt,lang:mt,to:`/${C}/s/${K}?${c?"media":"media-only"}=${D+1}`,onClick:p?Q=>p(Q,D,y,e):void 0})},y.id))}):o(ev,{lang:mt,enabled:Qn,captionChildren:fc,children:o("div",{ref:Qa,class:`media-container media-eq${G.length} ${G.length>2?"media-gt2":""} ${G.length>4?"media-gt4":""}`,children:Xn.map((y,D)=>o(Rr,{media:y,autoAnimate:rt,showCaption:G.length===1,allowLongerCaption:!vt&&G.length===1,lang:mt,altIndex:Qn&&!!y.description&&D+1,to:`/${C}/s/${K}?${c?"media":"media-only"}=${D+1}`,onClick:p?Q=>{p(Q,D,y,e)}:void 0,checkAspectRatio:G.length===1},y.id))})})),o($v,{id:K,instance:C,level:m,collapsed:!rt&&!c}),!!Mt&&/^https/i.test(Mt?.url)&&!Gt&&!bt&&!lt&&!G.length&&!Y.statusQuotes[B]&&o(fv,{card:Mt,selfReferential:Mt?.url===e.url||Mt?.url===e.uri,selfAuthor:Mt?.authors?.some(y=>y.account?.url===Pt),instance:R})]})}),!rt&&Uo&&o("div",{class:"content-comment-hint insignificant",children:[o(M,{icon:"comment2",alt:w({id:"N8UzTV"})})," ",ft]}),rt&&o(F,{children:[o("div",{class:"extra-meta",children:Ot?o("span",{class:"status-deleted-tag",children:o(x,{id:"vGjmyl"})}):o(F,{children:[o("span",{children:A(qe[O])})," â€¢"," ",o("a",{href:Jt,target:"_blank",rel:"noopener",children:[Date.now()-Vt.getTime()<864e5&&o(F,{children:[o(we,{datetime:Vt,format:"micro"})," ","â€’"," "]}),!!pt&&o("time",{class:"created",datetime:Vt.toISOString(),title:Vt.toLocaleString(),children:pi})]}),U&&o("span",{class:"edited-container",children:[" ","â€¢ ",o(M,{icon:"pencil",alt:w({id:"MRZxAn"})})," ",o("time",{tabIndex:"0",class:"edited",datetime:Xe.toISOString(),onClick:()=>{qn(K)},children:mi})]})]})}),!!Oe?.length&&o("div",{class:"emoji-reactions",children:Oe.map(y=>{const{name:D,count:Q,me:at,url:ee,staticUrl:pc}=y;if(ee)return o("span",{class:`emoji-reaction tag ${at?"":"insignificant"}`,children:[o(Cr,{alt:D,url:ee,staticUrl:pc})," ",Q]});if(/^:.+?:$/.test(D)){const qo=Ee.find(mc=>mc.shortcode===D.replace(/^:/,"").replace(/:$/,""));if(qo)return o("span",{class:`emoji-reaction tag ${at?"":"insignificant"}`,children:[o(Cr,{alt:D,url:qo.url,staticUrl:qo.staticUrl})," ",Q]})}return o("span",{class:`emoji-reaction tag ${at?"":"insignificant"}`,children:[D," ",Q]})})}),o("div",{class:`actions ${Ot?"disabled":""}`,children:[o("div",{class:"action has-count",children:Gn?o(Ar,{openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",menuButton:o(He,{title:w({id:"ImOQa9"}),alt:w({id:"VbyRUy"}),class:"reply-button",icon:"comment",count:ft}),children:Ai}):o(He,{title:w({id:"ImOQa9"}),alt:w({id:"VbyRUy"}),class:"reply-button",icon:"comment",count:ft,onClick:Fe})}),o("div",{class:`action ${Wn&&Ct>0&&tt>0?"has-counts":"has-count"}`,children:o(eo,{disabled:!bn,onClick:zo,confirmLabel:o(F,{children:[o(M,{icon:"rocket"}),o("span",{children:w(Dt?{id:"QzzGsY"}:{id:"kulphB"})})]}),menuExtras:o(F,{children:[Yt()&&o(ut,{disabled:tn,onClick:()=>{Ie({quoteStatus:e})},children:[o(M,{icon:"quote"}),Me?o("small",{children:[wn,o("br",{}),Me]}):o("span",{children:wn})]}),(uo||!Yt())&&o(ut,{onClick:()=>{Ie({draftStatus:{status:`
${Jt}`}})},children:[o(M,{icon:"quote"}),o("span",{children:o(x,{id:"ygxzZR"})}),Yt()&&uo&&o("small",{class:"tag collapsed",children:"DEV"})]})]}),menuFooter:ki,children:o(He,{checked:Dt,title:[w(Wn?{id:"n1PNla"}:{id:"PiVIlD"}),w({id:"QzzGsY"})],alt:[w({id:"kulphB"}),w({id:"b7T5Zj"})],class:"reblog-button",icon:"rocket",count:Ct,extraCount:tt,disabled:!bn})})}),o("div",{class:"action has-count",children:o(He,{checked:Ft,title:[w({id:"W9FRBT"}),w({id:"OcUmcH"})],alt:[w({id:"W9FRBT"}),w({id:"8ab1sR"})],class:"favourite-button",icon:"heart",count:jt,onClick:yi})}),oo("@mastodon/post-bookmark")&&o("div",{class:"action",children:o(He,{checked:ot,title:[w({id:"PZlHt8"}),w({id:"q8EQYI"})],alt:[w({id:"PZlHt8"}),w({id:"1C/9Sa"})],class:"bookmark-button",icon:"bookmark",onClick:bi})}),o(Ar,{portal:{target:document.querySelector(".status-deck")||document.body},align:"end",gap:4,overflow:"auto",viewScroll:"close",menuButton:o("div",{class:"action",children:o("button",{type:"button",title:w({id:"2FYpfJ"}),class:"plain more-button",children:o(M,{icon:"more",size:"l",alt:w({id:"2FYpfJ"})})})}),children:[Ci," "]})]})]})]}),!!$o&&o($n,{onClick:y=>{y.target===y.currentTarget&&qn(!1)},children:o(Nv,{statusID:$o,instance:C,fetchStatusHistory:()=>L.v1.statuses.$select($o).history.list(),onClose:()=>{qn(!1),Qe.current?.focus()}})}),!!Va&&o($n,{onClose:()=>{No(!1)},children:o(lv,{post:e,instance:C,onClose:()=>{No(!1)}})}),!!Ya&&o($n,{onClose:()=>{Oo(!1),z.reloadStatusPage++},children:o(uv,{onClose:()=>{Oo(!1),z.reloadStatusPage++},post:e,currentPolicy:gi})}),!!Xa&&o($n,{onClose:()=>{Fo(!1)},children:o(dv,{statusId:K,instance:C,onClose:()=>{Fo(!1)}})})]})]})}function Lv(t){if(!t)return;const e=URL.parse(t);if(!e)return;const{host:n,pathname:r}=e,s=r.replace(/\/$/,""),[a,i,c]=s.match(/\/(@[^\/]+)\/(.*)/)||[];return o(F,{children:[Rc.toUnicode(n),i?o(F,{children:["/",i,o("wbr",{}),o("span",{class:"more-insignificant",children:["/",c]})]}):o("span",{class:"more-insignificant",children:s})]})}const Pv=["deleted","unauthorized","pending","rejected","revoked","blocked_account","blocked_domain","muted_account"],Dv=["blocked_account","blocked_domain","muted_account"],ho={filterHidden:{id:"XC9Jpz"},pending:{id:"ptPep5"},deleted:{id:"2C0g0G"},unauthorized:{id:"2C0g0G"},rejected:{id:"2C0g0G"},revoked:{id:"5bAOta"},blocked_account:t=>({id:"aLvZxR",values:{name:t}}),blocked_domain:t=>({id:"+RZyRm",values:{domain:t}}),muted_account:t=>({id:"bQ4oy8",values:{name:t}})},Rv=$e(({quote:t,level:e=0})=>{const{_:n}=Kt(),r=Ve(z),s=It(oi),a=Wr(),i=t;let c;const l=r.statuses[Qt(i.id,i.instance)];l&&(!(a&&a===l.account?.id)&&Io(l.filtered,s))?.action==="hide"&&(c="filterHidden"),c||(c=Pv.find(p=>i.state===p));const h=Dv.includes(c),d=i.id?Qt(i.id,i.instance):null,u=d&&r.revealedQuotes[d];if(c&&(!h||!u)){const m=l?.account?.acct,g=m?.split("@")[1];let v;return h?c==="blocked_account"?v=n(ho.blocked_account(m)):c==="blocked_domain"?v=n(ho.blocked_domain(g)):c==="muted_account"&&(v=n(ho.muted_account(m))):v=n(ho[c]),o("div",{class:`status-card-unfulfilled ${c==="filterHidden"||h?"status-card-ghost":""} ${i.native?"quote-post-native":""}`,children:[o(M,{icon:"quote"}),o("i",{children:v}),h&&d&&o("button",{type:"button",class:"textual",onClick:()=>{z.revealedQuotes[d]=!0},children:o(x,{id:"aWAdCb"})})]},d)}const f=i.native?F:ba;return o(f,{id:i.instance+i.id,children:o(Ze,{to:`${i.instance?`/${i.instance}`:""}/s/${i.id}`,class:`status-card-link ${i.native?"quote-post-native":""}`,"data-read-more":n(an),children:o(dn,{statusID:i.id,instance:i.instance,size:"s",quoted:e+1,quoteDomain:i.originalDomain,enableCommentHint:!0})},i.instance+i.id)},i.instance+i.id)}),$v=$e(({id:t,instance:e,level:n=0,collapsed:r=!1})=>{if(!t||!e)return;const{_:s}=Kt(),a=Ve(z),i=Qt(t,e);let l=a.statusQuotes[i]?.filter((d,u,f)=>d.native||f.findIndex(p=>p.url===d.url)===u);if(!l?.length||n>2)return;r&&(l=[l[0]]);const h=On();return o("div",{class:"status-card-container",ref:h,"data-read-more":s(an),children:l.map(d=>{const u=d.id?Qt(d.id,d.instance):`${d.instance||""}-${d.state}`;return o(Rv,{quote:d,level:n},u)})})});function Nv({statusID:t,instance:e,fetchStatusHistory:n=()=>{},onClose:r}){const{_:s}=Kt(),[a,i]=H("default"),[c,l]=H([]);return q(()=>{i("loading"),(async()=>{try{const h=await n();l(h),i("default")}catch{i("error")}})()},[]),o("div",{id:"edit-history",class:"sheet",children:[!!r&&o("button",{type:"button",class:"sheet-close",onClick:r,children:o(M,{icon:"x",alt:s({id:"yz7wBu"})})}),o("header",{children:[o("h2",{children:o(x,{id:"OKiofn"})}),a==="error"&&o("p",{children:o(x,{id:"EANWES"})}),a==="loading"&&o("p",{children:[o(bo,{abrupt:!0})," ",o(x,{id:"Pwqkdw"})]})]}),o("main",{tabIndex:"-1",children:c.length>0&&o("ol",{children:c.map(h=>{const{createdAt:d}=h,u=new Date(d);return o("li",{class:"history-item",children:[o("h3",{children:o("time",{children:Kn(u,{formatOpts:{weekday:"short",second:"numeric"}})})}),o(dn,{status:h,instance:e,size:"s",withinContext:!0,readOnly:!0,previewMode:!0})]},d)})})})]})}function Ov({status:t,filterInfo:e,instance:n,containerProps:r={},showFollowedTags:s,quoted:a}){const{_:i,_:c}=Kt(),l=Ve(z),{id:h,account:{avatar:d,avatarStatic:u,bot:f,group:p},createdAt:m,visibility:g,reblog:v}=t,b=!!v,T=e?.titlesStr||"",k=new Date(m),E=ni(t.reblog||t),[_,S]=H(!1),A=sa(()=>{S(!0)},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),w=On(),I=Qt(t.id,n),P=Qt(t.id,n)+" "+(Qt(v?.id,n)||""),L=v?.id||h,C=n?`/${n}/s/${L}`:`/s/${L}`,$=s&&!!l.statusFollowedTags[I]?.length;return o("div",{class:`${a?"":b?p?"status-group":"status-reblog":$?"status-followed-tags":""} visibility-${g}`,...r,onContextMenu:R=>{R.preventDefault(),S(!0)},...A(),children:[o("article",{"data-state-post-id":P,class:`status filtered ${a?"status-card":""}`,tabindex:"-1",children:[o("b",{class:"status-filtered-badge clickable badge-meta",title:T,onClick:R=>{R.preventDefault(),S(!0)},children:[o("span",{children:o(x,{id:"03Qqf9"})}),o("span",{children:T})]})," ",o(_e,{url:u||d,squircle:f}),o("span",{class:"status-filtered-info",children:[o("span",{class:"status-filtered-info-1",children:b?o(x,{id:"zJyf/5",components:{0:o(Pe,{account:t.account,instance:n}),1:o(M,{icon:Fn[g],alt:i(qe[g]),size:"s"})}}):$?o(F,{children:[o(Pe,{account:t.account,instance:n})," ",o(M,{icon:Fn[g],alt:i(qe[g]),size:"s"})," ",o("span",{children:l.statusFollowedTags[I].slice(0,3).map(R=>o("span",{class:"status-followed-tag-item",children:["#",R]},R))})]}):o(F,{children:[o(Pe,{account:t.account,instance:n})," ",o(M,{icon:Fn[g],alt:i(qe[g]),size:"s"})," ",o(we,{datetime:k,format:"micro"})]})}),o("span",{class:"status-filtered-info-2",children:[b&&o(F,{children:[o(_e,{url:v.account.avatarStatic||v.account.avatar,squircle:f})," "]}),E]})]})]}),!!_&&o($n,{onClick:R=>{R.target===R.currentTarget&&S(!1)},children:o("div",{id:"filtered-status-peek",class:"sheet",children:[o("button",{type:"button",class:"sheet-close",onClick:()=>S(!1),children:o(M,{icon:"x",alt:c({id:"yz7wBu"})})}),o("header",{children:[o("b",{class:"status-filtered-badge",children:o(x,{id:"03Qqf9"})})," ",T]}),o("main",{tabIndex:"-1",children:o(Ze,{ref:w,class:"status-link",to:C,onClick:()=>{S(!1)},"data-read-more":i(an),children:o(dn,{status:t,instance:n,size:"s",readOnly:!0})})})]})})]})}const $a=$e(dn,(t,e)=>{const{status:n,...r}=t,{status:s,...a}=e;return n?.id===s?.id&&Pc(r,a)});var Ls=36,Na="";for(;Ls--;)Na+=Ls.toString(36);function Zy(t){for(var e="",n=t||11;n--;)e+=Na[Math.random()*36|0];return e}function Se(t){return Array.isArray?Array.isArray(t):Ba(t)==="[object Array]"}const Fv=1/0;function Bv(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-Fv?"-0":e}function zv(t){return t==null?"":Bv(t)}function he(t){return typeof t=="string"}function Oa(t){return typeof t=="number"}function Hv(t){return t===!0||t===!1||Kv(t)&&Ba(t)=="[object Boolean]"}function Fa(t){return typeof t=="object"}function Kv(t){return Fa(t)&&t!==null}function Xt(t){return t!=null}function mr(t){return!t.trim().length}function Ba(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const jv="Incorrect 'index' type",Uv=t=>`Invalid value for key ${t}`,qv=t=>`Pattern length exceeds max of ${t}.`,Wv=t=>`Missing ${t} property in key`,Gv=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ps=Object.prototype.hasOwnProperty;class Zv{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let s=za(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function za(t){let e=null,n=null,r=null,s=1,a=null;if(he(t)||Se(t))r=t,e=Ds(t),n=Or(t);else{if(!Ps.call(t,"name"))throw new Error(Wv("name"));const i=t.name;if(r=i,Ps.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(Gv(i));e=Ds(i),n=Or(i),a=t.getFn}return{path:e,id:n,weight:s,src:r,getFn:a}}function Ds(t){return Se(t)?t:t.split(".")}function Or(t){return Se(t)?t.join("."):t}function Vv(t,e){let n=[],r=!1;const s=(a,i,c)=>{if(Xt(a))if(!i[c])n.push(a);else{let l=i[c];const h=a[l];if(!Xt(h))return;if(c===i.length-1&&(he(h)||Oa(h)||Hv(h)))n.push(zv(h));else if(Se(h)){r=!0;for(let d=0,u=h.length;d<u;d+=1)s(h[d],i,c+1)}else i.length&&s(h,i,c+1)}};return s(t,he(e)?e.split("."):e,0),r?n:n[0]}const Yv={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Xv={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Qv={location:0,threshold:.6,distance:100},Jv={useExtendedSearch:!1,getFn:Vv,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var j={...Xv,...Yv,...Qv,...Jv};const ty=/[^ ]+/g;function ey(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(s){const a=s.match(ty).length;if(n.has(a))return n.get(a);const i=1/Math.pow(a,.5*t),c=parseFloat(Math.round(i*r)/r);return n.set(a,c),c},clear(){n.clear()}}}class ii{constructor({getFn:e=j.getFn,fieldNormWeight:n=j.fieldNormWeight}={}){this.norm=ey(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,he(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();he(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Xt(e)||mr(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((s,a)=>{let i=s.getFn?s.getFn(e):this.getFn(e,s.path);if(Xt(i)){if(Se(i)){let c=[];const l=[{nestedArrIndex:-1,value:i}];for(;l.length;){const{nestedArrIndex:h,value:d}=l.pop();if(Xt(d))if(he(d)&&!mr(d)){let u={v:d,i:h,n:this.norm.get(d)};c.push(u)}else Se(d)&&d.forEach((u,f)=>{l.push({nestedArrIndex:f,value:u})})}r.$[a]=c}else if(he(i)&&!mr(i)){let c={v:i,n:this.norm.get(i)};r.$[a]=c}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Ha(t,e,{getFn:n=j.getFn,fieldNormWeight:r=j.fieldNormWeight}={}){const s=new ii({getFn:n,fieldNormWeight:r});return s.setKeys(t.map(za)),s.setSources(e),s.create(),s}function ny(t,{getFn:e=j.getFn,fieldNormWeight:n=j.fieldNormWeight}={}){const{keys:r,records:s}=t,a=new ii({getFn:e,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(s),a}function fo(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:s=j.distance,ignoreLocation:a=j.ignoreLocation}={}){const i=e/t.length;if(a)return i;const c=Math.abs(r-n);return s?i+c/s:c?1:i}function oy(t=[],e=j.minMatchCharLength){let n=[],r=-1,s=-1,a=0;for(let i=t.length;a<i;a+=1){let c=t[a];c&&r===-1?r=a:!c&&r!==-1&&(s=a-1,s-r+1>=e&&n.push([r,s]),r=-1)}return t[a-1]&&a-r>=e&&n.push([r,a-1]),n}const Ue=32;function ry(t,e,n,{location:r=j.location,distance:s=j.distance,threshold:a=j.threshold,findAllMatches:i=j.findAllMatches,minMatchCharLength:c=j.minMatchCharLength,includeMatches:l=j.includeMatches,ignoreLocation:h=j.ignoreLocation}={}){if(e.length>Ue)throw new Error(qv(Ue));const d=e.length,u=t.length,f=Math.max(0,Math.min(r,u));let p=a,m=f;const g=c>1||l,v=g?Array(u):[];let b;for(;(b=t.indexOf(e,m))>-1;){let A=fo(e,{currentLocation:b,expectedLocation:f,distance:s,ignoreLocation:h});if(p=Math.min(A,p),m=b+d,g){let w=0;for(;w<d;)v[b+w]=1,w+=1}}m=-1;let T=[],k=1,E=d+u;const _=1<<d-1;for(let A=0;A<d;A+=1){let w=0,I=E;for(;w<I;)fo(e,{errors:A,currentLocation:f+I,expectedLocation:f,distance:s,ignoreLocation:h})<=p?w=I:E=I,I=Math.floor((E-w)/2+w);E=I;let P=Math.max(1,f-I+1),L=i?u:Math.min(f+I,u)+d,C=Array(L+2);C[L+1]=(1<<A)-1;for(let R=L;R>=P;R-=1){let W=R-1,B=n[t.charAt(W)];if(g&&(v[W]=+!!B),C[R]=(C[R+1]<<1|1)&B,A&&(C[R]|=(T[R+1]|T[R])<<1|1|T[R+1]),C[R]&_&&(k=fo(e,{errors:A,currentLocation:W,expectedLocation:f,distance:s,ignoreLocation:h}),k<=p)){if(p=k,m=W,m<=f)break;P=Math.max(1,2*f-m)}}if(fo(e,{errors:A+1,currentLocation:f,expectedLocation:f,distance:s,ignoreLocation:h})>p)break;T=C}const S={isMatch:m>=0,score:Math.max(.001,k)};if(g){const A=oy(v,c);A.length?l&&(S.indices=A):S.isMatch=!1}return S}function iy(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const s=t.charAt(n);e[s]=(e[s]||0)|1<<r-n-1}return e}const Eo=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class Ka{constructor(e,{location:n=j.location,threshold:r=j.threshold,distance:s=j.distance,includeMatches:a=j.includeMatches,findAllMatches:i=j.findAllMatches,minMatchCharLength:c=j.minMatchCharLength,isCaseSensitive:l=j.isCaseSensitive,ignoreDiacritics:h=j.ignoreDiacritics,ignoreLocation:d=j.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:a,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:l,ignoreDiacritics:h,ignoreLocation:d},e=l?e:e.toLowerCase(),e=h?Eo(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const u=(p,m)=>{this.chunks.push({pattern:p,alphabet:iy(p),startIndex:m})},f=this.pattern.length;if(f>Ue){let p=0;const m=f%Ue,g=f-m;for(;p<g;)u(this.pattern.substr(p,Ue),p),p+=Ue;if(m){const v=f-Ue;u(this.pattern.substr(v),v)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s}=this.options;if(e=n?e:e.toLowerCase(),e=r?Eo(e):e,this.pattern===e){let g={isMatch:!0,score:0};return s&&(g.indices=[[0,e.length-1]]),g}const{location:a,distance:i,threshold:c,findAllMatches:l,minMatchCharLength:h,ignoreLocation:d}=this.options;let u=[],f=0,p=!1;this.chunks.forEach(({pattern:g,alphabet:v,startIndex:b})=>{const{isMatch:T,score:k,indices:E}=ry(e,g,v,{location:a+b,distance:i,threshold:c,findAllMatches:l,minMatchCharLength:h,includeMatches:s,ignoreLocation:d});T&&(p=!0),f+=k,T&&E&&(u=[...u,...E])});let m={isMatch:p,score:p?f/this.chunks.length:1};return p&&s&&(m.indices=u),m}}class Ne{constructor(e){this.pattern=e}static isMultiMatch(e){return Rs(e,this.multiRegex)}static isSingleMatch(e){return Rs(e,this.singleRegex)}search(){}}function Rs(t,e){const n=t.match(e);return n?n[1]:null}class sy extends Ne{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class ay extends Ne{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class cy extends Ne{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class ly extends Ne{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class uy extends Ne{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class dy extends Ne{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class ja extends Ne{constructor(e,{location:n=j.location,threshold:r=j.threshold,distance:s=j.distance,includeMatches:a=j.includeMatches,findAllMatches:i=j.findAllMatches,minMatchCharLength:c=j.minMatchCharLength,isCaseSensitive:l=j.isCaseSensitive,ignoreDiacritics:h=j.ignoreDiacritics,ignoreLocation:d=j.ignoreLocation}={}){super(e),this._bitapSearch=new Ka(e,{location:n,threshold:r,distance:s,includeMatches:a,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:l,ignoreDiacritics:h,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Ua extends Ne{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const s=[],a=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+a,s.push([r,n-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const Fr=[sy,Ua,cy,ly,dy,uy,ay,ja],$s=Fr.length,hy=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,fy="|";function py(t,e={}){return t.split(fy).map(n=>{let r=n.trim().split(hy).filter(a=>a&&!!a.trim()),s=[];for(let a=0,i=r.length;a<i;a+=1){const c=r[a];let l=!1,h=-1;for(;!l&&++h<$s;){const d=Fr[h];let u=d.isMultiMatch(c);u&&(s.push(new d(u,e)),l=!0)}if(!l)for(h=-1;++h<$s;){const d=Fr[h];let u=d.isSingleMatch(c);if(u){s.push(new d(u,e));break}}}return s})}const my=new Set([ja.type,Ua.type]);class gy{constructor(e,{isCaseSensitive:n=j.isCaseSensitive,ignoreDiacritics:r=j.ignoreDiacritics,includeMatches:s=j.includeMatches,minMatchCharLength:a=j.minMatchCharLength,ignoreLocation:i=j.ignoreLocation,findAllMatches:c=j.findAllMatches,location:l=j.location,threshold:h=j.threshold,distance:d=j.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:a,findAllMatches:c,ignoreLocation:i,location:l,threshold:h,distance:d},e=n?e:e.toLowerCase(),e=r?Eo(e):e,this.pattern=e,this.query=py(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:a}=this.options;e=s?e:e.toLowerCase(),e=a?Eo(e):e;let i=0,c=[],l=0;for(let h=0,d=n.length;h<d;h+=1){const u=n[h];c.length=0,i=0;for(let f=0,p=u.length;f<p;f+=1){const m=u[f],{isMatch:g,indices:v,score:b}=m.search(e);if(g){if(i+=1,l+=b,r){const T=m.constructor.type;my.has(T)?c=[...c,...v]:c.push(v)}}else{l=0,i=0,c.length=0;break}}if(i){let f={isMatch:!0,score:l/i};return r&&(f.indices=c),f}}return{isMatch:!1,score:1}}}const Br=[];function vy(...t){Br.push(...t)}function zr(t,e){for(let n=0,r=Br.length;n<r;n+=1){let s=Br[n];if(s.condition(t,e))return new s(t,e)}return new Ka(t,e)}const Ao={AND:"$and",OR:"$or"},Hr={PATH:"$path",PATTERN:"$val"},Kr=t=>!!(t[Ao.AND]||t[Ao.OR]),yy=t=>!!t[Hr.PATH],by=t=>!Se(t)&&Fa(t)&&!Kr(t),Ns=t=>({[Ao.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function qa(t,e,{auto:n=!0}={}){const r=s=>{let a=Object.keys(s);const i=yy(s);if(!i&&a.length>1&&!Kr(s))return r(Ns(s));if(by(s)){const l=i?s[Hr.PATH]:a[0],h=i?s[Hr.PATTERN]:s[l];if(!he(h))throw new Error(Uv(l));const d={keyId:Or(l),pattern:h};return n&&(d.searcher=zr(h,e)),d}let c={children:[],operator:a[0]};return a.forEach(l=>{const h=s[l];Se(h)&&h.forEach(d=>{c.children.push(r(d))})}),c};return Kr(t)||(t=Ns(t)),r(t)}function wy(t,{ignoreFieldNorm:e=j.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:a,score:i})=>{const c=s?s.weight:null;r*=Math.pow(i===0&&c?Number.EPSILON:i,(c||1)*(e?1:a))}),n.score=r})}function _y(t,e){const n=t.matches;e.matches=[],Xt(n)&&n.forEach(r=>{if(!Xt(r.indices)||!r.indices.length)return;const{indices:s,value:a}=r;let i={indices:s,value:a};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),e.matches.push(i)})}function Ty(t,e){e.score=t.score}function Sy(t,e,{includeMatches:n=j.includeMatches,includeScore:r=j.includeScore}={}){const s=[];return n&&s.push(_y),r&&s.push(Ty),t.map(a=>{const{idx:i}=a,c={item:e[i],refIndex:i};return s.length&&s.forEach(l=>{l(a,c)}),c})}class Un{constructor(e,n={},r){this.options={...j,...n},this.options.useExtendedSearch,this._keyStore=new Zv(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof ii))throw new Error(jv);this._myIndex=n||Ha(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Xt(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const a=this._docs[r];e(a,r)&&(this.removeAt(r),r-=1,s-=1,n.push(a))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:a,sortFn:i,ignoreFieldNorm:c}=this.options;let l=he(e)?he(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return wy(l,{ignoreFieldNorm:c}),a&&l.sort(i),Oa(n)&&n>-1&&(l=l.slice(0,n)),Sy(l,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(e){const n=zr(e,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:a,i,n:c})=>{if(!Xt(a))return;const{isMatch:l,score:h,indices:d}=n.searchIn(a);l&&s.push({item:a,idx:i,matches:[{score:h,value:a,norm:c,indices:d}]})}),s}_searchLogical(e){const n=qa(e,this.options),r=(c,l,h)=>{if(!c.children){const{keyId:u,searcher:f}=c,p=this._findMatches({key:this._keyStore.get(u),value:this._myIndex.getValueForItemAtKeyId(l,u),searcher:f});return p&&p.length?[{idx:h,item:l,matches:p}]:[]}const d=[];for(let u=0,f=c.children.length;u<f;u+=1){const p=c.children[u],m=r(p,l,h);if(m.length)d.push(...m);else if(c.operator===Ao.AND)return[]}return d},s=this._myIndex.records,a={},i=[];return s.forEach(({$:c,i:l})=>{if(Xt(c)){let h=r(n,c,l);h.length&&(a[l]||(a[l]={idx:l,item:c,matches:[]},i.push(a[l])),h.forEach(({matches:d})=>{a[l].matches.push(...d)}))}}),i}_searchObjectList(e){const n=zr(e,this.options),{keys:r,records:s}=this._myIndex,a=[];return s.forEach(({$:i,i:c})=>{if(!Xt(i))return;let l=[];r.forEach((h,d)=>{l.push(...this._findMatches({key:h,value:i[d],searcher:n}))}),l.length&&a.push({idx:c,item:i,matches:l})}),a}_findMatches({key:e,value:n,searcher:r}){if(!Xt(n))return[];let s=[];if(Se(n))n.forEach(({v:a,i,n:c})=>{if(!Xt(a))return;const{isMatch:l,score:h,indices:d}=r.searchIn(a);l&&s.push({score:h,key:e,value:a,idx:i,norm:c,indices:d})});else{const{v:a,n:i}=n,{isMatch:c,score:l,indices:h}=r.searchIn(a);c&&s.push({score:l,key:e,value:a,norm:i,indices:h})}return s}}Un.version="7.1.0";Un.createIndex=Ha;Un.parseIndex=ny;Un.config=j;Un.parseQuery=qa;vy(gy);const ky=6*60*1e3,Ey=90*24*60*60*1e3;function Vy({scheduledAt:t,setScheduledAt:e}){if(!t||!t?.getTime)return;const[n,r]=H(),[s,a]=H(),i=t.getTimezoneOffset();q(()=>{function l(){const u=new Date(Date.now()+ky),f=new Date(u.getTime()-i*6e4).toISOString().slice(0,16);r(f)}l();function h(){const u=new Date(Date.now()+Ey),f=new Date(u.getTime()-i*6e4).toISOString().slice(0,16);a(f)}h();const d=setInterval(()=>{l(),h()},1e3*10);return()=>clearInterval(d)},[]);const c=t?new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,16):null;return o("input",{type:"datetime-local",name:"scheduledAt",defaultValue:c,min:n,max:s,required:!0,onChange:l=>{e(new Date(l.target.value))}})}function Yy(){const t=new Date;return new Intl.DateTimeFormat(void 0,{timeZoneName:"long"}).formatToParts(t).find(s=>s.type==="timeZoneName")?.value}export{Ms as $,_e as A,ae as B,Qs as C,Oy as D,un as E,$a as F,Ny as G,Dr as H,M as I,vg as J,ko as K,Ze as L,Wi as M,Pe as N,ri as O,Rr as P,Cr as Q,we as R,kr as S,og as T,Io as U,sa as V,On as W,bg as X,oi as Y,yg as Z,By as _,jl as a,Zy as a0,gg as a1,Ir as a2,Iy as a3,Pl as a4,Ly as a5,Un as a6,Yy as a7,Vy as a8,fg as a9,Jg as aa,Fy as ab,Bm as ac,mv as ad,tl as ae,tr as af,We as ag,Tg as ah,aa as ai,ky as aj,da as ak,Xp as al,ou as am,qe as an,Fn as ao,Ie as b,Sn as c,ut as d,ni as e,Ke as f,ua as g,$n as h,Ar as i,eo as j,pa as k,Cn as l,ma as m,Kn as n,ql as o,Yt as p,Py as q,oo as r,ht as s,Ry as t,My as u,Dy as v,ei as w,$y as x,ga as y,Em as z};
//# sourceMappingURL=ScheduledAtField-ChApKQgo.js.map
