import{N as ba,O as ya,P as _a,Q as Bn,d as ka,m as st,_ as te,p as le,h as H,o as e,u as Ue,U as wa,i as jn,f as xa,b as xe,V as Ea,S as Ta,M as Gt,k as V,x as Qt,W as ot,X as Aa,Y as La,Z as Fa,$ as Ca,G as Ia,a0 as Sa,a1 as Vn,D as $a,a2 as Da,a3 as Ra,a4 as Pa,a5 as Ma,a6 as Oa,a7 as za,a8 as Na,a9 as Ba,aa as ja,ab as Va,g as Ua,T as Un,ac as Ha,F as Me,y as Jt,ad as yn,v as Ka,a as ct,E as qa,c as zt,J as Hn,C as Wa,ae as Ga,I as Ja,af as Ya,ag as Za,ah as _n,ai as Xa,q as Qa,z as kn}from"./vendor-6f584d39.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}})();const eo="modulepreload",to=function(t,n){return new URL(t,n).href},wn={},k=function(n,a,r){if(!a||a.length===0)return n();const o=document.getElementsByTagName("link");return Promise.all(a.map(s=>{if(s=to(s,r),s in wn)return;wn[s]=!0;const c=s.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!r)for(let p=o.length-1;p>=0;p--){const u=o[p];if(u.href===s&&(!c||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":eo,c||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),c)return new Promise((p,u)=>{h.addEventListener("load",p),h.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>n()).catch(s=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s})};function Kn(t){const n=M.local.getJSON("accounts")||[];return n.find(a=>a.info.id===t)||n[0]}function no(t){return(M.local.getJSON("accounts")||[]).find(a=>a.accessToken===t)}function xt(){window.__IGNORE_GET_ACCOUNT_ERROR__;const t=M.session.get("currentAccount");return Kn(t)}function gt(){const t=xt(),{instanceURL:n,info:{id:a}}=t;return`${a}@${n}`}function ao(t){const n=M.local.getJSON("accounts")||[],a=n.find(r=>r.info.id===t.info.id);a?(a.info=t.info,a.instanceURL=t.instanceURL,a.accessToken=t.accessToken,a.vapidKey=t.vapidKey):n.push(t),M.local.setJSON("accounts",n),M.session.set("currentAccount",t.info.id)}function fi(t){const n=M.local.getJSON("accounts")||[],a=n.find(r=>r.info.id===t.id);a&&(a.info.displayName!==t.displayName||a.info.avatar!==t.avatar||a.info.avatar_static!==t.avatar_static)&&(a.info={...a.info,...t},M.local.setJSON("accounts",n))}let Nt=null;function qn(){if(Nt)return Nt;try{const t=xt(),n=M.local.getJSON("instances"),a=t.instanceURL.toLowerCase();return Nt=n[a]}catch(t){return alert(`Failed to load instance configuration. Please try again.

${t}`),M.local.del("instances"),location.reload(),{}}}const Oe={get:t=>{try{return localStorage.getItem(t)}catch{return null}},getJSON:t=>{try{return JSON.parse(Oe.get(t))}catch{return null}},set:(t,n)=>{try{return localStorage.setItem(t,n)}catch{return null}},setJSON:(t,n)=>{try{return Oe.set(t,JSON.stringify(n))}catch{return null}},del:t=>{try{return localStorage.removeItem(t)}catch{return null}}},Yt={get:t=>{try{return sessionStorage.getItem(t)}catch{return null}},getJSON:t=>{try{return JSON.parse(Yt.get(t))}catch{return null}},set:(t,n)=>{try{return sessionStorage.setItem(t,n)}catch{return null}},setJSON:(t,n)=>{try{return Yt.set(t,JSON.stringify(n))}catch{return null}},del:t=>{try{return sessionStorage.removeItem(t)}catch{return null}}},oo={get:t=>{try{return Oe.getJSON(t)[gt()]}catch{return null}},set:(t,n)=>{try{const a=Oe.getJSON(t)||{};return a[gt()]=n,Oe.setJSON(t,a)}catch{return null}},del:t=>{try{const n=Oe.getJSON(t)||{};return delete n[gt()],Oe.setJSON(t,n)}catch{return null}}},M={local:Oe,session:Yt,account:oo},vt="mastodon.social",yt={},Fe={};window.__ACCOUNT_APIS__=Fe;let Ie;function Ke({instance:t,accessToken:n}){/^https?:\/\//.test(t)&&(t=t.replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase());const a=t?`https://${t}`:`https://${vt}`,o={masto:ba({url:a,accessToken:n,timeout:3e4}),instance:t,accessToken:n};return yt[t]=o,Fe[t]||(Fe[t]={}),n&&(Fe[t][n]=o),o}async function gi(t,n){const{masto:a,accessToken:r}=t;let o;try{o=await a.v2.instance.fetch()}catch{}if(!o)try{o=await a.v1.instance.fetch()}catch{}if(!o)return;const{uri:s,urls:{streamingApi:c}={},domain:d,configuration:{urls:{streaming:f}={}}={}}=o,h=M.local.getJSON("instances")||{};if((s||d)&&(h[(d||s).replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase()]=o),n&&(h[n.toLowerCase()]=o),M.local.setJSON("instances",h),"WebSocket"in window&&(c||f)){const u=ya({streamingApiUrl:f||c,accessToken:r,implementation:WebSocket});t.streaming=u}}async function vi(t,n,a,r){const{masto:o}=t,s=await o.v1.accounts.verifyCredentials();M.session.set("currentAccount",s.id),ao({info:s,instanceURL:n.toLowerCase(),accessToken:a,vapidKey:r})}async function bi(t){try{const{masto:n}=t,a=await n.v1.preferences.fetch();M.account.set("preferences",a)}catch{}}function Ne({instance:t,accessToken:n,accountID:a,account:r}={}){var f,h,p;if(t&&(t=t.toLowerCase().trim()),t&&n){const u=((f=Fe[t])==null?void 0:f[n])||Ke({instance:t,accessToken:n}),{masto:l,streaming:b}=u;return{masto:l,streaming:b,client:u,authenticated:!0,instance:t}}if(n)for(const u in Fe)if(Fe[u][n]){const l=Fe[u][n],{masto:b,streaming:y}=l;return{masto:b,streaming:y,client:l,authenticated:!0,instance:u}}else{const l=no(n);if(l){const b=l.accessToken,y=l.instanceURL.toLowerCase().trim(),g=Ke({instance:y,accessToken:b}),{masto:v,streaming:A}=g;return{masto:v,streaming:A,client:g,authenticated:!0,instance:y}}else throw new Error("Access token not found")}if(r||a)if(r=r||Kn(a),r){const u=r.accessToken,l=r.instanceURL.toLowerCase().trim(),b=((h=Fe[l])==null?void 0:h[u])||Ke({instance:l,accessToken:u}),{masto:y,streaming:g}=b;return{masto:y,streaming:g,client:b,authenticated:!0,instance:l}}else throw new Error(`Account ${a} not found`);if(t){const u=yt[t]||Ke({instance:t}),{masto:l,streaming:b,accessToken:y}=u;return{masto:l,streaming:b,client:u,authenticated:!!y,instance:t}}if(Ie)return{masto:Ie.masto,streaming:Ie.streaming,client:Ie,authenticated:!0,instance:Ie.instance};const o=xt();if(o){const{accessToken:u,instanceURL:l}=o;return Ie=((p=Fe[l])==null?void 0:p[u])||Ke({instance:l,accessToken:u}),{masto:Ie.masto,streaming:Ie.streaming,client:Ie,authenticated:!0,instance:l}}const s=yt[vt]||Ke({instance:vt}),{masto:c,streaming:d}=s;return{masto:c,streaming:d,client:s,authenticated:!1,instance:vt}}window.__API__={currentAccountApi:Ie,apis:yt,accountApis:Fe};const x=_a({appVersion:{},prevLocation:null,currentLocation:null,statuses:{},statusThreadNumber:{},home:[],homeNew:[],homeLast:null,homeLastFetchTime:null,notifications:[],notificationsLast:null,notificationsNew:[],notificationsShowNew:!1,notificationsLastFetchTime:null,accounts:{},reloadStatusPage:0,reloadGenericAccounts:{id:null,counter:0},spoilers:{},scrollPositions:{},unfurledLinks:{},statusQuotes:{},accounts:{},routeNotification:null,showCompose:!1,showSettings:!1,showAccount:!1,showAccounts:!1,showDrafts:!1,showMediaModal:!1,showShortcutsSettings:!1,showKeyboardShortcutsHelp:!1,showGenericAccounts:!1,showMediaAlt:!1,shortcuts:[],settings:{autoRefresh:!1,shortcutsViewMode:null,shortcutsColumnsMode:!1,boostsCarousel:!0,contentTranslation:!0,contentTranslationTargetLanguage:null,contentTranslationHideLanguages:[],contentTranslationAutoInline:!1,cloakMode:!1}});function yi(){x.notificationsLast=M.account.get("notificationsLast")||null,x.shortcuts=M.account.get("shortcuts")??[],x.settings.autoRefresh=M.account.get("settings-autoRefresh")??!1,x.settings.shortcutsViewMode=M.account.get("settings-shortcutsViewMode")??null,x.settings.shortcutsColumnsMode=M.account.get("settings-shortcutsColumnsMode")??!1,x.settings.boostsCarousel=M.account.get("settings-boostsCarousel")??!0,x.settings.contentTranslation=M.account.get("settings-contentTranslation")??!0,x.settings.contentTranslationTargetLanguage=M.account.get("settings-contentTranslationTargetLanguage")||null,x.settings.contentTranslationHideLanguages=M.account.get("settings-contentTranslationHideLanguages")||[],x.settings.contentTranslationAutoInline=M.account.get("settings-contentTranslationAutoInline")??!1,x.settings.cloakMode=M.account.get("settings-cloakMode")??!1}Bn(x,"notificationsLast",t=>{M.account.set("notificationsLast",x.notificationsLast)});ka(x,t=>{for(const[n,a,r,o]of t)a.join(".")==="settings.autoRefresh"&&M.account.set("settings-autoRefresh",!!r),a.join(".")==="settings.boostsCarousel"&&M.account.set("settings-boostsCarousel",!!r),a.join(".")==="settings.shortcutsColumnsMode"&&M.account.set("settings-shortcutsColumnsMode",!!r),a.join(".")==="settings.shortcutsViewMode"&&M.account.set("settings-shortcutsViewMode",r),a.join(".")==="settings.contentTranslation"&&M.account.set("settings-contentTranslation",!!r),a.join(".")==="settings.contentTranslationAutoInline"&&M.account.set("settings-contentTranslationAutoInline",!!r),a.join(".")==="settings.contentTranslationTargetLanguage"&&M.account.set("settings-contentTranslationTargetLanguage",r),/^settings\.contentTranslationHideLanguages/i.test(a.join("."))&&M.account.set("settings-contentTranslationHideLanguages",x.settings.contentTranslationHideLanguages),(a==null?void 0:a[0])==="shortcuts"&&M.account.set("shortcuts",x.shortcuts),a.join(".")==="settings.cloakMode"&&M.account.set("settings-cloakMode",!!r)});function _i(){x.showCompose=!1,x.showSettings=!1,x.showAccount=!1,x.showAccounts=!1,x.showDrafts=!1,x.showMediaModal=!1,x.showShortcutsSettings=!1,x.showKeyboardShortcutsHelp=!1,x.showGenericAccounts=!1,x.showMediaAlt=!1}function Be(t,n){if(t)return n?`${n}/${t}`:t}function Wn(t,n){if(n){const a=Be(t,n);return x.statuses[a]}return x.statuses[t]}function Te(t,n,a){typeof n=="object"&&(a=n,n=null);const{override:r,skipThreading:o}=Object.assign({override:!0,skipThreading:!1},a);if(!t)return;const s=Wn(t.id,n);if(!r&&s)return;const c=Be(t.id,n);if(s!=null&&s._pinned&&(t._pinned=s._pinned),s!=null&&s._filtered&&(t._filtered=s._filtered),x.statuses[c]=t,t.reblog){const d=Be(t.reblog.id,n);x.statuses[d]=t.reblog}o||requestAnimationFrame(()=>{xn(t,n),t.reblog&&xn(t.reblog,n)})}function xn(t,n){const{masto:a,instance:r}=Ne({instance:n});let o=0;async function s(c,d=0){const{inReplyToId:f,inReplyToAccountId:h}=c;if(!f||h!==c.account.id)return[c];if(f&&h!==c.account.id)throw"Not a thread";const p=Be(f,r);let u=x.statuses[p];if(!u){if(o++>3)throw"Too many fetches for thread";await new Promise(l=>setTimeout(l,500*o)),u=await io(f,a),Te(u,r,{skipThreading:!0})}return[...await s(u,++d),c]}return s(t).then(c=>{c.length>1&&c.forEach((d,f)=>{const h=Be(d.id,r);x.statusThreadNumber[h]=f+1})}).catch(c=>{})}const io=st((t,n)=>n.v1.statuses.$select(t).fetch());function ro(t,n,a,r){const o=te(t);le(()=>{o.current=t},[t,a]),le(()=>{!r||n===null||n===!1||o.current()},[r]),le(()=>{if(n===null||n===!1)return;const c=setInterval(()=>o.current(),n);return()=>clearInterval(c)},[n])}function so(t){const n=new URL("/compose/",window.location),{width:a,height:r}=window.screen,o=Math.max(0,(a-600)/2),s=Math.max(0,(r-450)/2),c=Math.min(a,600),d=Math.min(r,450),f=(t==null?void 0:t.uid)||Math.random(),h=window.open(n,"compose"+f,`width=${c},height=${d},left=${o},top=${s}`);return h&&(h.__COMPOSE__=t),h}const co={s:12,m:16,l:20,xl:24,xxl:32},lo={x:()=>k(()=>import("./icons/close-line-1e607fd7.js"),[],import.meta.url),heart:()=>k(()=>import("./icons/heart-line-58c847a5.js"),[],import.meta.url),bookmark:()=>k(()=>import("./icons/bookmark-line-6b313284.js"),[],import.meta.url),"check-circle":()=>k(()=>import("./icons/check-circle-line-482cc23b.js"),[],import.meta.url),"x-circle":()=>k(()=>import("./icons/close-circle-line-f70541d9.js"),[],import.meta.url),transfer:()=>k(()=>import("./icons/transfer-4-line-b7cbb98b.js"),[],import.meta.url),rocket:()=>k(()=>import("./icons/rocket-line-101de3ec.js"),[],import.meta.url),"arrow-left":()=>k(()=>import("./icons/arrow-left-line-0feb3aa8.js"),[],import.meta.url),"arrow-right":()=>k(()=>import("./icons/arrow-right-line-694dabc1.js"),[],import.meta.url),"arrow-up":()=>k(()=>import("./icons/arrow-up-line-95e379ea.js"),[],import.meta.url),"arrow-down":()=>k(()=>import("./icons/arrow-down-line-bb178ce2.js"),[],import.meta.url),earth:()=>k(()=>import("./icons/earth-line-5c4df1e5.js"),[],import.meta.url),lock:()=>k(()=>import("./icons/lock-line-d71022d2.js"),[],import.meta.url),unlock:()=>k(()=>import("./icons/unlock-line-cacd9f81.js"),[],import.meta.url),"eye-close":()=>k(()=>import("./icons/eye-close-line-da2db2a8.js"),[],import.meta.url),"eye-open":()=>k(()=>import("./icons/eye-2-line-64371d08.js"),[],import.meta.url),message:()=>k(()=>import("./icons/mail-line-655a57c1.js"),[],import.meta.url),comment:()=>k(()=>import("./icons/chat-3-line-51ad6e95.js"),[],import.meta.url),home:()=>k(()=>import("./icons/home-3-line-8018e019.js"),[],import.meta.url),notification:()=>k(()=>import("./icons/notification-line-6483301e.js"),[],import.meta.url),follow:()=>k(()=>import("./icons/user-follow-line-d4adf471.js"),[],import.meta.url),"follow-add":()=>k(()=>import("./icons/user-add-line-b53e9c05.js"),[],import.meta.url),poll:[()=>k(()=>import("./icons/chart-bar-line-ca6f21fb.js"),[],import.meta.url),"90deg"],pencil:()=>k(()=>import("./icons/pencil-line-7c3f3024.js"),[],import.meta.url),quill:()=>k(()=>import("./icons/quill-pen-line-992093b1.js"),[],import.meta.url),at:()=>k(()=>import("./icons/at-line-b5f1b18e.js"),[],import.meta.url),attachment:()=>k(()=>import("./icons/attachment-line-ebd7ec47.js"),[],import.meta.url),upload:()=>k(()=>import("./icons/upload-3-line-e7582c69.js"),[],import.meta.url),gear:()=>k(()=>import("./icons/settings-3-line-c7b6c1ed.js"),[],import.meta.url),more:()=>k(()=>import("./icons/more-3-line-9beec198.js"),[],import.meta.url),external:()=>k(()=>import("./icons/external-link-line-e805d30b.js"),[],import.meta.url),popout:()=>k(()=>import("./icons/external-link-line-e805d30b.js"),[],import.meta.url),popin:[()=>k(()=>import("./icons/external-link-line-e805d30b.js"),[],import.meta.url),"180deg"],plus:()=>k(()=>import("./icons/add-circle-line-0f9ede61.js"),[],import.meta.url),"chevron-left":()=>k(()=>import("./icons/left-line-8c6d4730.js"),[],import.meta.url),"chevron-right":()=>k(()=>import("./icons/right-line-a8ed19bd.js"),[],import.meta.url),"chevron-down":()=>k(()=>import("./icons/down-line-22725d11.js"),[],import.meta.url),reply:[()=>k(()=>import("./icons/share-forward-line-0e1cf661.js"),[],import.meta.url),"180deg","horizontal"],thread:()=>k(()=>import("./icons/route-line-edf25882.js"),[],import.meta.url),group:()=>k(()=>import("./icons/group-line-7fc1ae6f.js"),[],import.meta.url),bot:()=>k(()=>import("./icons/android-2-line-9258188e.js"),[],import.meta.url),menu:()=>k(()=>import("./icons/rows-4-line-b232add2.js"),[],import.meta.url),list:()=>k(()=>import("./icons/list-check-line-d954d344.js"),[],import.meta.url),search:()=>k(()=>import("./icons/search-2-line-91d20a16.js"),[],import.meta.url),hashtag:()=>k(()=>import("./icons/hashtag-line-173f0e0d.js"),[],import.meta.url),info:()=>k(()=>import("./icons/information-line-f740a4d0.js"),[],import.meta.url),shortcut:()=>k(()=>import("./icons/lightning-line-13c40c00.js"),[],import.meta.url),user:()=>k(()=>import("./icons/user-4-line-f6272bc4.js"),[],import.meta.url),following:()=>k(()=>import("./icons/walk-line-f9ac997b.js"),[],import.meta.url),pin:()=>k(()=>import("./icons/pin-line-1614dbce.js"),[],import.meta.url),bus:()=>k(()=>import("./icons/bus-2-line-287f972b.js"),[],import.meta.url),link:()=>k(()=>import("./icons/link-2-line-e03d0a4a.js"),[],import.meta.url),history:()=>k(()=>import("./icons/history-line-fe495dd5.js"),[],import.meta.url),share:()=>k(()=>import("./icons/share-2-line-24701383.js"),[],import.meta.url),sparkles:()=>k(()=>import("./icons/sparkles-line-c135b7ce.js"),[],import.meta.url),exit:()=>k(()=>import("./icons/exit-line-ec340eaf.js"),[],import.meta.url),translate:()=>k(()=>import("./icons/translate-line-2df19669.js"),[],import.meta.url),play:()=>k(()=>import("./icons/play-fill-36970130.js"),[],import.meta.url),trash:()=>k(()=>import("./icons/delete-2-line-682baf55.js"),[],import.meta.url),mute:()=>k(()=>import("./icons/volume-mute-line-9ab0102c.js"),[],import.meta.url),unmute:()=>k(()=>import("./icons/volume-line-9e549d94.js"),[],import.meta.url),block:()=>k(()=>import("./icons/forbid-circle-line-077295c5.js"),[],import.meta.url),unblock:[()=>k(()=>import("./icons/forbid-circle-line-077295c5.js"),[],import.meta.url),"180deg"],flag:()=>k(()=>import("./icons/flag-4-line-a416d7ea.js"),[],import.meta.url),time:()=>k(()=>import("./icons/time-line-78409f27.js"),[],import.meta.url),refresh:()=>k(()=>import("./icons/refresh-2-line-c573bc2e.js"),[],import.meta.url),emoji2:()=>k(()=>import("./icons/emoji-2-line-b853d04a.js"),[],import.meta.url),filter:()=>k(()=>import("./icons/filter-2-line-5c65a22f.js"),[],import.meta.url),chart:()=>k(()=>import("./icons/chart-line-line-e9099084.js"),[],import.meta.url),react:()=>k(()=>import("./icons/react-line-1e209827.js"),[],import.meta.url),layout4:()=>k(()=>import("./icons/layout-4-line-aff02a7f.js"),[],import.meta.url),layout5:()=>k(()=>import("./icons/layout-5-line-29b47e62.js"),[],import.meta.url),announce:()=>k(()=>import("./icons/announcement-line-71e251ef.js"),[],import.meta.url),alert:()=>k(()=>import("./icons/alert-line-d292623f.js"),[],import.meta.url),round:()=>k(()=>import("./icons/round-fill-d5665283.js"),[],import.meta.url),"arrow-up-circle":()=>k(()=>import("./icons/arrow-up-circle-line-92cd8597.js"),[],import.meta.url),"arrow-down-circle":()=>k(()=>import("./icons/arrow-down-circle-line-fb990a65.js"),[],import.meta.url),clipboard:()=>k(()=>import("./icons/clipboard-line-69c6b835.js"),[],import.meta.url),"account-edit":()=>k(()=>import("./icons/user-edit-line-8f150bdb.js"),[],import.meta.url),"account-warning":()=>k(()=>import("./icons/user-warning-line-a67c49de.js"),[],import.meta.url),keyboard:()=>k(()=>import("./icons/keyboard-line-ad6bd154.js"),[],import.meta.url),cloud:()=>k(()=>import("./icons/cloud-line-093593ee.js"),[],import.meta.url)};function T({icon:t,size:n="m",alt:a,title:r,class:o="",style:s={}}){if(!t)return null;const c=co[n];let d=lo[t],f,h;Array.isArray(d)&&([d,f,h]=d);const[p,u]=H(null);return le(async()=>{const l=await d();u(l.default)},[d]),e("span",{class:`icon ${o}`,title:r||a,style:{width:`${c}px`,height:`${c}px`,display:"inline-block",overflow:"hidden",lineHeight:0,...s},children:p&&e("svg",{width:c,height:c,viewBox:`0 0 ${p.width} ${p.height}`,dangerouslySetInnerHTML:{__html:p.body},style:{transform:`${f?`rotate(${f})`:""} ${h?"scaleX(-1)":""}`}})})}const uo=document.getElementById("modal-container");function it({children:t,onClose:n,onClick:a,class:r}){if(!t)return null;const o=te();le(()=>{let d=setTimeout(()=>{var h;const f=(h=o.current)==null?void 0:h.querySelector('[tabindex="-1"]');f&&f.focus()},100);return()=>clearTimeout(d)},[]);const s=Ue("esc",n,[n],{enabled:!!n}),c=e("div",{ref:d=>{var f;o.current=d,s.current=((f=d==null?void 0:d.querySelector)==null?void 0:f.call(d,'[tabindex="-1"]'))||d},className:r,onClick:d=>{a==null||a(d),d.target===d.currentTarget&&(n==null||n(d))},tabIndex:"-1",onFocus:d=>{var f,h,p,u;d.target===d.currentTarget&&((u=(p=(h=(f=o.current)==null?void 0:f.querySelector)==null?void 0:h.call(f,'[tabindex="-1"]'))==null?void 0:p.focus)==null||u.call(p))},children:t});return wa(c,uo)}function Je({abrupt:t,hidden:n,...a}){return e("div",{...a,class:`loader-container ${t?"abrupt":""} ${n?"hidden":""}`,children:e("div",{class:"loader"})})}const En={s:16,m:20,l:24,xl:32,xxl:50,xxxl:64},et={},tt=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas"),Bt=tt.getContext("2d",{willReadFrequently:!0});function He({url:t,size:n,alt:a="",squircle:r,...o}){n=En[n]||n||En.m;const s=te(),c=/missing\.png$/.test(t);return e("span",{ref:s,class:`avatar ${r?"squircle":""} ${et[t]?"has-alpha":""}`,style:{width:n,height:n},title:a,...o,children:!!t&&e("img",{src:t,width:n,height:n,alt:a,loading:"lazy",decoding:"async",crossOrigin:et[t]===void 0&&!c?"anonymous":void 0,onError:d=>{d.target.crossOrigin&&(d.target.crossOrigin=null,d.target.src=t)},onLoad:d=>{if(s.current&&(s.current.dataset.loaded=!0),et[t]===void 0&&!c)try{const{width:f,height:h}=d.target;tt.width!==f&&(tt.width=f),tt.height!==h&&(tt.height=h),Bt.drawImage(d.target,0,0);const p=Bt.getImageData(0,0,f,h),u=p.data.filter((l,b)=>b%4===3&&l<=128).length/(p.data.length/4)>.1;u&&s.current.classList.add("has-alpha"),et[t]=u,Bt.clearRect(0,0,f,h)}catch{et[t]=!1}}})})}const lt=jn((t,n)=>{let a;try{a=xa()}catch{}let r=(location.hash||"").replace(/^#/,"").trim();r===""&&(r="/");const{to:o,...s}=t;if(r&&r!=="/"&&r.includes("?")){const d=new URL(r,location.origin);if(d.searchParams.size){const f=Array.from(d.searchParams.entries()).map(([h,p])=>`${h}=${encodeURIComponent(p)}`).join("&");r=d.pathname+"?"+f}}const c=r===o||decodeURIComponent(r)===o;return e("a",{ref:n,href:`#${o}`,...s,class:`${t.class||""} ${c?"is-active":""}`,onClick:d=>{var f,h,p;(h=(f=d.currentTarget)==null?void 0:f.parentNode)!=null&&h.closest("a")&&d.stopPropagation(),a&&(x.prevLocation=a),(p=t.onClick)==null||p.call(t,d)}})});function jt({subMenu:t=!1,confirm:n=!0,confirmLabel:a,menuItemClassName:r,menuFooter:o,...s}){const{children:c,onClick:d,...f}=s;if(!n)return t?e(xe,{...s}):d?Ea(c,{onClick:d}):c;const h=t?Ta:Gt,p=te();return e(h,{instanceRef:p,openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",...f,menuButton:t?void 0:c,label:t?c:void 0,itemProps:{onPointerMove:u=>{var l,b;u.pointerType==="touch"&&((b=(l=p.current)==null?void 0:l.openMenu)==null||b.call(l))},onPointerLeave:u=>{var l,b;u.pointerType==="touch"&&((b=(l=p.current)==null?void 0:l.openMenu)==null||b.call(l))}},children:[e(xe,{className:r,onClick:d,children:a}),o]})}function rt({text:t,emojis:n}){if(!t)return"";if(!(n!=null&&n.length)||t.indexOf(":")===-1)return t;const a=new RegExp(`:(${n.map(o=>o.shortcode).join("|")}):`,"g");return t.split(a).map(o=>{const s=n.find(c=>c.shortcode===o);if(s){const{url:c,staticUrl:d}=s;return e("picture",{children:[e("source",{srcset:d,media:"(prefers-reduced-motion: reduce)"}),e("img",{src:c,alt:o,class:"shortcode-emoji emoji",width:"16",height:"16",loading:"lazy",decoding:"async"},o)]})}return o})}function mo({account:t,instance:n,showAvatar:a,showAcct:r,short:o,external:s,onClick:c}){var D;const{acct:d,avatar:f,avatarStatic:h,id:p,url:u,displayName:l,emojis:b,bot:y}=t;let{username:g}=t;const[v,A,L]=d.match(/([^@]+)(@.+)/i)||[,d],w=g.toLowerCase().trim(),E=(l||"").toLowerCase().trim(),$=E.replace(/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,"").replace(/\s+/g,""),W=$.replace(/[^a-z0-9]/gi,"");return!o&&(w===E||w===$||w===W||((D=w.localeCompare)==null?void 0:D.call(w,$,"en",{sensitivity:"base"}))===0)&&(g=null),e("a",{class:`name-text ${r?"show-acct":""} ${o?"short":""}`,href:u,target:s?"_blank":null,title:`${l?`${l} `:""}@${d}`,onClick:J=>{if(!s){if(J.preventDefault(),J.stopPropagation(),c)return c(J);x.showAccount={account:t,instance:n}}},children:[a&&e(V,{children:[e(He,{url:h||f,squircle:y})," "]}),l&&!o?e(V,{children:[e("b",{children:e(rt,{text:l,emojis:b})}),!r&&g&&e(V,{children:[" ",e("i",{children:["@",g]})]})]}):o?e("i",{children:g}):e("b",{children:g}),r&&e(V,{children:[e("br",{}),e("i",{children:["@",A,e("span",{class:"ib",children:L})]})]})]})}const nt=Qt(mo);ot.extend(Aa);ot.extend(La);ot.extend(Fa);const ho=new Intl.DateTimeFormat;function _t({datetime:t,format:n}){if(!t)return null;const a=ot(t),[r,o]=H("");return le(()=>{let s,c;const d=()=>{c=requestAnimationFrame(()=>{let f;if(n==="micro"){const h=ot();h.diff(a,"day")<=1||h.year()===a.year()?f=a.twitter():f=ho.format(a.toDate())}else f=a.fromNow();o(f),s=setTimeout(d,3e4)})};return c=requestAnimationFrame(d),()=>{clearTimeout(s),cancelAnimationFrame(c)}},[a]),e("time",{datetime:a.toISOString(),title:a.format("LLLL"),children:r})}const po=[{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"zh_HANT",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];function fo(...t){try{return Ca(...t)}catch{return t[2]||!1}}const kt=st(fo,{cacheKey:t=>t.join()}),go=[new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages];function Gn(t=!1){if(t){const{contentTranslationTargetLanguage:n}=x.settings;if(n)return n}return kt(go,po.map(n=>n.code.replace("_","-")),"en")}function Vt(t){try{return new Intl.DisplayNames(navigator.languages,{type:"language"}).of(t)}catch{return null}}window._showToast=we;function we(t){typeof t=="string"&&(t={text:t});const{onClick:n,delay:a,...r}=t,o=Ia({className:`${n||t.destination?"shiny-pill":""}`,gravity:"bottom",position:"center",...r,onClick:()=>{n==null||n(o)}});a?setTimeout(()=>{o.showToast()},a):o.showToast()}function en(t,n=[]){return t?(!n.length||t.indexOf(":")===-1||n.forEach(a=>{const{shortcode:r,staticUrl:o,url:s}=a;t=t.replace(new RegExp(`:${r}:`,"g"),`<picture><source srcset="${o}" media="(prefers-reduced-motion: reduce)"></source><img class="shortcode-emoji emoji" src="${s}" alt=":${r}:" width="16" height="16" loading="lazy" decoding="async" /></picture>`)}),t):""}const qe=document.createElement("div"),vo=["u-url","mention","hashtag"];function Zt(t,n={}){const{emojis:a,postEnhanceDOM:r=()=>{}}=n;let o=t;const s=document.createElement("div");s.innerHTML=o;const c=/<a/i.test(o),d=o.indexOf("```")!==-1;if(c&&(Array.from(s.querySelectorAll('a:not([target="_blank"])')).forEach(u=>{u.setAttribute("target","_blank")}),Array.from(s.querySelectorAll("a[class]")).forEach(u=>{Array.from(u.classList).forEach(l=>{vo.includes(l)||u.classList.remove(l)})})),c&&Array.from(s.querySelectorAll("a[href]")).forEach(p=>{/^https?:\/\//i.test(p.textContent.trim())&&p.classList.add("has-url-text")}),c){const h=Array.from(s.querySelectorAll("a[href]")),p=[];h.forEach(u=>{const l=u.innerText.trim(),b=u.querySelector("*");if(/^@[^@]+(@[^@]+)?$/g.test(l)){const[y,g,v]=l.split("@");b||(!p.find(([A])=>A===g)||p.find(([A,L])=>A===g&&L===v)?(u.innerHTML=`@<span>${g}</span>`,p.push([g,v])):u.innerHTML=`@<span>${g}@${v}</span>`),u.classList.add("mention")}/^#[^#]+$/g.test(l)&&(b||(u.innerHTML=`#<span>${l.slice(1)}</span>`),u.classList.add("mention","hashtag"))})}let f;if(o.indexOf(":")!==-1&&(f=Ut(s),f.forEach(h=>{let p=h.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a&&(p=en(p,a)),qe.innerHTML=p;const u=Array.from(qe.childNodes);h.replaceWith(...u)})),d&&Array.from(s.querySelectorAll("p")).filter(p=>/^```[^]+```$/g.test(p.innerText.trim())).forEach(p=>{const u=document.createElement("pre");p.querySelectorAll("br").forEach(l=>l.replaceWith(`
`)),u.innerHTML=`<code>${p.innerHTML.trim()}</code>`,p.replaceWith(u)}),d&&Array.from(s.querySelectorAll("p")).filter(u=>/^```/g.test(u.innerText)).forEach(u=>{const l=[u];let b=!1,y=u;for(;y.nextElementSibling;){const g=y.nextElementSibling;if(g&&g.tagName==="P")if(/```$/g.test(g.innerText)){l.push(g),b=!0;break}else l.push(g);else break;y=g}if(b){const g=document.createElement("pre");l.forEach(A=>{A.querySelectorAll("br").forEach(L=>L.replaceWith(`
`))});const v=l.map(A=>A.innerHTML).join(`

`);g.innerHTML=`<code tabindex="0">${v}</code>`,u.replaceWith(g),l.forEach(A=>A.remove())}}),o.indexOf("`")!==-1&&(f=Ut(s),f.forEach(h=>{let p=h.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/`[^`]+`/g.test(p)&&(p=p.replaceAll(/(`[^]+?`)/g,"<code>$1</code>")),qe.innerHTML=p;const u=Array.from(qe.childNodes);h.replaceWith(...u)})),/twitter\.com/i.test(o)&&(f=Ut(s,{rejectFilter:["A"]}),f.forEach(h=>{let p=h.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/@[a-zA-Z0-9_]+@twitter\.com/g.test(p)&&(p=p.replaceAll(/(@([a-zA-Z0-9_]+)@twitter\.com)/g,'<a href="https://twitter.com/$2" rel="nofollow noopener noreferrer" target="_blank">$1</a>')),qe.innerHTML=p;const u=Array.from(qe.childNodes);h.replaceWith(...u)})),o.indexOf("#")!==-1){let h=null;const p=Array.from(s.querySelectorAll("p")).filter((u,l)=>{let b=0;for(let y=0;y<u.childNodes.length;y++){const g=u.childNodes[y];if(g.nodeType===Node.TEXT_NODE){if(g.textContent.trim()!=="")return!1}else if(g.tagName!=="BR")if(g.tagName==="A"){const v=g.textContent.trim();if(!v||!v.startsWith("#"))return!1;b++}else return!1}if(b>3||b>1&&h&&l===h+1)return h=l,!0});p!=null&&p.length&&p.forEach(u=>{u.classList.add("hashtag-stuffing"),u.title=u.innerText})}return r&&r(s),o=s.innerHTML,o}const bo=["STYLE","IMG","VIDEO","AUDIO","AREA","MAP","TRACK","EMBED","IFRAME","OBJECT","PICTURE","PORTAL","SOURCE","SVG","MATH","CANVAS","NOSCRIPT","SCRIPT","INPUT","OPTION","TEXTAREA","SLOT","TEMPLATE"],yo=Object.fromEntries(bo.map(t=>[t,!0]));function Ut(t,n={}){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode(s){return yo[s.parentNode.nodeName]||n.rejectFilter&&n.rejectFilter.includes(s.parentNode.nodeName)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let o;for(;o=r.nextNode();)a.push(o);return a}const Ht=document.createElement("div");function Xt(t){return t?(Ht.innerHTML=t.replace(/<\/p>/g,`</p>

`).replace(/<\/li>/g,`</li>
`),Ht.querySelectorAll("br").forEach(n=>{n.replaceWith(`
`)}),Ht.innerText.replace(/[\r\n]{3,}/g,`

`).trim()):""}function _o(t){const{mentions:n=[],instance:a,previewMode:r,statusURL:o}=t||{};return s=>{var p,u;let{target:c}=s;if(c=c.closest("a"),!c||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey||s.which===2)return;const d=(p=c.previousSibling)==null?void 0:p.textContent,f=d==null?void 0:d.endsWith("@"),h=c.innerText.startsWith("@");if(c.classList.contains("u-url")&&h||f&&!h){const l=(c.querySelector("span")||c).innerText.trim(),b=l.replace(/^@/,""),y=c.getAttribute("href"),g=n.find(v=>v.username===b||v.acct===b||v.url===y);if(g)s.preventDefault(),s.stopPropagation(),x.showAccount={account:g.acct,instance:a};else if(!/^http/i.test(l)){s.preventDefault(),s.stopPropagation();const v=c.getAttribute("href");x.showAccount={account:v,instance:a}}}else if(!r){const l=d==null?void 0:d.endsWith("#");if(c.classList.contains("hashtag")||l){s.preventDefault(),s.stopPropagation();const b=c.innerText.replace(/^#/,"").trim(),y=a?`#/${a}/t/${b}`:`#/t/${b}`;location.hash=y}else(u=x.unfurledLinks[c.href])!=null&&u.url&&o!==c.href&&(s.preventDefault(),s.stopPropagation(),x.prevLocation={pathname:location.hash.replace(/^#/,"")},location.hash=`#${x.unfurledLinks[c.href].url}`)}}}const{locale:ko}=new Intl.DateTimeFormat().resolvedOptions();function wt(t,{hideTime:n,formatOpts:a}={}){t instanceof Date||(t=new Date(t));const r=new Date().getFullYear();return Intl.DateTimeFormat(ko,{year:t.getFullYear()===r?void 0:"numeric",month:"short",day:"numeric",hour:n?void 0:"numeric",minute:n?void 0:"numeric",...a}).format(t)}const{locale:wo}=Intl.NumberFormat().resolvedOptions(),Ge=Intl.NumberFormat(wo,{notation:"compact"}).format;function Jn({skeleton:t,account:n,avatarSize:a="xl",instance:r,external:o,internal:s,onClick:c,showActivity:d=!1,showStats:f=!1,accountInstance:h,hideDisplayName:p=!1}){if(t)return e("div",{class:"account-block skeleton",children:[e(He,{size:a}),e("span",{children:[e("b",{children:"████████"}),e("br",{}),e("span",{class:"account-block-acct",children:"@██████"})]})]});const{id:u,acct:l,avatar:b,avatarStatic:y,displayName:g,username:v,emojis:A,url:L,statusesCount:w,lastStatusAt:E,bot:$,fields:W,note:D,group:J}=n;let[K,R,N]=l.match(/([^@]+)(@.+)/i)||[,l];h&&(N=`@${h}`);const q=W==null?void 0:W.find(Z=>!!Z.verifiedAt&&!!Z.value);return e("a",{class:"account-block",href:L,target:o?"_blank":null,title:`@${l}`,onClick:Z=>{if(!o){if(Z.preventDefault(),c)return c(Z);s?location.hash=`/${r}/a/${u}`:x.showAccount={account:n,instance:r}}},children:[e(He,{url:b,size:a,squircle:$}),e("span",{children:[!p&&e(V,{children:[g?e("b",{children:e(rt,{text:g,emojis:A})}):e("b",{children:v}),e("br",{})]}),e("span",{class:"account-block-acct",children:["@",R,e("wbr",{}),N]}),d&&e(V,{children:[e("br",{}),e("small",{class:"last-status-at insignificant",children:["Posts: ",w,!!E&&e(V,{children:[" ","· Last posted:"," ",wt(E,{hideTime:!0})]})]})]}),f&&e("div",{class:"account-block-stats",children:[e("div",{class:"short-desc",dangerouslySetInnerHTML:{__html:Zt(D,{emojis:A})}}),$&&e(V,{children:e("span",{class:"tag",children:[e(T,{icon:"bot"})," Automated"]})}),!!J&&e(V,{children:e("span",{class:"tag",children:[e(T,{icon:"group"})," Group"]})}),!!q&&e("span",{class:"verified-field ib",children:[e(T,{icon:"check-circle",size:"s"})," ",e("span",{dangerouslySetInnerHTML:{__html:Zt(q.value,{emojis:A})}})]})]})]})]})}const xo={"@mastodon/edit-media-attributes":">=4.1","@mastodon/list-exclusive":">=4.2"},Kt={};function Yn(t){try{const{version:n,domain:a}=qn(),r=`${a}-${t}`;if(Kt[r])return Kt[r];const o=xo[t];return o?Kt[r]=Sa.satisfies(n,o,{includePrerelease:!0,loose:!0}):!1}catch{return!1}}const Eo=[{code:"auto",name:"Detect"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}],To=Vn({limit:1,interval:2e3}),Tn=["lingva.garudalinux.org","lingva.lunar.icu","translate.plausibility.cloud"];let qt=0;function Zn(t,n,a){return $a(()=>{let o=Tn[qt];return fetch(`https://${o}/api/v1/${n}/${a}/${encodeURIComponent(t)}`).then(s=>s.json()).then(s=>{var c;return{provider:"lingva",content:s.translation,detectedSourceLanguage:(c=s.info)==null?void 0:c.detectedSource,info:s.info}})},{retries:3,onFailedAttempt:o=>{qt=(qt+1)%Tn.length}})}const Ao=To(Zn);function Lo({forceTranslate:t,sourceLanguage:n,onTranslate:a,text:r="",mini:o}){const s=Gn(!0),[c,d]=H("default"),[f,h]=H(null),[p,u]=H(null),[l,b]=H(null),y=te(),g=n?Vt(n):null,v=Vt(s),A=te("auto");a||(a=o?Ao:Zn);const L=async()=>{var w,E;d("loading");try{const{content:$,detectedSourceLanguage:W,provider:D,error:J,...K}=await a(r,A.current,s);if($){if(W){const R=Vt(W);b(R)}if(D==="lingva"){const R=(E=(w=K==null?void 0:K.info)==null?void 0:w.pronunciation)==null?void 0:E.query;R&&h(R)}u($),d("default"),!o&&$.trim()!==r.trim()&&(y.current.open=!0,y.current.scrollIntoView({behavior:"smooth",block:"nearest"}))}else d("error")}catch{d("error")}};return le(()=>{t&&L()},[t]),o?p&&p.trim()!==r.trim()&&l!==v?e("div",{class:"shazam-container",children:e("div",{class:"shazam-container-inner",children:e("div",{class:"status-translation-block-mini",children:[e(T,{icon:"translate",alt:`Auto-translated from ${g}`}),e("output",{lang:s,dir:"auto",title:f||"",children:p})]})})}):null:e("div",{class:"status-translation-block",onClick:w=>{w.preventDefault()},children:e("details",{ref:y,children:[e("summary",{children:e("button",{type:"button",onClick:async w=>{w.preventDefault(),w.stopPropagation(),y.current.open=!y.current.open,c!=="loading"&&(p||L())},children:[e(T,{icon:"translate"})," ",e("span",{children:c==="loading"?"Translating…":n&&g&&!l?`Translate from ${g}`:"Translate"})]})}),e("div",{class:"translated-block",children:[e("div",{class:"translation-info insignificant",children:[e("select",{class:"translated-source-select",disabled:c==="loading",onChange:w=>{A.current=w.target.value,L()},children:Eo.map(w=>e("option",{value:w.code,children:w.code==="auto"?`Auto (${l??"…"})`:w.name}))})," ",e("span",{children:["→ ",v]}),e(Je,{abrupt:!0,hidden:c!=="loading"})]}),c==="error"?e("p",{class:"ui-state",children:"Failed to translate"}):!!p&&e(V,{children:[e("output",{class:"translated-content",lang:s,dir:"auto",children:p}),!!f&&e("output",{class:"translated-pronunciation-content",tabIndex:-1,onClick:w=>{w.target.classList.toggle("expand")},children:f})]})]})]})})}const tn=[["aa","Afar","Afaraf"],["ab","Abkhaz","аҧсуа бызшәа"],["ae","Avestan","avesta"],["af","Afrikaans","Afrikaans"],["ak","Akan","Akan"],["am","Amharic","አማርኛ"],["an","Aragonese","aragonés"],["ar","Arabic","اللغة العربية"],["as","Assamese","অসমীয়া"],["av","Avaric","авар мацӀ"],["ay","Aymara","aymar aru"],["az","Azerbaijani","azərbaycan dili"],["ba","Bashkir","башҡорт теле"],["be","Belarusian","беларуская мова"],["bg","Bulgarian","български език"],["bh","Bihari","भोजपुरी"],["bi","Bislama","Bislama"],["bm","Bambara","bamanankan"],["bn","Bengali","বাংলা"],["bo","Tibetan","བོད་ཡིག"],["br","Breton","brezhoneg"],["bs","Bosnian","bosanski jezik"],["ca","Catalan","Català"],["ce","Chechen","нохчийн мотт"],["ch","Chamorro","Chamoru"],["co","Corsican","corsu"],["cr","Cree","ᓀᐦᐃᔭᐍᐏᐣ"],["cs","Czech","čeština"],["cu","Old Church Slavonic","ѩзыкъ словѣньскъ"],["cv","Chuvash","чӑваш чӗлхи"],["cy","Welsh","Cymraeg"],["da","Danish","dansk"],["de","German","Deutsch"],["dv","Divehi","Dhivehi"],["dz","Dzongkha","རྫོང་ཁ"],["ee","Ewe","Eʋegbe"],["el","Greek","Ελληνικά"],["en","English","English"],["eo","Esperanto","Esperanto"],["es","Spanish","Español"],["et","Estonian","eesti"],["eu","Basque","euskara"],["fa","Persian","فارسی"],["ff","Fula","Fulfulde"],["fi","Finnish","suomi"],["fj","Fijian","Vakaviti"],["fo","Faroese","føroyskt"],["fr","French","Français"],["fy","Western Frisian","Frysk"],["ga","Irish","Gaeilge"],["gd","Scottish Gaelic","Gàidhlig"],["gl","Galician","galego"],["gu","Gujarati","ગુજરાતી"],["gv","Manx","Gaelg"],["ha","Hausa","هَوُسَ"],["he","Hebrew","עברית"],["hi","Hindi","हिन्दी"],["ho","Hiri Motu","Hiri Motu"],["hr","Croatian","Hrvatski"],["ht","Haitian","Kreyòl ayisyen"],["hu","Hungarian","magyar"],["hy","Armenian","Հայերեն"],["hz","Herero","Otjiherero"],["ia","Interlingua","Interlingua"],["id","Indonesian","Bahasa Indonesia"],["ie","Interlingue","Interlingue"],["ig","Igbo","Asụsụ Igbo"],["ii","Nuosu","ꆈꌠ꒿ Nuosuhxop"],["ik","Inupiaq","Iñupiaq"],["io","Ido","Ido"],["is","Icelandic","Íslenska"],["it","Italian","Italiano"],["iu","Inuktitut","ᐃᓄᒃᑎᑐᑦ"],["ja","Japanese","日本語"],["jv","Javanese","basa Jawa"],["ka","Georgian","ქართული"],["kg","Kongo","Kikongo"],["ki","Kikuyu","Gĩkũyũ"],["kj","Kwanyama","Kuanyama"],["kk","Kazakh","қазақ тілі"],["kl","Kalaallisut","kalaallisut"],["km","Khmer","ខេមរភាសា"],["kn","Kannada","ಕನ್ನಡ"],["ko","Korean","한국어"],["kr","Kanuri","Kanuri"],["ks","Kashmiri","कश्मीरी"],["ku","Kurmanji (Kurdish)","Kurmancî"],["kv","Komi","коми кыв"],["kw","Cornish","Kernewek"],["ky","Kyrgyz","Кыргызча"],["la","Latin","latine"],["lb","Luxembourgish","Lëtzebuergesch"],["lg","Ganda","Luganda"],["li","Limburgish","Limburgs"],["ln","Lingala","Lingála"],["lo","Lao","ລາວ"],["lt","Lithuanian","lietuvių kalba"],["lu","Luba-Katanga","Tshiluba"],["lv","Latvian","latviešu valoda"],["mg","Malagasy","fiteny malagasy"],["mh","Marshallese","Kajin M̧ajeļ"],["mi","Māori","te reo Māori"],["mk","Macedonian","македонски јазик"],["ml","Malayalam","മലയാളം"],["mn","Mongolian","Монгол хэл"],["mr","Marathi","मराठी"],["ms","Malay","Bahasa Melayu"],["mt","Maltese","Malti"],["my","Burmese","ဗမာစာ"],["na","Nauru","Ekakairũ Naoero"],["nb","Norwegian Bokmål","Norsk bokmål"],["nd","Northern Ndebele","isiNdebele"],["ne","Nepali","नेपाली"],["ng","Ndonga","Owambo"],["nl","Dutch","Nederlands"],["nn","Norwegian Nynorsk","Norsk Nynorsk"],["no","Norwegian","Norsk"],["nr","Southern Ndebele","isiNdebele"],["nv","Navajo","Diné bizaad"],["ny","Chichewa","chiCheŵa"],["oc","Occitan","occitan"],["oj","Ojibwe","ᐊᓂᔑᓈᐯᒧᐎᓐ"],["om","Oromo","Afaan Oromoo"],["or","Oriya","ଓଡ଼ିଆ"],["os","Ossetian","ирон æвзаг"],["pa","Panjabi","ਪੰਜਾਬੀ"],["pi","Pāli","पाऴि"],["pl","Polish","Polski"],["ps","Pashto","پښتو"],["pt","Portuguese","Português"],["qu","Quechua","Runa Simi"],["rm","Romansh","rumantsch grischun"],["rn","Kirundi","Ikirundi"],["ro","Romanian","Română"],["ru","Russian","Русский"],["rw","Kinyarwanda","Ikinyarwanda"],["sa","Sanskrit","संस्कृतम्"],["sc","Sardinian","sardu"],["sd","Sindhi","सिन्धी"],["se","Northern Sami","Davvisámegiella"],["sg","Sango","yângâ tî sängö"],["si","Sinhala","සිංහල"],["sk","Slovak","slovenčina"],["sl","Slovenian","slovenščina"],["sn","Shona","chiShona"],["so","Somali","Soomaaliga"],["sq","Albanian","Shqip"],["sr","Serbian","српски језик"],["ss","Swati","SiSwati"],["st","Southern Sotho","Sesotho"],["su","Sundanese","Basa Sunda"],["sv","Swedish","Svenska"],["sw","Swahili","Kiswahili"],["ta","Tamil","தமிழ்"],["te","Telugu","తెలుగు"],["tg","Tajik","тоҷикӣ"],["th","Thai","ไทย"],["ti","Tigrinya","ትግርኛ"],["tk","Turkmen","Türkmen"],["tl","Tagalog","Wikang Tagalog"],["tn","Tswana","Setswana"],["to","Tonga","faka Tonga"],["tr","Turkish","Türkçe"],["ts","Tsonga","Xitsonga"],["tt","Tatar","татар теле"],["tw","Twi","Twi"],["ty","Tahitian","Reo Tahiti"],["ug","Uyghur","ئۇيغۇرچە‎"],["uk","Ukrainian","Українська"],["ur","Urdu","اردو"],["uz","Uzbek","Ўзбек"],["ve","Venda","Tshivenḓa"],["vi","Vietnamese","Tiếng Việt"],["vo","Volapük","Volapük"],["wa","Walloon","walon"],["wo","Wolof","Wollof"],["xh","Xhosa","isiXhosa"],["yi","Yiddish","ייִדיש"],["yo","Yoruba","Yorùbá"],["za","Zhuang","Saɯ cueŋƅ"],["zh","Chinese","中文"],["zu","Zulu","isiZulu"],["zh-CN","Chinese (China)","简体中文"],["zh-HK","Chinese (Hong Kong)","繁體中文（香港）"],["zh-TW","Chinese (Taiwan)","繁體中文（臺灣）"],["zh-YUE","Cantonese","廣東話"],["ast","Asturian","Asturianu"],["chr","Cherokee","ᏣᎳᎩ ᎦᏬᏂᎯᏍᏗ"],["ckb","Sorani (Kurdish)","سۆرانی"],["cnr","Montenegrin","crnogorski"],["jbo","Lojban","la .lojban."],["kab","Kabyle","Taqbaylit"],["kmr","Kurmanji (Kurdish)","Kurmancî"],["ldn","Láadan","Láadan"],["lfn","Lingua Franca Nova","lingua franca nova"],["sco","Scots","Scots"],["sma","Southern Sami","Åarjelsaemien Gïele"],["smj","Lule Sami","Julevsámegiella"],["szl","Silesian","ślůnsko godka"],["tok","Toki Pona","toki pona"],["xal","Kalmyk","Хальмг келн"],["zba","Balaibalan","باليبلن"],["zgh","Standard Moroccan Tamazight","ⵜⴰⵎⴰⵣⵉⵖⵜ"]],Fo="(((?:[^A-Za-z0-9@＠$#＃\\uFFFE\\uFEFF\\uFFFF]|[\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069]|^))((https?:\\/\\/)((?:(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:[_-]|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)*(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:-|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)(?:(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|招聘|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|llp|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|gay|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|charity|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@+-]|$))|(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ລາວ|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|موريتانيا|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|البحرين|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ευ|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@+-]|$))|(?:xn--[\\-0-9a-z]+))))(?::([0-9]+))?(\\/(?:(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*)*[\\+\\-a-z\\u0400-\\u04FF0-9=_#\\/\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]|(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)))|(?:@[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\/))*)?(\\?[a-z0-9!?\\*'@\\(\\);:&=\\+\\$\\/%#\\[\\]\\-_\\.,~|]*[a-z0-9\\-_&=#\\/])?))",Co="gi",An={source:Fo,flags:Co},Ve=Da("drafts-db","drafts-store"),Io={set:(t,n)=>Ra(t,n,Ve),get:t=>Pa(t,Ve),getMany:t=>Ma(t,Ve),del:t=>Oa(t,Ve),delMany:t=>za(t,Ve),clear:()=>Na(Ve),keys:()=>Ba(Ve)},Ln={drafts:Io},We={public:"earth",unlisted:"group",private:"lock",direct:"message"};function So({poll:t,lang:n,readOnly:a,refresh:r=()=>{},votePoll:o=()=>{}}){const[s,c]=H("default"),{expired:d,expiresAt:f,id:h,multiple:p,options:u,ownVotes:l,voted:b,votersCount:y,votesCount:g,emojis:v}=t,A=!!f&&new Date(f),L=y||g;let w=0;L<=1e3?w=0:L<=1e4?w=1:L<=1e5&&(w=2);const[E,$]=H(!1),W=u.every(D=>D.votesCount!==null);return e("div",{lang:n,dir:"auto",class:`poll ${a?"read-only":""} ${s==="loading"?"loading":""}`,children:[E&&W||b||d?e(V,{children:[e("div",{class:"poll-options",children:u.map((D,J)=>{const{title:K,votesCount:R}=D,N=L?(R/L*100).toFixed(w):0,q=R>0&&R===Math.max(...u.map(Z=>Z.votesCount));return e("div",{class:`poll-option poll-result ${q?"poll-option-leading":""}`,style:{"--percentage":`${N}%`},children:[e("div",{class:"poll-option-title",children:[e("span",{children:e(rt,{text:K,emojis:v})}),b&&l.includes(J)&&e(V,{children:[" ",e(T,{icon:"check-circle"})]})]}),e("div",{class:"poll-option-votes",title:`${R} vote${R===1?"":"s"}`,children:[N,"%"]})]},`${J}-${K}-${R}`)})}),!d&&!b&&e("button",{class:"poll-vote-button plain2",disabled:s==="loading",onClick:D=>{D.preventDefault(),$(!1)},children:[e(T,{icon:"arrow-left",size:"s"})," Hide results"]})]}):e("form",{onSubmit:async D=>{D.preventDefault();const J=D.target,K=new FormData(J),R=[];K.forEach((N,q)=>{q==="poll"&&R.push(N)}),R.length&&(c("loading"),await o(R),c("default"))},children:[e("div",{class:"poll-options",children:u.map((D,J)=>{const{title:K}=D;return e("div",{class:"poll-option",children:e("label",{class:"poll-label",children:[e("input",{type:p?"checkbox":"radio",name:"poll",value:J,disabled:s==="loading",readOnly:a}),e("span",{class:"poll-option-title",children:e(rt,{text:K,emojis:v})})]})})})}),!a&&e("button",{class:"poll-vote-button",type:"submit",disabled:s==="loading",children:"Vote"})]}),e("p",{class:"poll-meta",children:[!d&&!a&&e("button",{type:"button",class:"plain small",disabled:s==="loading",style:{marginLeft:-8},onClick:D=>{D.preventDefault(),c("loading"),(async()=>(await r(),c("default")))()},title:"Refresh",children:e(T,{icon:"refresh",alt:"Refresh"})}),!b&&!d&&!a&&W&&e("button",{type:"button",class:"plain small",disabled:s==="loading",onClick:D=>{D.preventDefault(),$(!E)},title:E?"Hide results":"Show results",children:[e(T,{icon:E?"eye-open":"eye-close",alt:E?"Hide results":"Show results"})," "]}),!d&&!a&&" ",e("span",{title:g,children:Ge(g)})," vote",g===1?"":"s",!!y&&y!==g&&e(V,{children:[" ","• ",e("span",{title:y,children:Ge(y)})," ","voter",y===1?"":"s"]})," ","• ",d?"Ended":"Ending"," ",!!A&&e(_t,{datetime:A})]})," "]})}const Fn=document.createElement("div");function Cn(t){return t?(Fn.innerHTML=t,Fn.innerText.length):0}function Xn(t){const{pathname:n}=new URL(t);return/^\/.*\/\d+$/i.test(n)||/^\/@[^/]+\/(statuses|posts)\/\w+\/?$/i.test(n)||/^\/notes\/[a-z0-9]+$/i.test(n)||/^\/(notice|objects)\/[a-z0-9-]+$/i.test(n)}const $o=document.documentElement,pt=getComputedStyle($o),Do=8;let Qn=[0,0,0,0];function ea(){const t=pt.getPropertyValue("--sai-top"),n=pt.getPropertyValue("--sai-right"),a=pt.getPropertyValue("--sai-bottom"),r=pt.getPropertyValue("--sai-left");Qn=[Math.max(0,parseInt(t,10)),Math.max(0,parseInt(n,10)),Math.max(0,parseInt(a,10)),Math.max(0,parseInt(r,10))]}requestAnimationFrame(ea);function Ro(t=[]){return Qn.map((a,r)=>(a||Do)+(t[r]||0)).join(" ")}CSS.supports("top: env(safe-area-inset-top)")&&window.addEventListener("resize",ea,{passive:!0});function Po(t){const{spoilerText:n,content:a,poll:r,mediaAttachments:o}=t;let s="";return n!=null&&n.trim()?s+=n:s+=Xt(a),s=s.trim(),r&&(s+=" 📊"),o!=null&&o.length&&(s+=" "+o.map(c=>({image:"🖼️",gifv:"🎞️",video:"📹",audio:"🎵",unknown:""})[c.type]||"").join("")),s}function bt({className:t="truncated"}={}){const n=te(),a=ja(({height:r})=>{if(n.current){const{scrollHeight:o}=n.current;let s=o>r;if(s){const{height:c,maxHeight:d}=getComputedStyle(n.current),f=parseInt(d||c,10);s=o>f}n.current.classList.toggle(t,s)}},300);return Va({ref:n,box:"border-box",onResize:a}),n}const Mo=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Oo="ALT",Wt=t=>{const{alt:n,lang:a,index:r,...o}=t;return!n||!n.trim()?null:e("button",{type:"button",class:"alt-badge clickable",...o,onClick:s=>{s.stopPropagation(),s.preventDefault(),x.showMediaAlt={alt:n,lang:a}},title:"Media description",children:[Oo,!!r&&e("sup",{children:r})]})},zo=140,ta=st(t=>t!=null&&t.length?t.length>zo||/[\n\r].*[\n\r]/.test(t.trim()):!1);function No({media:t,to:n,lang:a,showOriginal:r,autoAnimate:o,showCaption:s,altIndex:c,onClick:d=()=>{}}){const{blurhash:f,description:h,meta:p,previewRemoteUrl:u,previewUrl:l,remoteUrl:b,url:y,type:g}=t,{original:v={},small:A,focus:L}=p||{},w=r?v==null?void 0:v.width:A==null?void 0:A.width,E=r?v==null?void 0:v.height:A==null?void 0:A.height,$=r?y:l||y,W=r?b:u||b,D=w>=E?"landscape":"portrait",J=f?Ua(f):null,K=te();let R;if(L){const O=(L.x+1)/2*100,G=(1-L.y)/2*100;R=`${O.toFixed(0)}% ${G.toFixed(0)}%`}const N=te(),q=Un(({x:O,y:G,scale:fe})=>{const{current:oe}=N;if(oe){const ke=Ha({x:O,y:G,scale:fe});fe===1?oe.style.removeProperty("transform"):oe.style.setProperty("transform",ke),oe.closest(".media-zoom").style.touchAction=fe<=1.01?"pan-x":""}},[]),[Z,be]=H(!1),ie={enabled:Z,draggableUnZoomed:!1,inertiaFriction:.9,containerProps:{className:"media-zoom",style:{overflow:"visible"}},onUpdate:q},P=Me(()=>n?O=>e(lt,{to:n,...O}):"div",[n]),ne=g==="unknown"&&/\.(mp4|m4a|m4p|m4b|m4r|m4v|mov|webm)$/i.test(W),X=g==="image"||g==="unknown"&&l&&!ne,ye=te(),[B,_e]=H(!1);Jt(()=>{if(!X||!r||!ye.current)return;const{offsetWidth:O,offsetHeight:G}=ye.current,fe=w<O&&E<G;fe&&_e(fe)},[w,E]);const se=window.innerHeight*(D==="portrait"?.45:.33),ue=D==="portrait"?0:160,de={"--width":`${w}px`,"--height":`${E}px`,"--aspectWidth":`${w/E*Math.max(ue,se)}px`,aspectRatio:`${w} / ${E}`},Ae=ta(h),Q=!!s&&!r&&!!h&&!Ae,ce=Q?O=>{const{children:G,...fe}=O;return e("figure",{...fe,children:[G,e("figcaption",{class:"media-caption",lang:a,dir:"auto",onClick:oe=>{oe.preventDefault(),oe.stopPropagation(),x.showMediaAlt={alt:h,lang:a}},children:h})]})}:V;if(X)return ie.containerProps.style.display="inherit",Jt(()=>{Mo&&r&&(async()=>{try{await fetch($,{mode:"no-cors"}),N.current.src=$}catch{}})()},[$]),e(ce,{children:e(P,{ref:ye,class:"media media-image",onClick:d,"data-orientation":D,"data-has-alt":!Q,style:r?{backgroundImage:`url(${l})`,backgroundSize:B?`${w}px ${E}px`:void 0}:de,children:r?e(yn,{...ie,children:e("img",{ref:N,src:$,alt:h,width:w,height:E,"data-orientation":D,loading:"eager",decoding:"sync",onLoad:O=>{O.target.closest(".media-image").style.backgroundImage="",O.target.closest(".media-zoom").style.display="",be(!0)},onError:O=>{const{src:G}=O.target;G===$&&(O.target.src=W)}})}):e(V,{children:[e("img",{src:$,alt:Q?"":h,width:w,height:E,"data-orientation":D,loading:"lazy",style:{backgroundColor:J&&`rgb(${J.join(",")})`,backgroundPosition:R||"center","--anim-duration":`${Math.min(Math.max(Math.max(w,E)/100,5),120)}s`},onLoad:O=>{O.target.closest(".media-image").style.backgroundImage="",O.target.dataset.loaded=!0},onError:O=>{const{src:G}=O.target;G===$&&(O.target.src=W)}}),!Q&&e(Wt,{alt:h,lang:a,index:c})]})})});if(g==="gifv"||g==="video"||ne){const O=v.duration<31,G=g==="gifv"&&O,fe=v.duration<61,oe=$n(v.duration),ke=!r&&!o&&G,Le=!r&&o&&G,ge=`
    <video
      src="${y}"
      poster="${l}"
      width="${w}"
      height="${E}"
      data-orientation="${D}"
      preload="auto"
      autoplay
      muted="${G}"
      ${G?"":"controls"}
      playsinline
      loop="${fe}"
      ${G?'ondblclick="this.paused ? this.play() : this.pause()"':""}
    ></video>
  `;return e(ce,{children:e(P,{class:`media media-${G?"gif":"video"} ${Le?"media-contain":""}`,"data-orientation":D,"data-formatted-duration":oe,"data-label":G&&!r&&!Le?"GIF":"","data-has-alt":!Q,style:!r&&de,onClick:me=>{if(ke)try{K.current.pause()}catch{}d(me)},onMouseEnter:()=>{if(ke)try{K.current.play()}catch{}},onMouseLeave:()=>{if(ke)try{K.current.pause()}catch{}},onFocus:()=>{if(ke)try{K.current.play()}catch{}},onBlur:()=>{if(ke)try{K.current.pause()}catch{}},children:[r||Le?G&&r?e(yn,{...ie,enabled:!0,children:e("div",{ref:N,dangerouslySetInnerHTML:{__html:ge}})}):e("div",{class:"video-container",dangerouslySetInnerHTML:{__html:ge}}):G?e("video",{ref:K,src:y,poster:l,width:w,height:E,"data-orientation":D,preload:"auto",playsinline:!0,loop:!0,muted:!0}):e(V,{children:[e("img",{src:l,alt:Q?"":h,width:w,height:E,"data-orientation":D,loading:"lazy"}),e("div",{class:"media-play",children:e(T,{icon:"play",size:"xl"})})]}),!r&&!Q&&e(Wt,{alt:h,lang:a,index:c})]})})}else if(g==="audio"){const O=$n(v.duration);return e(ce,{children:e(P,{class:"media media-audio","data-formatted-duration":O,"data-has-alt":!Q,onClick:d,style:!r&&de,children:[r?e("audio",{src:b||y,preload:"none",controls:!0,autoplay:!0}):l?e("img",{src:l,alt:Q?"":h,width:w,height:E,"data-orientation":D,loading:"lazy"}):null,!r&&e(V,{children:[e("div",{class:"media-play",children:e(T,{icon:"play",size:"xl"})}),!Q&&e(Wt,{alt:h,lang:a,index:c})]})]})})}}function In(t){return e(Ka,{children:({ref:n,closeMenu:a})=>e(lt,{...t,ref:n,onClick:({detail:r})=>a(r===0?"Enter":void 0)})})}const Bo=140,jo=Vn({limit:1,interval:1e3});function Vo(t,n){try{return n.v1.accounts.$select(t).fetch()}catch(a){return Promise.reject(a)}}const Uo=st(Vo),at={public:"Public",unlisted:"Unlisted",private:"Followers only",direct:"Private mention"};function Ye({statusID:t,status:n,instance:a,withinContext:r,size:o="m",skeleton:s,readOnly:c,contentTextWeight:d,enableTranslate:f,forceTranslate:h,previewMode:p,allowFilters:u,onMediaClick:l,quoted:b,onStatusLinkClick:y=()=>{}}){var fn,gn,vn;if(s)return e("div",{class:"status skeleton",children:[e(He,{size:"xxl"}),e("div",{class:"container",children:[e("div",{class:"meta",children:"███ ████████"}),e("div",{class:"content-container",children:e("div",{class:"content",children:e("p",{children:"████ ████████"})})})]})]});const{masto:g,instance:v,authenticated:A}=Ne({instance:a}),{instance:L}=Ne(),w=v===L;let E=Be(t,v);const $=ct(x);if(n||(n=$.statuses[E]||$.statuses[t],E=Be(n==null?void 0:n.id,v)),!n)return null;const{account:{acct:W,avatar:D,avatarStatic:J,id:K,url:R,displayName:N,username:q,emojis:Z,bot:be,group:ie},id:P,repliesCount:ne,reblogged:X,reblogsCount:ye,favourited:B,favouritesCount:_e,bookmarked:se,poll:ue,muted:de,sensitive:Ae,spoilerText:Q,visibility:ce,language:O,editedAt:G,filtered:fe,card:oe,createdAt:ke,inReplyToId:Le,inReplyToAccountId:ge,content:me,mentions:Ee,mediaAttachments:he,reblog:Se,uri:Et,url:_,emojis:F,_deleted:I,_pinned:S,_filtered:Y}=n,j=m=>{m.shiftKey};if(u&&o!=="l"&&Y)return e(Zo,{status:n,filterInfo:Y,instance:v,containerProps:{onMouseEnter:j}});const z=new Date(ke),U=new Date(G),ae=Me(()=>M.session.get("currentAccount"),[]),pe=Me(()=>ae&&ae===K,[K,ae]);let $e=Ee==null?void 0:Ee.find(m=>m.id===ge);!$e&&ge===P&&($e={url:R,username:q,displayName:N});const[ve,je]=H($e);if(!r&&!ve&&ge){const m=x.accounts[ge];m?je(m):Uo(ge,g).then(C=>{je(C),x.accounts[C.id]=C}).catch(C=>{})}const ut=ge===ae||(Ee==null?void 0:Ee.find(m=>m.id===ae)),Ze=Me(()=>!!(M.account.get("preferences")||{})["reading:expand:spoilers"],[]),Ce=p||Ze||!!$.spoilers[P]||!1;if(Se)return ie?e("div",{class:"status-group",onMouseEnter:j,children:[e("div",{class:"status-pre-meta",children:[e(T,{icon:"group",size:"l",alt:"Group"})," ",e(nt,{account:n.account,instance:v,showAvatar:!0})]}),e(Ye,{status:t?null:Se,statusID:t?Se.id:null,instance:v,size:o,contentTextWeight:d})]}):e("div",{class:"status-reblog",onMouseEnter:j,children:[e("div",{class:"status-pre-meta",children:[e(T,{icon:"rocket",size:"l"})," ",e(nt,{account:n.account,instance:v,showAvatar:!0})," ",e("span",{children:"boosted"})]}),e(Ye,{status:t?null:Se,statusID:t?Se.id:null,instance:v,size:o,contentTextWeight:d})]});const re=o==="l",[Tt,oa]=H(h),nn=Gn(!0),ia=$.settings.contentTranslationHideLanguages||[],{contentTranslation:At,contentTranslationAutoInline:an}=$.settings;At||(f=!1);const on=Me(()=>{if(!At||!an||c||r&&!re||p||Q||Ae||ue||oe||he!=null&&he.length)return!1;const m=Cn(me);return m>0&&m<=Bo},[At,an,c,r,re,p,Q,Ae,ue,oe,he,me]),[Lt,dt]=H(!1),[ra,Ft]=H(!1),sa=bt(),ca=bt(),la=bt(),rn="Read more →",mt=te(null),Xe="Sorry, your current logged-in instance can't interact with this post from another instance.",sn=Un(()=>Math.max(Math.round((Q.length+Cn(me))/140)||1,1),[Q,me]),cn=wt(z),ln=G&&wt(U);let Qe=A&&ce!=="direct"&&ce!=="private";ce==="private"&&pe&&(Qe=!0);const Ct=()=>{if(!w||!A)return alert(Xe);x.showCompose={replyToStatus:n}},It=Me(()=>he.some(m=>{var C,ee;return!((ee=(C=m.description)==null?void 0:C.trim)!=null&&ee.call(C))}),[he]),hi=async()=>{if(!w||!A)return alert(Xe),!1;try{if(!X){let m="Boost this post?";if(It&&(m+=`

⚠️ Some media have no descriptions.`),!confirm(m))return!1}if(x.statuses[E]={...n,reblogged:!X,reblogsCount:ye+(X?-1:1)},X){const m=await g.v1.statuses.$select(P).unreblog();return Te(m,v),!0}else{const m=await g.v1.statuses.$select(P).reblog();return Te(m,v),!0}}catch{return x.statuses[E]=n,!1}},St=async()=>{if(!w||!A)return alert(Xe),!1;try{if(x.statuses[E]={...n,reblogged:!X,reblogsCount:ye+(X?-1:1)},X){const m=await g.v1.statuses.$select(P).unreblog();return Te(m,v),!0}else{const m=await g.v1.statuses.$select(P).reblog();return Te(m,v),!0}}catch{return x.statuses[E]=n,!1}},$t=async()=>{if(!w||!A)return alert(Xe);try{if(x.statuses[E]={...n,favourited:!B,favouritesCount:_e+(B?-1:1)},B){const m=await g.v1.statuses.$select(P).unfavourite();Te(m,v)}else{const m=await g.v1.statuses.$select(P).favourite();Te(m,v)}}catch{x.statuses[E]=n}},Dt=async()=>{if(!w||!A)return alert(Xe);try{if(x.statuses[E]={...n,bookmarked:!se},se){const m=await g.v1.statuses.$select(P).unbookmark();Te(m,v)}else{const m=await g.v1.statuses.$select(P).bookmark();Te(m,v)}}catch{x.statuses[E]=n}},un=!!O&&O!==nn&&!kt([O],[nn])&&!ia.find(m=>O===m||kt([O],[m])),dn=te(),Rt=e(V,{children:[!re&&e(V,{children:[e(qa,{children:[e("span",{class:"ib",children:[e(T,{icon:We[ce],size:"s"})," ",e("span",{children:at[ce]})]})," ",e("span",{class:"ib",children:[ne>0&&e("span",{children:[e(T,{icon:"reply",alt:"Replies",size:"s"})," ",e("span",{children:Ge(ne)})]})," ",ye>0&&e("span",{children:[e(T,{icon:"rocket",alt:"Boosts",size:"s"})," ",e("span",{children:Ge(ye)})]})," ",_e>0&&e("span",{children:[e(T,{icon:"heart",alt:"Favourites",size:"s"})," ",e("span",{children:Ge(_e)})]})]}),e("br",{}),cn]}),e(In,{to:v?`/${v}/s/${P}`:`/s/${P}`,onClick:m=>{y(m,n)},children:[e(T,{icon:"arrow-right"}),e("span",{children:["View post by @",q||W]})]})]}),!!G&&e(xe,{onClick:()=>{dt(P)},children:[e(T,{icon:"history"}),e("span",{children:["Show Edit History",e("br",{}),e("small",{class:"more-insignificant",children:["Edited: ",ln]})]})]}),(!re||!!G)&&e(zt,{}),re&&e(xe,{onClick:()=>Ft(!0),children:[e(T,{icon:"react"}),e("span",{children:["Boosted/Favourited by",e("span",{class:"more-insignificant",children:"…"})]})]}),!re&&w&&e(V,{children:[e("div",{class:"menu-horizontal",children:[e(jt,{subMenu:!0,confirmLabel:e(V,{children:[e(T,{icon:"rocket"}),e("span",{children:X?"Unboost?":"Boost to everyone?"})]}),menuFooter:It&&!X&&e("div",{class:"footer",children:[e(T,{icon:"alert"}),"Some media have no descriptions."]}),disabled:!Qe,onClick:async()=>{try{const m=await St();!re&&m&&we(X?"Unboosted":"Boosted")}catch{}},children:[e(T,{icon:"rocket",style:{color:X&&"var(--reblog-color)"}}),e("span",{children:X?"Unboost":"Boost…"})]}),e(xe,{onClick:()=>{try{$t(),re||we(B?"Unfavourited":"Favourited")}catch{}},children:[e(T,{icon:"heart",style:{color:B&&"var(--favourite-color)"}}),e("span",{children:B?"Unfavourite":"Favourite"})]})]}),e("div",{class:"menu-horizontal",children:[e(xe,{onClick:Ct,children:[e(T,{icon:"reply"}),e("span",{children:"Reply"})]}),e(xe,{onClick:()=>{try{Dt(),re||we(se?"Unbookmarked":"Bookmarked")}catch{}},children:[e(T,{icon:"bookmark",style:{color:se&&"var(--link-color)"}}),e("span",{children:se?"Unbookmark":"Bookmark"})]})]})]}),f?e(xe,{disabled:Tt,onClick:()=>{oa(!0)},children:[e(T,{icon:"translate"}),e("span",{children:"Translate"})]}):(!O||un)&&e(In,{to:`${v?`/${v}`:""}/s/${P}?translate=1`,children:[e(T,{icon:"translate"}),e("span",{children:"Translate"})]}),(!re&&w||f)&&e(zt,{}),e(xe,{href:_,target:"_blank",children:[e(T,{icon:"external"}),e("small",{class:"menu-double-lines",children:Yo(_)})]}),e("div",{class:"menu-horizontal",children:[e(xe,{onClick:()=>{try{navigator.clipboard.writeText(_),we("Link copied")}catch{we("Unable to copy link")}},children:[e(T,{icon:"link"}),e("span",{children:"Copy"})]}),(navigator==null?void 0:navigator.share)&&((fn=navigator==null?void 0:navigator.canShare)==null?void 0:fn.call(navigator,{url:_}))&&e(xe,{onClick:()=>{try{navigator.share({url:_})}catch{alert("Sharing doesn't seem to work.")}},children:[e(T,{icon:"share"}),e("span",{children:"Share…"})]})]}),(pe||ut)&&e(zt,{}),(pe||ut)&&e(xe,{onClick:async()=>{try{const m=await g.v1.statuses.$select(P)[de?"unmute":"mute"]();Te(m,v),we(de?"Conversation unmuted":"Conversation muted")}catch{we(de?"Unable to unmute conversation":"Unable to mute conversation")}},children:de?e(V,{children:[e(T,{icon:"unmute"}),e("span",{children:"Unmute conversation"})]}):e(V,{children:[e(T,{icon:"mute"}),e("span",{children:"Mute conversation"})]})}),pe&&e("div",{class:"menu-horizontal",children:[e(xe,{onClick:()=>{x.showCompose={editStatus:n}},children:[e(T,{icon:"pencil"}),e("span",{children:"Edit"})]}),re&&e(jt,{subMenu:!0,confirmLabel:e(V,{children:[e(T,{icon:"trash"}),e("span",{children:"Delete this post?"})]}),menuItemClassName:"danger",onClick:()=>{(async()=>{try{await g.v1.statuses.$select(P).remove();const m=Wn(P,v);m._deleted=!0,we("Deleted")}catch{we("Unable to delete")}})()},children:[e(T,{icon:"trash"}),e("span",{children:"Delete…"})]})]})]}),mn=te(),[ua,Pt]=H(!1),[da,hn]=H({x:0,y:0}),ma=window.ontouchstart!==void 0&&/iPad|iPhone|iPod/.test(navigator.userAgent),ha=Hn(ma?m=>{var bn;if(m.pointerType==="mouse")return;const{clientX:C,clientY:ee}=((bn=m.touches)==null?void 0:bn[0])||m,De=m.target.closest("a");De&&/^https?:\/\//.test(De.getAttribute("href"))||(m.preventDefault(),hn({x:C,y:ee}),Pt(!0))}:null,{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),Mt=o!=="l"&&!p&&!I&&!b,ht=!c&&!p,pa=Ue("r",Ct,{enabled:ht}),fa=Ue("f",()=>{try{$t(),re||we(B?"Unfavourited":"Favourited")}catch{}},{enabled:ht}),ga=Ue("d",()=>{try{Dt(),re||we(se?"Unbookmarked":"Bookmarked")}catch{}},{enabled:ht}),va=Ue("shift+b",()=>{(async()=>{try{const m=await St();!re&&m&&we(X?"Unboosted":"Boosted")}catch{}})()},{enabled:ht&&Qe}),Ot=he.slice(0,re?void 0:4),pn=he.length>1&&Ot.some(m=>!!m.description&&!ta(m.description));return e("article",{ref:m=>{var ee;mt.current=m;const C=((ee=m==null?void 0:m.closest)==null?void 0:ee.call(m,".timeline-item, .timeline-item-alt, .status-link, .status-focus"))||m;pa.current=C,fa.current=C,ga.current=C,va.current=C},tabindex:"-1",class:`status ${!r&&Le&&ve?"status-reply-to":""} visibility-${ce} ${S?"status-pinned":""} ${{s:"small",m:"medium",l:"large"}[o]} ${I?"status-deleted":""} ${b?"status-card":""}`,onMouseEnter:j,onContextMenu:m=>{if(!Mt||m.metaKey)return;const C=m.target.closest("a");C&&/^https?:\/\//.test(C.getAttribute("href"))||(m.preventDefault(),hn({x:m.clientX,y:m.clientY}),Pt(!0))},...Mt?ha():{},children:[Mt&&e(Wa,{ref:mn,state:ua?"open":void 0,anchorPoint:da,direction:"right",onClose:m=>{var C,ee,De;Pt(!1),(m==null?void 0:m.reason)==="click"&&((De=(ee=(C=mt.current)==null?void 0:C.closest("[tabindex]"))==null?void 0:ee.focus)==null||De.call(ee))},portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:()=>{var m,C;(C=(m=mn.current)==null?void 0:m.closeMenu)==null||C.call(m)}},overflow:"auto",boundingBoxPadding:Ro(),unmountOnClose:!0,children:Rt}),o!=="l"&&e("div",{class:"status-badge",children:[X&&e(T,{class:"reblog",icon:"rocket",size:"s"}),B&&e(T,{class:"favourite",icon:"heart",size:"s"}),se&&e(T,{class:"bookmark",icon:"bookmark",size:"s"}),S&&e(T,{class:"pin",icon:"pin",size:"s"})]}),o!=="s"&&e("a",{href:R,tabindex:"-1",title:`@${W}`,onClick:m=>{m.preventDefault(),m.stopPropagation(),x.showAccount={account:n.account,instance:v}},children:e(He,{url:J||D,size:"xxl",squircle:be})}),e("div",{class:"container",children:[e("div",{class:"meta",children:[e("span",{class:"meta-name",children:e(nt,{account:n.account,instance:v,showAvatar:o==="s",showAcct:re})})," ",o!=="l"&&(I?e("span",{class:"status-deleted-tag",children:"Deleted"}):_&&!p&&!b?e(Gt,{instanceRef:dn,portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:m=>{var C,ee;m.target===m.currentTarget&&((ee=(C=dn.current)==null?void 0:C.closeMenu)==null||ee.call(C))}},align:"end",gap:4,overflow:"auto",viewScroll:"close",boundingBoxPadding:"8 8 8 8",unmountOnClose:!0,menuButton:({open:m})=>e(lt,{to:v?`/${v}/s/${P}`:`/s/${P}`,onClick:C=>{C.preventDefault(),C.stopPropagation(),y==null||y(C,n)},class:`time ${m?"is-open":""}`,children:[e(T,{icon:We[ce],alt:at[ce],size:"s"})," ",e(_t,{datetime:z,format:"micro"})]}),children:Rt}):e("span",{class:"time",children:[e(T,{icon:We[ce],alt:at[ce],size:"s"})," ",e(_t,{datetime:z,format:"micro"})]}))]}),ce==="direct"&&e(V,{children:[e("div",{class:"status-direct-badge",children:"Private mention"})," "]}),!r&&e(V,{children:Le&&ge===((gn=n.account)==null?void 0:gn.id)||$.statusThreadNumber[E]?e("div",{class:"status-thread-badge",children:[e(T,{icon:"thread",size:"s"}),"Thread",$.statusThreadNumber[E]?` ${$.statusThreadNumber[E]}/X`:""]}):!!Le&&!!ve&&(!!Q||!Ee.find(m=>m.id===ge))&&e("div",{class:"status-reply-badge",children:[e(T,{icon:"reply"})," ",e(nt,{account:ve,instance:v,short:!0})]})}),e("div",{class:`content-container ${Q||Ae?"has-spoiler":""} ${Ce?"show-spoiler":""}`,"data-content-text-weight":d?sn():null,style:(re||d)&&{"--content-text-weight":sn()},children:[!!Q&&e(V,{children:[e("div",{class:"content spoiler-content",lang:O,dir:"auto",ref:sa,"data-read-more":rn,children:e("p",{children:e(rt,{text:Q,emojis:F})})}),e("button",{class:`light spoiler ${Ce?"spoiling":""}`,type:"button",disabled:Ze,onClick:m=>{m.preventDefault(),m.stopPropagation(),Ce?delete x.spoilers[P]:x.spoilers[P]=!0},children:[e(T,{icon:Ce?"eye-open":"eye-close"})," ",Ze?"Content warning":Ce?"Show less":"Show more"]})]}),e("div",{class:"content",ref:ca,"data-read-more":rn,children:[e("div",{lang:O,dir:"auto",class:"inner-content",onClick:_o({mentions:Ee,instance:v,previewMode:p,statusURL:_}),dangerouslySetInnerHTML:{__html:Zt(me,{emojis:F,postEnhanceDOM:m=>{m.querySelectorAll('a.u-url[target="_blank"]').forEach(C=>{/http/i.test(C.innerText.trim())||C.removeAttribute("target")}),!p&&Array.from(m.querySelectorAll("a[href]:not(.u-url):not(.mention):not(.hashtag)")).filter(C=>{const ee=C.href;return!(ee===n.url||ee===n.uri)&&Xn(ee)}).forEach((C,ee)=>{na(L,C.href).then(De=>{De&&(C.removeAttribute("target"),E&&(Array.isArray(x.statusQuotes[E])||(x.statusQuotes[E]=[]),x.statusQuotes[E][ee]||x.statusQuotes[E].splice(ee,0,De)))})})}})}}),e(Xo,{id:P,instance:v,level:b})]}),!!ue&&e(So,{lang:O,poll:ue,readOnly:c||!w||!A,onUpdate:m=>{x.statuses[E].poll=m},refresh:()=>g.v1.polls.$select(ue.id).fetch().then(m=>{x.statuses[E].poll=m}).catch(m=>{}),votePoll:m=>g.v1.polls.$select(ue.id).votes.create({choices:m}).then(C=>{x.statuses[E].poll=C}).catch(C=>{})}),((f||on)&&!!me.trim()&&!!Xt(en(me,F))&&un||Tt)&&e(Lo,{forceTranslate:Tt||on,mini:!re&&!r,sourceLanguage:O,text:(Q?`${Q}

`:"")+Xt(me)+((vn=ue==null?void 0:ue.options)!=null&&vn.length?`

Poll:
${ue.options.map(m=>`- ${m.title}${m.votesCount>=0?` (${m.votesCount})`:""}`).join(`
`)}`:"")}),!Q&&Ae&&!!he.length&&e("button",{class:`plain spoiler ${Ce?"spoiling":""}`,type:"button",onClick:m=>{m.preventDefault(),m.stopPropagation(),Ce?delete x.spoilers[P]:x.spoilers[P]=!0},children:[e(T,{icon:Ce?"eye-open":"eye-close"})," Sensitive content"]}),!!he.length&&e(Ho,{lang:O,enabled:pn,captionChildren:()=>Ot.map((m,C)=>!!m.description&&e("div",{onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),x.showMediaAlt={alt:m.description,lang:O}},title:m.description,children:[e("sup",{children:C+1})," ",m.description]},m.id)),children:e("div",{ref:la,class:`media-container media-eq${he.length} ${he.length>2?"media-gt2":""} ${he.length>4?"media-gt4":""}`,children:Ot.map((m,C)=>e(No,{media:m,autoAnimate:re,showCaption:he.length===1,lang:O,altIndex:pn&&!!m.description&&C+1,to:`/${v}/s/${P}?${r?"media":"media-only"}=${C+1}`,onClick:l?ee=>{l(ee,C,m,n)}:void 0},m.id))})}),!!oe&&(oe==null?void 0:oe.url)!==n.url&&(oe==null?void 0:oe.url)!==n.uri&&/^https/i.test(oe==null?void 0:oe.url)&&!Ae&&!Q&&!ue&&!he.length&&!$.statusQuotes[E]&&e(Ko,{card:oe,instance:L})]}),re&&e(V,{children:[e("div",{class:"extra-meta",children:I?e("span",{class:"status-deleted-tag",children:"Deleted"}):e(V,{children:[e(T,{icon:We[ce],alt:at[ce]})," ",e("a",{href:_,target:"_blank",rel:"noopener noreferrer",children:e("time",{class:"created",datetime:z.toISOString(),children:cn})}),G&&e(V,{children:[" ","• ",e(T,{icon:"pencil",alt:"Edited"})," ",e("time",{class:"edited",datetime:U.toISOString(),onClick:()=>{dt(P)},children:ln})]})]})}),e("div",{class:`actions ${I?"disabled":""}`,children:[e("div",{class:"action has-count",children:e(ft,{title:"Reply",alt:"Comments",class:"reply-button",icon:"comment",count:ne,onClick:Ct})}),e(jt,{disabled:!Qe,onClick:St,confirmLabel:e(V,{children:[e(T,{icon:"rocket"}),e("span",{children:X?"Unboost?":"Boost to everyone?"})]}),menuFooter:It&&!X&&e("div",{class:"footer",children:[e(T,{icon:"alert"}),"Some media have no descriptions."]}),children:e("div",{class:"action has-count",children:e(ft,{checked:X,title:["Boost","Unboost"],alt:["Boost","Boosted"],class:"reblog-button",icon:"rocket",count:ye,disabled:!Qe})})}),e("div",{class:"action has-count",children:e(ft,{checked:B,title:["Favourite","Unfavourite"],alt:["Favourite","Favourited"],class:"favourite-button",icon:"heart",count:_e,onClick:$t})}),e("div",{class:"action",children:e(ft,{checked:se,title:["Bookmark","Unbookmark"],alt:["Bookmark","Bookmarked"],class:"bookmark-button",icon:"bookmark",onClick:Dt})}),e(Gt,{portal:{target:document.querySelector(".status-deck")||document.body},align:"end",gap:4,overflow:"auto",viewScroll:"close",boundingBoxPadding:"8 8 8 8",menuButton:e("div",{class:"action",children:e("button",{type:"button",title:"More",class:"plain more-button",children:e(T,{icon:"more",size:"l",alt:"More"})})}),children:Rt})]})]})]}),!!Lt&&e(it,{onClick:m=>{var C;m.target===m.currentTarget&&(dt(!1),(C=mt.current)==null||C.focus())},children:e(qo,{statusID:Lt,instance:v,fetchStatusHistory:()=>g.v1.statuses.$select(Lt).history.list(),onClose:()=>{var m;dt(!1),(m=mt.current)==null||m.focus()}})}),ra&&e(it,{class:"light",onClick:m=>{m.target===m.currentTarget&&Ft(!1)},children:e(Wo,{statusID:P,instance:v,onClose:()=>Ft(!1)})})]})}function Ho(t){const{enabled:n,children:a,lang:r,captionChildren:o}=t;return!n||!o?a:e("figure",{class:"media-figure-multiple",children:[a,e("figcaption",{lang:r,dir:"auto",children:o==null?void 0:o()})]})}function Ko({card:t,instance:n}){var K;const a=ct(x),{blurhash:r,title:o,description:s,html:c,providerName:d,providerUrl:f,authorName:h,authorUrl:p,width:u,height:l,image:b,imageDescription:y,url:g,type:v,embedUrl:A,language:L,publishedAt:w}=t,E=o||d||h,W=u/l>=1.2?"large":"",[D,J]=H(null);if(le(()=>{E&&b&&Xn(g)&&na(n,g).then(R=>{if(!R)return;const{id:N,url:q}=R;J("#"+q)})},[E,b]),a.unfurledLinks[g])return null;if(E&&(b||v==="photo"&&r)){const R=new URL(g).hostname.replace(/^www\./,"");let N;if(!b){const be=Ga(r,44,44),ie=document.createElement("canvas");ie.width=44,ie.height=44;const P=ie.getContext("2d"),ne=P.createImageData(44,44);ne.data.set(be),P.putImageData(ne,0,0),N=ie.toDataURL()}return e("a",{href:D||g,target:D?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${N?"":W}`,lang:L,dir:"auto",children:[e("div",{class:"card-image",children:e("img",{src:b||N,width:u,height:l,loading:"lazy",alt:y||"",onError:q=>{try{q.target.style.display="none"}catch{}}})}),e("div",{class:"meta-container",children:[e("p",{class:"meta domain",dir:"auto",children:R}),e("p",{class:"title",dir:"auto",children:o}),e("p",{class:"meta",dir:"auto",children:s||d||h})]})]})}else{if(v==="photo")return e("a",{href:g,target:"_blank",rel:"nofollow noopener noreferrer",class:"card photo",children:e("img",{src:A,width:u,height:l,alt:o||s,loading:"lazy",style:{height:"auto",aspectRatio:`${u}/${l}`}})});if(v==="video"){if(/youtube/i.test(d)){const R=(K=g.match(/watch\?v=([^&]+)/))==null?void 0:K[1];if(R)return e("lite-youtube",{videoid:R,nocookie:!0})}return e("div",{class:"card video",style:{aspectRatio:`${u}/${l}`},dangerouslySetInnerHTML:{__html:c}})}else if(E&&!b){const R=new URL(g).hostname.replace(/^www\./,"");return e("a",{href:D||g,target:D?null:"_blank",rel:"nofollow noopener noreferrer",class:"card link no-image",lang:L,children:e("div",{class:"meta-container",children:[e("p",{class:"meta domain",children:[e(T,{icon:"link",size:"s"})," ",e("span",{children:R})]}),e("p",{class:"title",children:o}),e("p",{class:"meta",children:s||d||h})]})})}}}function qo({statusID:t,instance:n,fetchStatusHistory:a=()=>{},onClose:r}){const[o,s]=H("default"),[c,d]=H([]);return le(()=>{s("loading"),(async()=>{try{const f=await a();d(f),s("default")}catch{s("error")}})()},[]),e("div",{id:"edit-history",class:"sheet",children:[!!r&&e("button",{type:"button",class:"sheet-close",onClick:r,children:e(T,{icon:"x"})}),e("header",{children:[e("h2",{children:"Edit History"}),o==="error"&&e("p",{children:"Failed to load history"}),o==="loading"&&e("p",{children:[e(Je,{abrupt:!0})," Loading…"]})]}),e("main",{tabIndex:"-1",children:c.length>0&&e("ol",{children:c.map(f=>{const{createdAt:h}=f,p=new Date(h);return e("li",{class:"history-item",children:[e("h3",{children:e("time",{children:wt(p,{formatOpts:{weekday:"short",second:"numeric"}})})}),e(Ye,{status:f,instance:n,size:"s",withinContext:!0,readOnly:!0,previewMode:!0})]},h)})})})]})}const Sn=80;function Wo({statusID:t,instance:n,onClose:a}){const{masto:r}=Ne({instance:n}),[o,s]=H("default"),[c,d]=H([]),[f,h]=H(!1),p=te(),u=te();async function l(b){h(!1),s("loading"),(async()=>{var y,g,v,A;try{b&&(p.current=r.v1.statuses.$select(t).rebloggedBy.list({limit:Sn}),u.current=r.v1.statuses.$select(t).favouritedBy.list({limit:Sn}));const[{value:L},{value:w}]=await Promise.allSettled([p.current.next(),u.current.next()]);if((y=L.value)!=null&&y.length||(g=w.value)!=null&&g.length){if((v=L.value)!=null&&v.length)for(const E of L.value){const $=c.find(W=>W.id===E.id);$?$._types.push("reblog"):c.push({...E,_types:["reblog"]})}if((A=w.value)!=null&&A.length)for(const E of w.value){const $=c.find(W=>W.id===E.id);$?$._types.push("favourite"):c.push({...E,_types:["favourite"]})}d(c),h(!L.done||!w.done)}else h(!1);s("default")}catch{s("error")}})()}return le(()=>{l(!0)},[]),e("div",{id:"reactions-container",class:"sheet",children:[!!a&&e("button",{type:"button",class:"sheet-close",onClick:a,children:e(T,{icon:"x"})}),e("header",{children:e("h2",{children:"Boosted/Favourited by…"})}),e("main",{children:c.length>0?e(V,{children:[e("ul",{class:"reactions-list",children:c.map(b=>{const{_types:y}=b;return e("li",{children:[e("div",{class:"reactions-block",children:y.map(g=>e(T,{icon:{reblog:"rocket",favourite:"heart"}[g],class:`${g}-icon`}))}),e(Jn,{account:b,instance:n})]},b.id+y)})}),o==="default"?f?e(Ja,{onChange:b=>{b&&l()},children:e("button",{type:"button",class:"plain block",onClick:()=>l(),children:"Show more…"})}):e("p",{class:"ui-state insignificant",children:"The end."}):o==="loading"&&e("p",{class:"ui-state",children:e(Je,{abrupt:!0})})]}):o==="loading"?e("p",{class:"ui-state",children:e(Je,{abrupt:!0})}):o==="error"?e("p",{class:"ui-state",children:"Unable to load accounts"}):e("p",{class:"ui-state insignificant",children:"No one yet."})})]})}function ft({checked:t,count:n,class:a,title:r,alt:o,icon:s,onClick:c,...d}){typeof r=="string"&&(r=[r,r]),typeof o=="string"&&(o=[o,o]);const[f,h]=H(r[0]||""),[p,u]=H(o[0]||"");return le(()=>{t?(h(r[1]||""),u(o[1]||"")):(h(r[0]||""),u(o[0]||""))},[t,r,o]),e("button",{type:"button",title:f,class:`plain ${a} ${t?"checked":""}`,onClick:l=>{c&&(l.preventDefault(),l.stopPropagation(),c(l))},...d,children:[e(T,{icon:s,size:"l",alt:p}),!!n&&e(V,{children:[" ",e("small",{title:n,children:Ge(n)})]})]})}function $n(t){if(!t)return;let n=Math.floor(t/3600),a=Math.floor(t%3600/60),r=Math.round(t%60);return n===0?`${a}:${r.toString().padStart(2,"0")}`:`${n}:${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}const Go=/(twitter|github)\.com/i,Dn={};function Jo(t,n){var g;const a=Ya(x);if(Go.test(n)||Dn[n])return;if(new RegExp(t+"/").test((g=a.unfurledLinks[n])==null?void 0:g.url))return Promise.resolve(a.unfurledLinks[n]);let o,s=n;/\/\/elk\.[^\/]+\/[^.]+\.[^.]+/i.test(s)&&(s=s.replace(/elk\.[^\/]+\//i,""));const c=new URL(s),d=c.hostname,f=c.pathname,p=/\/@([^@\/]+)@?([^\/]+)?\/(\d+)$/i.exec(f);if(p){const v=p[3],{masto:A}=Ne({instance:d});o=A.v1.statuses.$select(v).fetch().then(L=>{if(L!=null&&L.id)return{status:L,instance:d};throw new Error("No results")})}const{masto:u}=Ne({instance:t}),l=u.v2.search.fetch({q:n,type:"statuses",resolve:!0,limit:1}).then(v=>{if(v.statuses.length>0)return{status:v.statuses[0],instance:t};throw new Error("No results")});function b(v){const{status:A,instance:L}=v,{id:w}=A,E=`/${L}/s/${w}`,$={id:w,instance:L,url:E};return x.unfurledLinks[n]=$,Te(A,L,{skipThreading:!0}),$}function y(v){Dn[n]=!0}return o?Promise.any([o,l]).then(b).catch(y):l.then(b).catch(y)}function Yo(t){if(!t)return;const n=new URL(t),{host:a,pathname:r}=n,o=r.replace(/\/$/,""),[s,c,d]=o.match(/\/(@[^\/]+)\/(.*)/)||[];return e(V,{children:[a,c?e(V,{children:["/",c,e("wbr",{}),e("span",{class:"more-insignificant",children:["/",d]})]}):e("span",{class:"more-insignificant",children:o})]})}const na=jo(st(Jo,{cacheKey:(t,n)=>`${t}:${n}`}));function Zo({status:t,filterInfo:n,instance:a,containerProps:r={}}){const{account:{avatar:o,avatarStatic:s,bot:c,group:d},createdAt:f,visibility:h,reblog:p}=t,u=!!p,l=(n==null?void 0:n.titlesStr)||"",b=new Date(f),y=Po(t.reblog||t),[g,v]=H(!1),A=Hn(()=>{v(!0)},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),L=bt();return e("div",{class:u?d?"status-group":"status-reblog":"",...r,title:y,onContextMenu:w=>{w.preventDefault(),v(!0)},...A(),children:[e("article",{class:"status filtered",tabindex:"-1",children:[e("b",{class:"status-filtered-badge clickable badge-meta",title:l,onClick:w=>{w.preventDefault(),v(!0)},children:[e("span",{children:"Filtered"}),e("span",{children:l})]})," ",e(He,{url:s||o,squircle:c}),e("span",{class:"status-filtered-info",children:[e("span",{class:"status-filtered-info-1",children:[e(nt,{account:t.account,instance:a})," ",e(T,{icon:We[h],alt:at[h],size:"s"})," ",u?"boosted":e(_t,{datetime:b,format:"micro"})]}),e("span",{class:"status-filtered-info-2",children:[u&&e(V,{children:[e(He,{url:p.account.avatarStatic||p.account.avatar,squircle:c})," "]}),y]})]})]}),!!g&&e(it,{class:"light",onClick:w=>{w.target===w.currentTarget&&v(!1)},children:e("div",{id:"filtered-status-peek",class:"sheet",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>v(!1),children:e(T,{icon:"x"})}),e("header",{children:[e("b",{class:"status-filtered-badge",children:"Filtered"})," ",l]}),e("main",{tabIndex:"-1",children:e(lt,{ref:L,class:"status-link",to:`/${a}/s/${t.id}`,onClick:()=>{v(!1)},"data-read-more":"Read more →",children:e(Ye,{status:t,instance:a,size:"s",readOnly:!0})})})]})})]})}const Xo=Qt(({id:t,instance:n,level:a=0})=>{if(!t||!n)return;const r=ct(x),o=Be(t,n),s=r.statusQuotes[o],c=s==null?void 0:s.filter((d,f,h)=>h.findIndex(p=>p.url===d.url)===f);if(c!=null&&c.length&&!(a>2))return c.map(d=>e(lt,{to:`${d.instance?`/${d.instance}`:""}/s/${d.id}`,class:"status-card-link","data-read-more":"Read more →",children:e(Ye,{statusID:d.id,instance:d.instance,size:"s",quoted:a+1})},d.instance+d.id))}),Rn=Qt(Ye),Qo=tn.reduce((t,n)=>{const[a,r,o]=n;return t[a]={common:r,native:o},t},{}),aa={"5 minutes":5*60,"30 minutes":30*60,"1 hour":60*60,"6 hours":6*60*60,"12 hours":12*60*60,"1 day":24*60*60,"3 days":3*24*60*60,"7 days":7*24*60*60},ei=Object.values(aa),Pn=24*60*60,Mn=t=>{if(!t)return Pn;const n=(new Date(t).getTime()-Date.now())/1e3;return ei.find(a=>a>=n)||Pn},ze=document.createElement("ul");ze.role="listbox";ze.className="text-expander-menu";const ti=16,ni=new IntersectionObserver(t=>{t.forEach(n=>{if(n.isIntersecting){const{left:a,width:r}=n.boundingClientRect,{innerWidth:o}=window;a+r>o&&(ze.style.left=o-r-ti+"px")}})});ni.observe(ze);const Re=kt([new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],tn.map(t=>t[0]),"en"),ai=new RegExp(An.source,An.flags),oi=/(^|[^\/\w])@(([a-z0-9_]+)@[a-z0-9\.\-]+[a-z0-9]+)/gi,ii="$2xxxxxxxxxxxxxxxxxxxxxxx";function ri(t){return t.replace(ai,ii).replace(oi,"$1@$3")}function ki({onClose:t,replyToStatus:n,editStatus:a,draftStatus:r,standalone:o,hasOpener:s}){var Et;const{masto:c,instance:d}=Ne(),[f,h]=H("default"),p=te((r==null?void 0:r.uid)||Za()),u=xt(),l=u.info,{configuration:b}=qn(),{statuses:{maxCharacters:y,maxMediaAttachments:g,charactersReservedPerUrl:v},mediaAttachments:{supportedMimeTypes:A,imageSizeLimit:L,imageMatrixLimit:w,videoSizeLimit:E,videoMatrixLimit:$,videoFrameRateLimit:W},polls:{maxOptions:D,maxCharactersPerOption:J,maxExpiration:K,minExpiration:R}}=b,N=te(),q=te(),[Z,be]=H("public"),[ie,P]=H(!1),[ne,X]=H(M.session.get("currentLanguage")||Re),ye=te(ne),[B,_e]=H([]),[se,ue]=H(null),de=M.account.get("preferences")||{},Ae=()=>{N.current&&N.current.dispatchEvent(new Event("input"))},Q=()=>{setTimeout(()=>{var _;(_=N.current)==null||_.focus()},300)};le(()=>{if(n){const{spoilerText:_,visibility:F,language:I,sensitive:S}=n;_&&q.current&&(q.current.value=_);const j=[...new Set([n.account.acct,...n.mentions.map(z=>z.acct)])].filter(z=>z!==l.acct);j.length>0&&(N.current.value=`${j.map(z=>`@${z}`).join(" ")} `,Ae()),Q(),be(F==="public"&&de["posting:default:visibility"]?de["posting:default:visibility"]:F),X(I||de.postingDefaultLanguage||Re),P(S)}else if(a){const{visibility:_,language:F,sensitive:I,poll:S,mediaAttachments:Y}=a,j=!!(S!=null&&S.options)&&{...S,options:S.options.map(z=>(z==null?void 0:z.title)||z),expiresIn:(S==null?void 0:S.expiresIn)||Mn(S.expiresAt)};h("loading"),(async()=>{try{const z=await c.v1.statuses.$select(a.id).source.fetch(),{text:U,spoilerText:ae}=z;N.current.value=U,N.current.dataset.source=U,Ae(),Q(),q.current.value=ae,be(_),X(F||presf.postingDefaultLanguage||Re),P(I),ue(j),_e(Y),h("default")}catch(z){alert((z==null?void 0:z.reason)||z),h("error")}})()}else Q(),de["posting:default:visibility"]&&be(de["posting:default:visibility"]),de["posting:default:language"]&&X(de["posting:default:language"]),de["posting:default:sensitive"]&&P(de["posting:default:sensitive"]);if(r){const{status:_,spoilerText:F,visibility:I,language:S,sensitive:Y,poll:j,mediaAttachments:z}=r,U=!!(j!=null&&j.options)&&{...j,options:j.options.map(ae=>(ae==null?void 0:ae.title)||ae),expiresIn:(j==null?void 0:j.expiresIn)||Mn(j.expiresAt)};N.current.value=_,Ae(),Q(),F&&(q.current.value=F),I&&be(I),X(S||de.postingDefaultLanguage||Re),Y!==null&&P(Y),U&&ue(U),z&&_e(z)}},[r,a,n]);const ce=te(),O="You have unsaved changes. Discard this post?",G=()=>{const{value:_,dataset:F}=N.current;if(f==="loading")return!1;const I=B.length>0;if(!_&&!I||B.length>0&&B.every(U=>U.id))return!0;const Y=(n==null?void 0:n.account.id)===l.id,j=n&&_.trim()===`@${n.account.acct}`;return!!(!Y&&j||_===(F==null?void 0:F.source))},fe=()=>G()?!0:confirm(O);le(()=>{const _=F=>{G()||(F.preventDefault(),F.returnValue=O)};return window.addEventListener("beforeunload",_,{capture:!0}),()=>window.removeEventListener("beforeunload",_,{capture:!0})},[]);const oe=()=>{const{value:_}=N.current,{value:F}=q.current;return _n(ri(_))+_n(F)},ke=()=>{const _=oe();x.composerCharacterCount=_};le(ke,[]);const Le=te(!1);Ue("esc",()=>{Le.current=!0},{enableOnFormTags:!0}),Ue("esc",()=>{!o&&Le.current&&fe()&&t(),Le.current=!1},{enableOnFormTags:!0,keyup:!0});const ge=te({}),me=()=>`${gt()}#${p.current}`,Ee=()=>{if(a)return;const _=me(),F={key:_,replyTo:n?{id:n.id,account:{id:n.account.id,username:n.account.username,acct:n.account.acct}}:null,draftStatus:{uid:p.current,status:N.current.value,spoilerText:q.current.value,visibility:Z,language:ne,sensitive:ie,poll:se,mediaAttachments:B}};!Xa(F,ge.current)&&!G()&&(Ln.drafts.set(_,{...F,state:"unsaved",updatedAt:Date.now()}).then(()=>{}).catch(I=>{}),ge.current=structuredClone(F))};ro(Ee,5e3),le(()=>(Ee(),()=>{Ln.drafts.del(me())}),[]),le(()=>{const _=I=>{const{items:S}=I.clipboardData||I.dataTransfer,Y=[];for(let j=0;j<S.length;j++){const z=S[j];if(z.kind==="file"){const U=z.getAsFile();U&&A.includes(U.type)&&Y.push(U)}}if(Y.length>0&&B.length>=g){alert(`You can only attach up to ${g} files.`);return}if(Y.length>0){I.preventDefault(),I.stopPropagation();const j=g-B.length,z=Y.slice(0,j);if(z.length<=0){alert(`You can only attach up to ${g} files.`);return}const U=z.map(ae=>({file:ae,type:ae.type,size:ae.size,url:URL.createObjectURL(ae),id:null,description:null}));_e([...B,...U])}};window.addEventListener("paste",_);const F=I=>{I.dataTransfer.items.length>0&&(I.preventDefault(),I.stopPropagation())};return window.addEventListener("dragover",F),window.addEventListener("drop",_),()=>{window.removeEventListener("paste",_),window.removeEventListener("dragover",F),window.removeEventListener("drop",_)}},[B]);const[he,Se]=H(!1);return e("div",{id:"compose-container-outer",children:[e("div",{id:"compose-container",class:o?"standalone":"",children:[e("div",{class:"compose-top",children:[(l==null?void 0:l.avatarStatic)&&e(Jn,{account:l,accountInstance:u.instanceURL,hideDisplayName:!0}),o?s&&e("button",{type:"button",class:"light pop-button",disabled:f==="loading",onClick:()=>{if(!window.opener){alert("Looks like you closed the parent window.");return}window.opener.__STATES__.showCompose&&!confirm("Looks like you already have a compose field open in the parent window. Popping in this window will discard the changes you made in the parent window. Continue?")||t({fn:()=>{const _={editStatus:a,replyToStatus:n,draftStatus:{uid:p.current,status:N.current.value,spoilerText:q.current.value,visibility:Z,language:ne,sensitive:ie,poll:se,mediaAttachments:B}};window.opener.__COMPOSE__=_,window.opener.__STATES__.showCompose=!0}})},children:e(T,{icon:"popin",alt:"Pop in"})}):e("span",{children:[e("button",{type:"button",class:"light pop-button",disabled:f==="loading",onClick:()=>{if(!so({editStatus:a,replyToStatus:n,draftStatus:{uid:p.current,status:N.current.value,spoilerText:q.current.value,visibility:Z,language:ne,sensitive:ie,poll:se,mediaAttachments:B}})){alert("Looks like your browser is blocking popups.");return}t()},children:e(T,{icon:"popout",alt:"Pop out"})})," ",e("button",{type:"button",class:"light close-button",disabled:f==="loading",onClick:()=>{fe()&&t()},children:e(T,{icon:"x"})})]})]}),!!n&&e("div",{class:"status-preview",children:[e(Rn,{status:n,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend reply-to",children:["Replying to @",n.account.acct||n.account.username,"’s post"]})]}),!!a&&e("div",{class:"status-preview",children:[e(Rn,{status:a,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend",children:"Editing source post"})]}),e("form",{ref:ce,class:`form-visibility-${Z}`,style:{pointerEvents:f==="loading"?"none":"auto",opacity:f==="loading"?.5:1},onKeyDown:_=>{_.key==="Enter"&&(_.ctrlKey||_.metaKey)&&ce.current.dispatchEvent(new Event("submit",{cancelable:!0}))},onSubmit:_=>{_.preventDefault();const F=new FormData(_.target),I=Object.fromEntries(F.entries());let{status:S,visibility:Y,sensitive:j,spoilerText:z}=I;if(j=j==="on",se){if(se.options.length<2){alert("Poll must have at least 2 options");return}if(se.options.some(U=>U==="")){alert("Some poll choices are empty");return}}B.length>0&&B.some(ae=>{var pe,$e;return!(($e=(pe=ae.description)==null?void 0:pe.trim)!=null&&$e.call(pe))})&&!confirm("Some media have no descriptions. Continue?")||(z=j&&z||void 0,S=S===""?void 0:S,h("loading"),(async()=>{try{if(B.length>0){const pe=B.map(ve=>{const{file:je,description:ut,id:Ze}=ve;if(Ze)return ve;{const Ce=zn({file:je,description:ut});return c.v2.media.create(Ce).then(re=>(re.id&&(ve.id=re.id),re))}}),$e=await Promise.allSettled(pe);if($e.some(ve=>{var je;return ve.status==="rejected"||!((je=ve.value)!=null&&je.id)})){h("error"),$e.forEach(ve=>{ve.status==="rejected"&&alert(ve.reason||`Attachment #${i} failed`)});return}}let U={status:S,spoiler_text:z,language:ne,sensitive:j,poll:se,media_ids:B.map(pe=>pe.id)};a&&Yn("@mastodon/edit-media-attributes")?U.media_attributes=B.map(pe=>({id:pe.id,description:pe.description})):a||(U.visibility=Y,U.in_reply_to_id=(n==null?void 0:n.id)||void 0),U=zn(U);let ae;if(a)ae=await c.v1.statuses.$select(a.id).update(U),Te(ae,d,{skipThreading:!0});else try{ae=await c.v1.statuses.create(U,{idempotencyKey:p.current})}catch{ae=await c.v1.statuses.create(U)}h("default"),t({type:a?"edit":n?"reply":"post",newStatus:ae,instance:d})}catch(U){alert((U==null?void 0:U.reason)||U),h("error")}})())},children:[e("div",{class:"toolbar stretch",children:[e("input",{ref:q,type:"text",name:"spoilerText",placeholder:"Content warning",disabled:f==="loading",class:"spoiler-text-field",lang:ne,spellCheck:"true",dir:"auto",style:{opacity:ie?1:0,pointerEvents:ie?"auto":"none"},onInput:()=>{ke()}}),e("label",{class:`toolbar-button ${ie?"highlight":""}`,title:"Content warning or sensitive media",children:[e("input",{name:"sensitive",type:"checkbox",checked:ie,disabled:f==="loading",onChange:_=>{var I,S;const F=_.target.checked;P(F),F?(I=q.current)==null||I.focus():(S=N.current)==null||S.focus()}}),e(T,{icon:`eye-${ie?"close":"open"}`})]})," ",e("label",{class:`toolbar-button ${Z!=="public"&&!ie?"show-field":""} ${Z!=="public"?"highlight":""}`,title:`Visibility: ${Z}`,children:[e(T,{icon:We[Z],alt:Z}),e("select",{name:"visibility",value:Z,onChange:_=>{be(_.target.value)},disabled:f==="loading"||!!a,children:[e("option",{value:"public",children:["Public ",e(T,{icon:"earth"})]}),e("option",{value:"unlisted",children:"Unlisted"}),e("option",{value:"private",children:"Followers only"}),e("option",{value:"direct",children:"Private mention"})]})]})," "]}),e(si,{ref:N,placeholder:n?"Post your reply":a?"Edit your post":"What are you doing?",required:(B==null?void 0:B.length)===0,disabled:f==="loading",lang:ne,onInput:()=>{ke()},maxCharacters:y,performSearch:_=>{const{type:F,q:I,limit:S}=_;return F==="accounts"?c.v1.accounts.search.list({q:I,limit:S,resolve:!1}):c.v2.search.fetch(_)}}),(B==null?void 0:B.length)>0&&e("div",{class:"media-attachments",children:[B.map((_,F)=>{const{id:I,file:S}=_,Y=(S==null?void 0:S.size)+(S==null?void 0:S.type)+(S==null?void 0:S.name);return e(li,{attachment:_,disabled:f==="loading",lang:ne,onDescriptionChange:j=>{_e(z=>{const U=[...z];return U[F].description=j,U})},onRemove:()=>{_e(j=>j.filter((z,U)=>U!==F))}},I||Y||F)}),e("label",{class:"media-sensitive",children:[e("input",{name:"sensitive",type:"checkbox",checked:ie,disabled:f==="loading",onChange:_=>{const F=_.target.checked;P(F)}})," ",e("span",{children:"Mark media as sensitive"})," ",e(T,{icon:`eye-${ie?"close":"open"}`})]})]}),!!se&&e(ui,{lang:ne,maxOptions:D,maxExpiration:K,minExpiration:R,maxCharactersPerOption:J,poll:se,disabled:f==="loading",onInput:_=>{if(_){const F={..._};ue(F)}else ue(null)}}),e("div",{class:"toolbar wrap",style:{justifyContent:"flex-end"},children:[e("span",{children:[e("label",{class:"toolbar-button",children:[e("input",{type:"file",accept:A.join(","),multiple:B.length<g-1,disabled:f==="loading"||B.length>=g||!!se,onChange:_=>{const F=_.target.files;if(!F)return;const I=Array.from(F).map(S=>({file:S,type:S.type,size:S.size,url:URL.createObjectURL(S),id:null,description:null}));B.length+I.length>g?alert(`You can only attach up to ${g} files.`):_e(S=>S.concat(I)),_.target.value=""}}),e(T,{icon:"attachment"})]})," ",e("button",{type:"button",class:"toolbar-button",disabled:f==="loading"||!!se||!!B.length,onClick:()=>{ue({options:["",""],expiresIn:24*60*60,multiple:!1})},children:e(T,{icon:"poll",alt:"Add poll"})})," ",e("button",{type:"button",class:"toolbar-button",disabled:f==="loading",onClick:()=>{Se(!0)},children:e(T,{icon:"emoji2"})})]}),e("div",{class:"spacer"}),f==="loading"?e(Je,{abrupt:!0}):e(ci,{maxCharacters:y,hidden:f==="loading"}),e("label",{class:`toolbar-button ${ne!==ye.current?"highlight":""}`,children:[e("span",{class:"icon-text",children:(Et=Qo[ne])==null?void 0:Et.native}),e("select",{name:"language",value:ne,onChange:_=>{const{value:F}=_.target;X(F||Re),M.session.set("currentLanguage",F||Re)},disabled:f==="loading",children:tn.sort(([_,F],[I,S])=>{const{contentTranslationHideLanguages:Y=[]}=x.settings;return _===ne||_===ye||_===Re||Y!=null&&Y.includes(_)?-1:I===ne||I===ye||I===Re||Y!=null&&Y.includes(I)?1:F.localeCompare(S)}).map(([_,F,I])=>e("option",{value:_,children:[F," (",I,")"]}))})]})," ",e("button",{type:"submit",class:"large",disabled:f==="loading",children:n?"Reply":a?"Update":"Post"})]})]})]}),he&&e(it,{class:"light",onClick:_=>{_.target===_.currentTarget&&Se(!1)},children:e(mi,{masto:c,instance:d,onClose:()=>{Se(!1)},onSelect:_=>{const F=` ${_} `,I=N.current;if(!I)return;const{selectionStart:S,selectionEnd:Y}=I,j=I.value,z=j.slice(0,S)+F+j.slice(Y);I.value=z,I.selectionStart=I.selectionEnd=Y+F.length,I.focus(),I.dispatchEvent(new Event("input"))}})})]})}function On(t){if(!t)return;const{value:n,offsetHeight:a,scrollHeight:r,clientHeight:o}=t;if(a<window.innerHeight){const s=a-o;t.style.height=n?r+s+"px":null}}const si=jn((t,n)=>{var b;const{masto:a}=Ne(),[r,o]=H(((b=n.current)==null?void 0:b.value)||""),{maxCharacters:s,performSearch:c=()=>{},...d}=t,h=ct(x).composerCharacterCount,p=te();le(()=>{(async()=>{try{const y=await a.v1.customEmojis.list();p.current=y}catch{}})()},[]);const u=te(),l=te("");return le(()=>{let y,g,v;return u.current&&(y=A=>{const{key:L,provide:w,text:E}=A.detail;if(l.current=E,E===""){w(Promise.resolve({matched:!1}));return}if(L===":"){const W=di(p.current,E);let D="";W.forEach(J=>{const{shortcode:K,url:R}=J;D+=`
                <li role="option" data-value="${Pe(K)}">
                <img src="${Pe(R)}" width="16" height="16" alt="" loading="lazy" /> 
                :${Pe(K)}:
              </li>`}),ze.innerHTML=D,w(Promise.resolve({matched:W.length>0,fragment:ze}));return}const $={"@":"accounts","#":"hashtags"}[L];w(new Promise(W=>{c({type:$,q:E,limit:5}).then(J=>{if(E!==l.current)return;const K=J[$]||J;let R="";K.forEach(N=>{const{name:q,avatarStatic:Z,displayName:be,username:ie,acct:P,emojis:ne}=N,X=en(be,ne);P?R+=`
                    <li role="option" data-value="${Pe(P)}">
                      <span class="avatar">
                        <img src="${Pe(Z)}" width="16" height="16" alt="" loading="lazy" />
                      </span>
                      <span>
                        <b>${X||ie}</b>
                        <br>@${Pe(P)}
                      </span>
                    </li>
                  `:R+=`
                    <li role="option" data-value="${Pe(q)}">
                      <span>#<b>${Pe(q)}</b></span>
                    </li>
                  `,ze.innerHTML=R}),W({matched:K.length>0,fragment:ze})})}))},u.current.addEventListener("text-expander-change",y),g=A=>{const{key:L,item:w}=A.detail;L===":"?A.detail.value=`:${w.dataset.value}:`:A.detail.value=`${L}${w.dataset.value}`},u.current.addEventListener("text-expander-value",g),v=A=>{const{input:L}=A.detail;o(L.value)},u.current.addEventListener("text-expander-committed",v)),()=>{u.current&&(u.current.removeEventListener("text-expander-change",y),u.current.removeEventListener("text-expander-value",g),u.current.removeEventListener("text-expander-committed",v))}},[]),e("text-expander",{ref:u,keys:"@ # :",children:e("textarea",{autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",rows:"6",cols:"50",...d,ref:n,name:"status",value:r,onKeyDown:y=>{const{key:g,target:v}=y;if(g==="Enter")try{const{value:A,selectionStart:L}=v,E=A.slice(0,L).split(`
`).slice(-1)[0];if(E&&/^\s*(-|\d+\.)\s/.test(E)){const[$,W,D,J,K]=E.match(/^(\s*)(-|\d+\.)(\s+)(.+)?/)||[];if(K){y.preventDefault();const[R]=D.match(/\d+/)||[],N=R?`${+R+1}.`:"-",q=`
${W}${N}${J}`;v.setRangeText(q,L,L);const Z=L+q.length;v.setSelectionRange(Z,Z)}else{const R=L-E.length;v.setRangeText("",R,L)}On(v)}}catch{}},onInput:y=>{var v;const{target:g}=y;o(g.value),On(g),(v=t.onInput)==null||v.call(t,y)},style:{width:"100%",height:"4em","--text-weight":(1+h/140).toFixed(1)||1}})})});function ci({maxCharacters:t=500,hidden:n}){const r=ct(x).composerCharacterCount,o=t-r;return n?e("meter",{class:"donut",hidden:!0}):e("meter",{class:`donut ${o<=-10?"explode":o<=0?"danger":o<=20?"warning":""}`,value:r,max:t,"data-left":o,title:`${o}/${t}`,style:{"--percentage":r/t*100}})}function li({attachment:t,disabled:n,lang:a,onDescriptionChange:r=()=>{},onRemove:o=()=>{}}){const s=Yn("@mastodon/edit-media-attributes"),{type:c,id:d,file:f}=t,h=Me(()=>f?URL.createObjectURL(f):t.url,[f,t.url]),[p,u]=H(t.description),l=c.split("/")[0],b=Qa(r,250),[y,g]=H(!1),v=te(null);le(()=>{let L;return y&&v.current&&(L=setTimeout(()=>{v.current.focus()},100)),()=>{clearTimeout(L)}},[y]);const A=e(V,{children:d&&!s?e("div",{class:"media-desc",children:[e("span",{class:"tag",children:"Uploaded"}),e("p",{title:p,children:t.description||e("i",{children:"No description"})})]}):e("textarea",{ref:v,value:p||"",lang:a,placeholder:{image:"Image description",video:"Video description",audio:"Audio description"}[l],autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",disabled:n,maxlength:"1500",onInput:L=>{const{value:w}=L.target;u(w),b(w)}})});return e(V,{children:[e("div",{class:"media-attachment",children:[e("div",{class:"media-preview",tabIndex:"0",onClick:()=>{g(!0)},children:l==="image"?e("img",{src:h,alt:""}):l==="video"||l==="gifv"?e("video",{src:h,playsinline:!0,muted:!0}):l==="audio"?e("audio",{src:h,controls:!0}):null}),A,e("div",{class:"media-aside",children:e("button",{type:"button",class:"plain close-button",disabled:n,onClick:o,children:e(T,{icon:"x"})})})]}),y&&e(it,{class:"light",onClick:L=>{L.target===L.currentTarget&&g(!1)},children:e("div",{id:"media-sheet",class:"sheet sheet-max",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>{g(!1)},children:e(T,{icon:"x"})}),e("header",{children:e("h2",{children:{image:"Edit image description",video:"Edit video description",audio:"Edit audio description"}[l]})}),e("main",{tabIndex:"-1",children:[e("div",{class:"media-preview",children:l==="image"?e("img",{src:h,alt:""}):l==="video"||l==="gifv"?e("video",{src:h,playsinline:!0,controls:!0}):l==="audio"?e("audio",{src:h,controls:!0}):null}),e("div",{class:"media-form",children:[A,e("footer",{children:e("button",{type:"button",class:"light block",onClick:()=>{g(!1)},children:"Done"})})]})]})]})})]})}function ui({lang:t,poll:n,disabled:a,onInput:r=()=>{},maxOptions:o,maxExpiration:s,minExpiration:c,maxCharactersPerOption:d}){const{options:f,expiresIn:h,multiple:p}=n;return e("div",{class:`poll ${p?"multiple":""}`,children:[e("div",{class:"poll-choices",children:f.map((u,l)=>e("div",{class:"poll-choice",children:[e("input",{required:!0,type:"text",value:u,disabled:a,maxlength:d,placeholder:`Choice ${l+1}`,lang:t,spellCheck:"true",dir:"auto",onInput:b=>{const{value:y}=b.target;f[l]=y,r(n)}}),e("button",{type:"button",class:"plain2 poll-button",disabled:a||f.length<=1,onClick:()=>{f.splice(l,1),r(n)},children:e(T,{icon:"x",size:"s"})})]},l))}),e("div",{class:"poll-toolbar",children:[e("button",{type:"button",class:"plain2 poll-button",disabled:a||f.length>=o,onClick:()=>{f.push(""),r(n)},children:"+"})," ",e("label",{class:"multiple-choices",children:[e("input",{type:"checkbox",checked:p,disabled:a,onChange:u=>{const{checked:l}=u.target;n.multiple=l,r(n)}})," ","Multiple choices"]}),e("label",{class:"expires-in",children:["Duration"," ",e("select",{value:h,disabled:a,onChange:u=>{const{value:l}=u.target;n.expiresIn=l,r(n)},children:Object.entries(aa).filter(([u,l])=>l>=c&&l<=s).map(([u,l])=>e("option",{value:l,children:u},l))})]})]}),e("div",{class:"poll-toolbar",children:e("button",{type:"button",class:"plain remove-poll-button",disabled:a,onClick:()=>{r(null)},children:"Remove poll"})})]})}function di(t,n){return n=n.toLowerCase(),t.sort((a,r)=>{let o=a.shortcode.toLowerCase(),s=r.shortcode.toLowerCase(),c=o.startsWith(n),d=s.startsWith(n),f=o.includes(n),h=s.includes(n);return c&&d?a.length-r.length:c?-1:d?1:f&&h?a.length-r.length:f?-1:h?1:0}).slice(0,5)}function Pe(t){return t.replace(/[&<>"']/g,function(n){return"&#"+n.charCodeAt(0)+";"})}function zn(t){for(let n in t)(t[n]===null||t[n]===void 0)&&delete t[n];return t}function mi({masto:t,instance:n,onClose:a=()=>{},onSelect:r=()=>{}}){const[o,s]=H("default"),c=te([]),[d,f]=H({}),h=Me(()=>M.account.get("recentlyUsedCustomEmojis")||[]);return le(()=>{s("loading"),(async()=>{try{const p=await t.v1.customEmojis.list(),u={"--recent--":h.filter(b=>p.find(y=>y.shortcode===b.shortcode))},l=[];p.forEach(b=>{var y,g;if(b.visibleInPicker){if((g=(y=c.current)==null?void 0:y.push)==null||g.call(y,b),!b.category){l.push(b);return}u[b.category]||(u[b.category]=[]),u[b.category].push(b)}}),l.length&&(u["--others--"]=l),f(u),s("default")}catch{s("error")}})()},[]),e("div",{id:"custom-emojis-sheet",class:"sheet",children:[!!a&&e("button",{type:"button",class:"sheet-close",onClick:a,children:e(T,{icon:"x"})}),e("header",{children:[e("b",{children:"Custom emojis"})," ",o==="loading"?e(Je,{}):e("small",{class:"insignificant",children:[" • ",n]})]}),e("main",{children:e("div",{class:"custom-emojis-list",children:[o==="error"&&e("div",{class:"ui-state",children:e("p",{children:"Error loading custom emojis"})}),o==="default"&&Object.entries(d).map(([p,u])=>!!(u!=null&&u.length)&&e(V,{children:[e("div",{class:"section-header",children:{"--recent--":"Recently used","--others--":"Others"}[p]||p}),e("section",{children:u.map(l=>e("button",{type:"button",class:"plain4",onClick:()=>{a(),requestAnimationFrame(()=>{r(`:${l.shortcode}:`)});let b=M.account.get("recentlyUsedCustomEmojis")||[];const y=b.findIndex(g=>g.shortcode===l.shortcode);y!==-1?(b.splice(y,1),b.unshift(l)):(b.unshift(l),b=b.filter(g=>{var v,A;return(A=(v=c.current)==null?void 0:v.find)==null?void 0:A.call(v,L=>L.shortcode===g.shortcode)}),b=b.slice(0,10)),M.account.set("recentlyUsedCustomEmojis",b)},title:`:${l.shortcode}:`,children:e("picture",{children:[!!l.staticUrl&&e("source",{srcset:l.staticUrl,media:"(prefers-reduced-motion: reduce)"}),e("img",{class:"shortcode-emoji",src:l.url||l.staticUrl,alt:l.shortcode,width:"16",height:"16",loading:"lazy",decoding:"async"})]})},l))})]}))]})})]})}const{VITE_CLIENT_NAME:Nn}={VITE_CLIENT_NAME:"Phanpy",VITE_CLIENT_ID:"social.phanpy",VITE_WEBSITE:"https://phanpy.social",VITE_APP_ENV:"production",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function wi(t,n){function a(){const{currentLocation:r}=x,o=Array.isArray(n);let s=o?n:[];!o&&/:?\w+\?/.test(n)&&(s.push(n.replace(/(:\w+)\?/g,"$1")),s.push(n.replace(/\/?:\w+\?/g,"")));let c=!1;s.length?c=s.some(d=>kn(d,r)):n&&(c=kn(n,r)),c&&(document.title=t?`${t} / ${Nn}`:Nn)}Jt(()=>{const r=Bn(x,"currentLocation",a);return a(),r},[t,n])}export{k as $,He as A,In as B,ki as C,bt as D,rt as E,no as F,Ro as G,Po as H,T as I,Be as J,wi as K,lt as L,it as M,nt as N,Wn as O,qn as P,xn as Q,_t as R,Rn as S,Lo as T,Cn as U,lo as V,Ke as W,gi as X,vi as Y,yi as Z,bi as _,Ne as a,Te as b,M as c,jt as d,Gn as e,Yn as f,xt as g,Jn as h,_o as i,Zt as j,Ge as k,Vt as l,_i as m,wt as n,so as o,fi as p,we as q,Je as r,x as s,po as t,ro as u,Xt as v,Ln as w,gt as x,kt as y,No as z};
//# sourceMappingURL=useTitle-37d18384.js.map
