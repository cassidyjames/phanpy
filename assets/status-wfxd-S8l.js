function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{H as Lo,F as ne,_ as _e,a as e,W as wo,p as X,u as ze,a2 as Ao,e as $o,N as Io,a3 as So,a4 as Po,M as Q,a5 as Ro,S as Do,w as lt,g as $,a6 as Co,a7 as Re,a8 as xo,a9 as Mo,y as Oo,q as ue,aa as Vo,v as Uo,ab as No,X as Ho,G as zo,ac as Bo,ad as Fo,ae as jo,af as qo,ag as Ko,ah as Wo,ai as Go,aj as Yo,ak as Xo,al as Zo,k as Qo,am as Jo,h as zn,an as ea,x as en,A as Sn,ao as Pn,b as dt,P as Bn,d as Je,J as Fn,C as ta,f as Yt,ap as na,aq as oa,ar as aa}from"./vendor-Ndz76jnv.js";import{_ as m,q as Ae,s as P,e as ra,p as tn,L as jn,c as Lt,a as Rn,f as Le,b as ke,j as qn,r as ia,v as sa}from"./useTitle-SinJgikO.js";window._showToast=ie;function ie(t){typeof t=="string"&&(t={text:t});const{onClick:n,delay:o,...i}=t,r=Lo({className:`${n||t.destination?"shiny-pill":""}`,gravity:"bottom",position:"center",...i,onClick:()=>{n==null||n(r)}});return o?setTimeout(()=>{r.showToast()},o):r.showToast(),r}function Tr(t,n,o,i){const r=ne(t);_e(()=>{r.current=t},[t,o]),_e(()=>{!i||n===null||n===!1||r.current()},[i]),_e(()=>{if(n===null||n===!1)return;const l=setInterval(()=>r.current(),n);return()=>clearInterval(l)},[n])}function ca(t){const n=new URL("/compose/",window.location),{width:o,height:i}=window.screen,r=Math.max(0,(o-600)/2),s=Math.max(0,(i-450)/2),l=Math.min(o,600),c=Math.min(i,450),d=(t==null?void 0:t.uid)||Math.random(),f=window.open(n,"compose"+d,`width=${l},height=${c},left=${r},top=${s}`);return f?f.__COMPOSE__=t:alert("Looks like your browser is blocking popups."),f}const Kn={x:()=>m(()=>import("./icons/close-line-YTE7hIJE.js"),__vite__mapDeps([]),import.meta.url),heart:()=>m(()=>import("./icons/heart-line-VwvWYh8h.js"),__vite__mapDeps([]),import.meta.url),bookmark:()=>m(()=>import("./icons/bookmark-line-D6jQ7QFs.js"),__vite__mapDeps([]),import.meta.url),"check-circle":()=>m(()=>import("./icons/check-circle-line-sE41WGxF.js"),__vite__mapDeps([]),import.meta.url),"x-circle":()=>m(()=>import("./icons/close-circle-line-qd3g541O.js"),__vite__mapDeps([]),import.meta.url),transfer:()=>m(()=>import("./icons/transfer-4-line-Q9QJoxz3.js"),__vite__mapDeps([]),import.meta.url),rocket:()=>m(()=>import("./icons/rocket-line-rZbVYYCZ.js"),__vite__mapDeps([]),import.meta.url),"arrow-left":()=>m(()=>import("./icons/arrow-left-line-_YC6-XGG.js"),__vite__mapDeps([]),import.meta.url),"arrow-right":()=>m(()=>import("./icons/arrow-right-line-PypiEqpu.js"),__vite__mapDeps([]),import.meta.url),"arrow-up":()=>m(()=>import("./icons/arrow-up-line-fcuKqhVE.js"),__vite__mapDeps([]),import.meta.url),"arrow-down":()=>m(()=>import("./icons/arrow-down-line-0TRJUP_K.js"),__vite__mapDeps([]),import.meta.url),earth:()=>m(()=>import("./icons/earth-line-t1Um8wpQ.js"),__vite__mapDeps([]),import.meta.url),lock:()=>m(()=>import("./icons/lock-line-0jNHqZpm.js"),__vite__mapDeps([]),import.meta.url),unlock:()=>m(()=>import("./icons/unlock-line-w3piJMVb.js"),__vite__mapDeps([]),import.meta.url),"eye-close":()=>m(()=>import("./icons/eye-close-line-lBiePPv9.js"),__vite__mapDeps([]),import.meta.url),"eye-open":()=>m(()=>import("./icons/eye-2-line-vz_Kw-rK.js"),__vite__mapDeps([]),import.meta.url),message:()=>m(()=>import("./icons/mail-line-5XLS6FEo.js"),__vite__mapDeps([]),import.meta.url),comment:()=>m(()=>import("./icons/chat-3-line-F0xcdpXY.js"),__vite__mapDeps([]),import.meta.url),comment2:()=>m(()=>import("./icons/comment-2-line-xEXuT-Ip.js"),__vite__mapDeps([]),import.meta.url),home:()=>m(()=>import("./icons/home-3-line-qJiZhXUH.js"),__vite__mapDeps([]),import.meta.url),notification:()=>m(()=>import("./icons/notification-line-olNPLtgS.js"),__vite__mapDeps([]),import.meta.url),follow:()=>m(()=>import("./icons/user-follow-line-k_GCWTtp.js"),__vite__mapDeps([]),import.meta.url),"follow-add":()=>m(()=>import("./icons/user-add-line-zzW9OULB.js"),__vite__mapDeps([]),import.meta.url),poll:[()=>m(()=>import("./icons/chart-bar-line-5r_DfN2w.js"),__vite__mapDeps([]),import.meta.url),"90deg"],pencil:()=>m(()=>import("./icons/pencil-line-bKXqElLR.js"),__vite__mapDeps([]),import.meta.url),quill:()=>m(()=>import("./icons/quill-pen-line-h_5-FsGz.js"),__vite__mapDeps([]),import.meta.url),at:()=>m(()=>import("./icons/at-line-9vJS_Hnl.js"),__vite__mapDeps([]),import.meta.url),attachment:()=>m(()=>import("./icons/attachment-line-C2PUa1Ke.js"),__vite__mapDeps([]),import.meta.url),upload:()=>m(()=>import("./icons/upload-3-line-Qsjvubiw.js"),__vite__mapDeps([]),import.meta.url),gear:()=>m(()=>import("./icons/settings-3-line-kt4MSpRv.js"),__vite__mapDeps([]),import.meta.url),more:()=>m(()=>import("./icons/more-3-line-wUD-Yhmj.js"),__vite__mapDeps([]),import.meta.url),more2:()=>m(()=>import("./icons/more-1-fill-je1-slyh.js"),__vite__mapDeps([]),import.meta.url),external:()=>m(()=>import("./icons/external-link-line-8nOOkmFu.js"),__vite__mapDeps([]),import.meta.url),popout:()=>m(()=>import("./icons/external-link-line-8nOOkmFu.js"),__vite__mapDeps([]),import.meta.url),popin:[()=>m(()=>import("./icons/external-link-line-8nOOkmFu.js"),__vite__mapDeps([]),import.meta.url),"180deg"],plus:()=>m(()=>import("./icons/add-circle-line--O-MfyNy.js"),__vite__mapDeps([]),import.meta.url),"chevron-left":()=>m(()=>import("./icons/left-line-Jck0yVmC.js"),__vite__mapDeps([]),import.meta.url),"chevron-right":()=>m(()=>import("./icons/right-line-7VBoqLdz.js"),__vite__mapDeps([]),import.meta.url),"chevron-down":()=>m(()=>import("./icons/down-line-9PeS5YhF.js"),__vite__mapDeps([]),import.meta.url),reply:[()=>m(()=>import("./icons/share-forward-line-4jL-2Q4u.js"),__vite__mapDeps([]),import.meta.url),"180deg","horizontal"],thread:()=>m(()=>import("./icons/route-line-2YYy3958.js"),__vite__mapDeps([]),import.meta.url),group:()=>m(()=>import("./icons/group-line-JvhJklhQ.js"),__vite__mapDeps([]),import.meta.url),bot:()=>m(()=>import("./icons/android-2-line-uPwvVubH.js"),__vite__mapDeps([]),import.meta.url),menu:()=>m(()=>import("./icons/rows-4-line-SxGPYpTa.js"),__vite__mapDeps([]),import.meta.url),list:()=>m(()=>import("./icons/list-check-line-qNqx9Mm4.js"),__vite__mapDeps([]),import.meta.url),search:()=>m(()=>import("./icons/search-2-line-G39AynEw.js"),__vite__mapDeps([]),import.meta.url),hashtag:()=>m(()=>import("./icons/hashtag-line-SS3QMu1R.js"),__vite__mapDeps([]),import.meta.url),info:()=>m(()=>import("./icons/information-line-8SOch6cR.js"),__vite__mapDeps([]),import.meta.url),shortcut:()=>m(()=>import("./icons/lightning-line-JMYUlCZM.js"),__vite__mapDeps([]),import.meta.url),user:()=>m(()=>import("./icons/user-4-line-zT_bpOrS.js"),__vite__mapDeps([]),import.meta.url),following:()=>m(()=>import("./icons/walk-line-CF7a5s4t.js"),__vite__mapDeps([]),import.meta.url),pin:()=>m(()=>import("./icons/pin-line-ULyRQyWZ.js"),__vite__mapDeps([]),import.meta.url),unpin:[()=>m(()=>import("./icons/pin-line-ULyRQyWZ.js"),__vite__mapDeps([]),import.meta.url),"180deg"],bus:()=>m(()=>import("./icons/bus-2-line-XuQdDZ_w.js"),__vite__mapDeps([]),import.meta.url),link:()=>m(()=>import("./icons/link-2-line-BUqp1EwN.js"),__vite__mapDeps([]),import.meta.url),history:()=>m(()=>import("./icons/history-line-yoG7K8wL.js"),__vite__mapDeps([]),import.meta.url),share:()=>m(()=>import("./icons/share-2-line-PYo-zN94.js"),__vite__mapDeps([]),import.meta.url),sparkles:()=>m(()=>import("./icons/sparkles-line-wjZWGZ1a.js"),__vite__mapDeps([]),import.meta.url),sparkles2:()=>m(()=>import("./icons/sparkles-2-line-g2FqdZ0R.js"),__vite__mapDeps([]),import.meta.url),exit:()=>m(()=>import("./icons/exit-line-l-1uUgI7.js"),__vite__mapDeps([]),import.meta.url),translate:()=>m(()=>import("./icons/translate-line-HpDtlqS2.js"),__vite__mapDeps([]),import.meta.url),play:()=>m(()=>import("./icons/play-fill-Ey-zv2eL.js"),__vite__mapDeps([]),import.meta.url),trash:()=>m(()=>import("./icons/delete-2-line-pjUduCFs.js"),__vite__mapDeps([]),import.meta.url),mute:()=>m(()=>import("./icons/volume-mute-line-WthBoXru.js"),__vite__mapDeps([]),import.meta.url),unmute:()=>m(()=>import("./icons/volume-line-PZujbN8h.js"),__vite__mapDeps([]),import.meta.url),block:()=>m(()=>import("./icons/forbid-circle-line-3FxopGoP.js"),__vite__mapDeps([]),import.meta.url),unblock:[()=>m(()=>import("./icons/forbid-circle-line-3FxopGoP.js"),__vite__mapDeps([]),import.meta.url),"180deg"],flag:()=>m(()=>import("./icons/flag-1-line-xvcg7G7Q.js"),__vite__mapDeps([]),import.meta.url),time:()=>m(()=>import("./icons/time-line-ThP0kTRr.js"),__vite__mapDeps([]),import.meta.url),refresh:()=>m(()=>import("./icons/refresh-2-line-t42qqclb.js"),__vite__mapDeps([]),import.meta.url),emoji2:()=>m(()=>import("./icons/emoji-2-line--uNVc2IC.js"),__vite__mapDeps([]),import.meta.url),filter:()=>m(()=>import("./icons/filter-2-line-KyjbFYlO.js"),__vite__mapDeps([]),import.meta.url),filters:()=>m(()=>import("./icons/filter-line-1KEfnWDm.js"),__vite__mapDeps([]),import.meta.url),chart:()=>m(()=>import("./icons/chart-line-line-pHaLt6yC.js"),__vite__mapDeps([]),import.meta.url),react:()=>m(()=>import("./icons/react-line-YfZPqZem.js"),__vite__mapDeps([]),import.meta.url),layout4:()=>m(()=>import("./icons/layout-4-line-FOdnyEcZ.js"),__vite__mapDeps([]),import.meta.url),layout5:()=>m(()=>import("./icons/layout-5-line-9Kks7dle.js"),__vite__mapDeps([]),import.meta.url),announce:()=>m(()=>import("./icons/announcement-line-MSlAmDH1.js"),__vite__mapDeps([]),import.meta.url),alert:()=>m(()=>import("./icons/alert-line-zyc6hy8V.js"),__vite__mapDeps([]),import.meta.url),round:()=>m(()=>import("./icons/round-fill-a0rplSmV.js"),__vite__mapDeps([]),import.meta.url),"arrow-up-circle":()=>m(()=>import("./icons/arrow-up-circle-line-e3kZqEZN.js"),__vite__mapDeps([]),import.meta.url),"arrow-down-circle":()=>m(()=>import("./icons/arrow-down-circle-line-mpqFtRtO.js"),__vite__mapDeps([]),import.meta.url),clipboard:()=>m(()=>import("./icons/clipboard-line-9F_Yeo71.js"),__vite__mapDeps([]),import.meta.url),"account-edit":()=>m(()=>import("./icons/user-edit-line-9VnWCh0X.js"),__vite__mapDeps([]),import.meta.url),"account-warning":()=>m(()=>import("./icons/user-warning-line-gL3RGb1N.js"),__vite__mapDeps([]),import.meta.url),keyboard:()=>m(()=>import("./icons/keyboard-line-10AZQcVH.js"),__vite__mapDeps([]),import.meta.url),cloud:()=>m(()=>import("./icons/cloud-line-abe0HgFS.js"),__vite__mapDeps([]),import.meta.url),month:()=>m(()=>import("./icons/calendar-month-line-VoXZVWAe.js"),__vite__mapDeps([]),import.meta.url),media:()=>m(()=>import("./icons/photo-album-line--GdJqjfq.js"),__vite__mapDeps([]),import.meta.url),speak:()=>m(()=>import("./icons/radar-line-ndI8IhOG.js"),__vite__mapDeps([]),import.meta.url),building:()=>m(()=>import("./icons/building-5-line-ew7lu83B.js"),__vite__mapDeps([]),import.meta.url),history2:()=>m(()=>import("./icons/history-2-line-3yIVzoWo.js"),__vite__mapDeps([]),import.meta.url),document:()=>m(()=>import("./icons/document-line--D6ooZg1.js"),__vite__mapDeps([]),import.meta.url),"arrows-right":()=>m(()=>import("./icons/arrows-right-line-HF4HILdT.js"),__vite__mapDeps([]),import.meta.url),code:()=>m(()=>import("./icons/code-line-h4RWLaak.js"),__vite__mapDeps([]),import.meta.url),copy:()=>m(()=>import("./icons/copy-2-line-mPSDKieb.js"),__vite__mapDeps([]),import.meta.url),quote:()=>m(()=>import("./icons/quote-left-line-NQzeELMO.js"),__vite__mapDeps([]),import.meta.url),settings:()=>m(()=>import("./icons/settings-6-line-ZgCBilgF.js"),__vite__mapDeps([]),import.meta.url),"heart-break":()=>m(()=>import("./icons/heart-crack-line-P3DoKfTT.js"),__vite__mapDeps([]),import.meta.url),"user-x":()=>m(()=>import("./icons/user-x-line-zIdph-gu.js"),__vite__mapDeps([]),import.meta.url)},la={s:12,m:16,l:20,xl:24,xxl:32},Dn={},da=wo(function({width:t,height:n,body:o,rotate:i,flip:r}){return e("svg",{viewBox:`0 0 ${t} ${n}`,dangerouslySetInnerHTML:{__html:o},style:{transform:`${i?`rotate(${i})`:""} ${r?"scaleX(-1)":""}`}})},{isShallowEqual:!0,maxSize:Object.keys(Kn).length,matchesArg:(t,n)=>t.icon===n.icon&&t.body===n.body});function y({icon:t,size:n="m",alt:o,title:i,class:r="",style:s={}}){if(!t)return null;const l=la[n];let c=Kn[t];if(!c)return null;let d,f;Array.isArray(c)&&([c,d,f]=c);const[h,u]=X(Dn[t]),_=ne(t);return _e(()=>{h&&_.current===t||((async()=>{const g=await c();u(g.default),Dn[t]=g.default})(),_.current=t)},[t]),e("span",{class:`icon ${r}`,title:i||o,style:{width:`${l}px`,height:`${l}px`,...s},children:h&&e(da,{icon:t,width:h.width,height:h.height,body:h.body,rotate:d,flip:f})})}function ua(t,n=[]){!t||typeof t!="function"||_e(()=>{const o=new CloseWatcher;return o.addEventListener("close",t),()=>{o.destroy()}},n)}const ma=window.CloseWatcher?ua:()=>{},ha=document.getElementById("modal-container");function Xt({children:t,onClose:n,onClick:o,class:i}){if(!t)return null;const r=ne();_e(()=>{let d=setTimeout(()=>{var h;const f=(h=r.current)==null?void 0:h.querySelector('[tabindex="-1"]');f&&f.focus()},100);return()=>clearTimeout(d)},[]);const s=window.CloseWatcher,l=ze("esc",()=>{setTimeout(()=>{n==null||n()},0)},{enabled:!s&&!!n,keydown:!1,keyup:!0},[n]);ma(n,[n]);const c=e("div",{ref:d=>{var f;r.current=d,l.current=((f=d==null?void 0:d.querySelector)==null?void 0:f.call(d,'[tabindex="-1"]'))||d},className:i,onClick:d=>{o==null||o(d),d.target===d.currentTarget&&(n==null||n(d))},tabIndex:"-1",onFocus:d=>{var f,h;try{if(d.target===d.currentTarget){const u=(f=r.current)==null?void 0:f.querySelector('[tabindex="-1"]'),_=!!u&&((h=getComputedStyle(u))==null?void 0:h.pointerEvents)!=="none";u&&_&&u.focus()}}catch{}},children:t});return Ao(c,ha)}const Cn={s:16,m:20,l:24,xl:32,xxl:50,xxxl:64},et={},nt=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas"),wt=nt.getContext("2d",{willReadFrequently:!0});wt.imageSmoothingEnabled=!1;function pa({url:t,size:n,alt:o="",squircle:i,...r}){n=Cn[n]||n||Cn.m;const s=ne(),l=/missing\.png$/.test(t);return e("span",{ref:s,class:`avatar ${i?"squircle":""} ${et[t]?"has-alpha":""}`,style:{width:n,height:n},title:o,...r,children:!!t&&e("img",{src:t,width:n,height:n,alt:o,loading:"lazy",decoding:"async",crossOrigin:et[t]===void 0&&!l?"anonymous":void 0,onError:c=>{c.target.crossOrigin&&(c.target.crossOrigin=null,c.target.src=t)},onLoad:c=>{s.current&&(s.current.dataset.loaded=!0),et[t]===void 0&&(l||queueMicrotask(()=>{try{const{width:d,height:f}=c.target;nt.width!==d&&(nt.width=d),nt.height!==f&&(nt.height=f),wt.drawImage(c.target,0,0);const h=wt.getImageData(0,0,d,f),u=h.data.filter((_,g)=>g%4===3&&_<=128).length/(h.data.length/4)>.1;u&&s.current.classList.add("has-alpha"),et[t]=u,wt.clearRect(0,0,d,f)}catch{et[t]=!1}}))}})})}const we=Ae(pa),Be=Io((t,n)=>{let o;try{o=$o()}catch{}let i=(location.hash||"").replace(/^#/,"").trim();i===""&&(i="/");const{to:r,...s}=t;if(i&&i!=="/"&&i.includes("?"))try{const c=new URL(i,location.origin);if(c.searchParams.size){const d=Array.from(c.searchParams.entries()).map(([f,h])=>`${f}=${encodeURIComponent(h)}`).join("&");i=c.pathname+"?"+d}}catch{}const l=i===r||decodeURIComponent(i)===r;return e("a",{ref:n,href:`#${r}`,...s,class:`${t.class||""} ${l?"is-active":""}`,onClick:c=>{var d,f,h;(f=(d=c.currentTarget)==null?void 0:d.parentNode)!=null&&f.closest("a")&&c.stopPropagation(),o&&(P.prevLocation=o),(h=t.onClick)==null||h.call(t,c)}})}),fa=document.documentElement,kt=getComputedStyle(fa),ga=8;let Wn=[0,0,0,0];function Gn(){const t=kt.getPropertyValue("--sai-top"),n=kt.getPropertyValue("--sai-right"),o=kt.getPropertyValue("--sai-bottom"),i=kt.getPropertyValue("--sai-left");Wn=[Math.max(0,parseInt(t,10)),Math.max(0,parseInt(n,10)),Math.max(0,parseInt(o,10)),Math.max(0,parseInt(i,10))]}requestAnimationFrame(Gn);function Yn(t=[]){return Wn.map((o,i)=>(o||ga)+(t[i]||0)).join(" ")}CSS.supports("top: env(safe-area-inset-top)")&&window.addEventListener("resize",Gn,{passive:!0});function Xn(t){const{containerProps:n,instanceRef:o}=t,i=So(),r=o!=null&&o.current?o:ne();return e(Po,{boundingBoxPadding:Yn(),repositionFlag:`${i.width}x${i.height}`,unmountOnClose:!0,...t,instanceRef:r,containerProps:{onClick:s=>{var l,c,d;s.target===s.currentTarget&&((c=(l=r.current)==null?void 0:l.closeMenu)==null||c.call(l)),(d=n==null?void 0:n.onClick)==null||d.call(n,s)},...n}})}function Nt({subMenu:t=!1,confirm:n=!0,confirmLabel:o,menuItemClassName:i,menuFooter:r,menuExtras:s,...l}){const{children:c,onClick:d,...f}=l;if(!n)return t?e(Q,{...l}):d?Ro(c,{onClick:d}):c;const h=t?Do:Xn,u=ne();return e(h,{instanceRef:u,openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",...f,menuButton:t?void 0:c,label:t?c:void 0,itemProps:{onPointerMove:_=>{var g,b;_.pointerType==="touch"&&((b=(g=u.current)==null?void 0:g.openMenu)==null||b.call(g))},onPointerLeave:_=>{var g,b;_.pointerType==="touch"&&((b=(g=u.current)==null?void 0:g.openMenu)==null||b.call(g))}},children:[e(Q,{className:i,onClick:d,children:o}),s,r]})}function Zt({staticUrl:t,alt:n,url:o}){return e("picture",{children:[t&&e("source",{srcset:t,media:"(prefers-reduced-motion: reduce)"}),e("img",{src:o,alt:n,class:"shortcode-emoji emoji",width:"16",height:"16",loading:"lazy",decoding:"async"},n||o)]})}function _a({text:t,emojis:n}){if(!t)return"";if(!(n!=null&&n.length)||t.indexOf(":")===-1)return t;const o=new RegExp(`:(${n.map(r=>r.shortcode).join("|")}):`,"g");return t.split(o).map(r=>{const s=n.find(l=>l.shortcode===r);if(s){const{url:l,staticUrl:c}=s;return e(Zt,{staticUrl:c,alt:r,url:l})}return r})}const st=lt(_a,(t,n)=>{var o,i;return t.text===n.text&&((o=t.emojis)==null?void 0:o.length)===((i=n.emojis)==null?void 0:i.length)}),va=new Intl.Collator("en",{sensitivity:"base"});function ba({account:t,instance:n,showAvatar:o,showAcct:i,short:r,external:s,onClick:l}){const{acct:c,avatar:d,avatarStatic:f,id:h,url:u,displayName:_,emojis:g,bot:b}=t;let{username:E}=t;const[w,R,k]=c.match(/([^@]+)(@.+)/i)||[,c],v=E.toLowerCase().trim(),p=(_||"").toLowerCase().trim(),D=p.replace(/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,"").replace(/\s+/g,""),U=D.replace(/[^a-z0-9]/gi,"");return!r&&(v===p||v===D||v===U||va.compare(v,D)===0)&&(E=null),e("a",{class:`name-text ${i?"show-acct":""} ${r?"short":""}`,href:u,target:s?"_blank":null,title:_?`${_} (${k?"":"@"}${c})`:`${k?"":"@"}${c}`,onClick:A=>{if(!s){if(A.preventDefault(),A.stopPropagation(),l)return l(A);P.showAccount={account:t,instance:n}}},children:[o&&e($,{children:[e(we,{url:f||d,squircle:b})," "]}),_&&!r?e($,{children:[e("b",{children:e(st,{text:_,emojis:g})}),!i&&E&&e($,{children:[" ",e("i",{children:["@",E]})]})]}):r?e("i",{children:E}):e("b",{children:E}),i&&e($,{children:[e("br",{}),e("i",{children:[k?"":"@",R,!!k&&e("span",{class:"ib",children:k})]})]})]})}const ot=lt(ba,(t,n)=>{const{account:o}=t,{account:i}=n;return(o==null?void 0:o.acct)===(i==null?void 0:i.acct)});Re.extend(Co);Re.extend(xo);Re.extend(Mo);const ya=new Intl.DateTimeFormat;function De({datetime:t,format:n}){if(!t)return null;const[o,i]=Oo(d=>d+1,0),r=ue(()=>Re(t),[t]),[s,l,c]=ue(()=>{let d;if(n==="micro"){const f=Re();f.diff(r,"day")<=1||f.year()===r.year()?d=r.twitter():d=ya.format(r.toDate())}return d||(d=r.fromNow()),[d,r.toISOString(),r.format("LLLL")]},[r,n,o]);return _e(()=>{let d,f;function h(){f=requestAnimationFrame(()=>{i(),u()})}function u(){r.diff(Re(),"minute",!0)<1?d=setTimeout(h,1e4):r.diff(Re(),"hour",!0)<1&&(d=setTimeout(h,6e4))}return u(),()=>{clearTimeout(d),cancelAnimationFrame(f)}},[]),e("time",{datetime:l,title:c,children:s})}const Ea=[{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"zh_HANT",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];function Ta(...t){try{return Vo(...t)}catch{return t[2]||!1}}const Qt=Ae(Ta),ka=[new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],La=Qt(ka,Ea.map(t=>t.code.replace("_","-")),"en");function Zn(t=!1){if(t){const{contentTranslationTargetLanguage:n}=P.settings;if(n)return n}return La}const wa=new Intl.DisplayNames(navigator.languages,{type:"language"});function Aa(t){try{return wa.of(t)}catch{return null}}const Ht=Ae(Aa);function xn(t){const{className:n,disabled:o,...i}=t;return e(Uo,{className:n,disabled:o,children:({ref:r,closeMenu:s})=>e(Be,{...i,ref:r,onClick:({detail:l})=>s(l===0?"Enter":void 0)})})}function $t(t,n=[]){return t?(!n.length||t.indexOf(":")===-1||n.forEach(o=>{const{shortcode:i,staticUrl:r,url:s}=o;t=t.replace(new RegExp(`:${i}:`,"g"),`<picture><source srcset="${r}" media="(prefers-reduced-motion: reduce)"></source><img class="shortcode-emoji emoji" src="${s}" alt=":${i}:" width="16" height="16" loading="lazy" decoding="async" /></picture>`)}),t):""}const Ne=document.createElement("div"),$a=["u-url","mention","hashtag"];function Ia(t,n={}){const{emojis:o,postEnhanceDOM:i=()=>{}}=n;let r=t;const s=document.createElement("div");s.innerHTML=r;const l=/<a/i.test(r),c=r.includes("```");if(l&&(s.querySelectorAll('a:not([target="_blank"])').forEach(u=>{u.setAttribute("target","_blank")}),s.querySelectorAll("a[class]").forEach(u=>{u.classList.forEach(_=>{$a.includes(_)||u.classList.remove(_)})})),l&&s.querySelectorAll("a[href]").forEach(h=>{/^https?:\/\//i.test(h.textContent.trim())&&(h.classList.add("has-url-text"),Da(h))}),l){const f=s.querySelectorAll("a[href]"),h=[];f.forEach(u=>{const _=u.innerText.trim(),g=u.querySelector("*");if(/^@[^@]+(@[^@]+)?$/g.test(_)){const[b,E,w]=_.split("@");g||(!h.some(([R])=>R===E)||h.some(([R,k])=>R===E&&k===w)?(u.innerHTML=`@<span>${E}</span>`,h.push([E,w])):u.innerHTML=`@<span>${E}@${w}</span>`),u.classList.add("mention")}/^#[^#]+$/g.test(_)&&(g||(u.innerHTML=`#<span>${_.slice(1)}</span>`),u.classList.add("mention","hashtag"))})}let d;if(r.includes(":")&&(d=Bt(s),d.forEach(f=>{let h=f.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");o&&(h=$t(h,o)),Ne.innerHTML=h,f.replaceWith(...Ne.childNodes)})),c&&[...s.querySelectorAll("p")].filter(h=>/^```[^]+```$/g.test(h.innerText.trim())).forEach(h=>{const u=document.createElement("pre");h.querySelectorAll("br").forEach(_=>_.replaceWith(`
`)),u.innerHTML=`<code>${h.innerHTML.trim()}</code>`,h.replaceWith(u)}),c&&[...s.querySelectorAll("p")].filter(u=>/^```/g.test(u.innerText)).forEach(u=>{const _=[u];let g=!1,b=u;for(;b.nextElementSibling;){const E=b.nextElementSibling;if(E&&E.tagName==="P")if(/```$/g.test(E.innerText)){_.push(E),g=!0;break}else _.push(E);else break;b=E}if(g){const E=document.createElement("pre");_.forEach(R=>{R.querySelectorAll("br").forEach(k=>k.replaceWith(`
`))});const w=_.map(R=>R.innerHTML).join(`

`);E.innerHTML=`<code tabindex="0">${w}</code>`,u.replaceWith(E),_.forEach(R=>R.remove())}}),r.includes("`")&&(d=Bt(s),d.forEach(f=>{let h=f.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/`[^`]+`/g.test(h)&&(h=h.replaceAll(/(`[^]+?`)/g,"<code>$1</code>")),Ne.innerHTML=h,f.replaceWith(...Ne.childNodes)})),/twitter\.com/i.test(r)&&(d=Bt(s,{rejectFilter:["A"]}),d.forEach(f=>{let h=f.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/@[a-zA-Z0-9_]+@twitter\.com/g.test(h)&&(h=h.replaceAll(/(@([a-zA-Z0-9_]+)@twitter\.com)/g,'<a href="https://twitter.com/$2" rel="nofollow noopener noreferrer" target="_blank">$1</a>')),Ne.innerHTML=h,f.replaceWith(...Ne.childNodes)})),r.includes("#")){let f=null;const h=[...s.querySelectorAll("p")].filter((u,_)=>{let g=0;for(let b=0;b<u.childNodes.length;b++){const E=u.childNodes[b];if(E.nodeType===Node.TEXT_NODE){if(E.textContent.trim()!=="")return!1}else if(E.tagName!=="BR")if(E.tagName==="A"){const w=E.textContent.trim();if(!w||!w.startsWith("#"))return!1;g++}else return!1}if(g>3||g>1&&f&&_===f+1)return f=_,!0});h!=null&&h.length&&h.forEach(u=>{u.classList.add("hashtag-stuffing"),u.title=u.innerText})}return i&&queueMicrotask(()=>i(s)),r=s.innerHTML,r}const Qn=Ae(Ia),Sa=["STYLE","IMG","VIDEO","AUDIO","AREA","MAP","TRACK","EMBED","IFRAME","OBJECT","PICTURE","PORTAL","SOURCE","SVG","MATH","CANVAS","NOSCRIPT","SCRIPT","INPUT","OPTION","TEXTAREA","SLOT","TEMPLATE"],Pa=Object.fromEntries(Sa.map(t=>[t,!0])),Ra=/^(https?:\/\/(www\.)?|xmpp:)/,zt=30;function Da(t){var n;if(!(!t||(n=t.querySelector)!=null&&n.call(t,"*")))try{const o=t.innerText.trim(),i=(o.match(Ra)||[])[0]||"";if(!i)return;const r=o.slice(i.length,i.length+zt),s=o.slice(i.length+zt),l=o.slice(i.length).length>zt;t.innerHTML=`<span class="invisible">${i}</span><span class=${l?"ellipsis":""}>${r}</span><span class="invisible">${s}</span>`}catch{}}function Bt(t,n={}){var l;const o=[],i=Object.assign({},Pa,(l=n.rejectFilter)==null?void 0:l.reduce((c,d)=>(c[d]=!0,c),{})),r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode(c){return i[c.parentNode.nodeName]?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let s;for(;s=r.nextNode();)o.push(s);return o}const tt=document.createElement("div");function Ca(t){return t?(tt.innerHTML=t.replace(/<\/p>/g,`</p>

`).replace(/<\/li>/g,`</li>
`),tt.querySelectorAll("br").forEach(n=>{n.replaceWith(`
`)}),tt.querySelectorAll(".invisible").forEach(n=>{n.remove()}),tt.querySelectorAll(".ellipsis").forEach(n=>{n.append("...")}),tt.innerText.replace(/[\r\n]{3,}/g,`

`).trim()):""}const nn=Ae(Ca);function xa(t){const{mentions:n=[],instance:o,previewMode:i,statusURL:r}=t||{};return s=>{var h,u;let{target:l}=s;if(l=l.closest("a"),!l||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey||s.which===2)return;const c=(h=l.previousSibling)==null?void 0:h.textContent,d=c==null?void 0:c.endsWith("@"),f=l.innerText.startsWith("@");if((l.classList.contains("u-url")||l.classList.contains("mention"))&&f||d&&!f){const _=(l.querySelector("span")||l).innerText.trim(),g=_.replace(/^@/,""),b=l.getAttribute("href"),E=n.find(w=>w.url===b)||n.find(w=>w.acct===g||w.username===g);if(E)s.preventDefault(),s.stopPropagation(),P.showAccount={account:E.acct,instance:o};else if(!/^http/i.test(_)){s.preventDefault(),s.stopPropagation();const w=l.getAttribute("href");P.showAccount={account:w,instance:o}}}else if(!i){const _=c==null?void 0:c.endsWith("#");if(l.classList.contains("hashtag")||_){s.preventDefault(),s.stopPropagation();const g=l.innerText.replace(/^#/,"").trim(),b=o?`#/${o}/t/${g}`:`#/t/${g}`;location.hash=b}else(u=P.unfurledLinks[l.href])!=null&&u.url&&r!==l.href&&(s.preventDefault(),s.stopPropagation(),P.prevLocation={pathname:location.hash.replace(/^#/,"")},location.hash=`#${P.unfurledLinks[l.href].url}`)}}}const{locale:Ma}=new Intl.DateTimeFormat().resolvedOptions(),Oa=t=>{const{dateYear:n,hideTime:o,formatOpts:i}=t||{},r=new Date().getFullYear();return Intl.DateTimeFormat(Ma,{year:n===r?void 0:"numeric",month:"short",day:"numeric",hour:o?void 0:"numeric",minute:o?void 0:"numeric",...i})},Va=Ae(Oa);function ct(t,n){return t instanceof Date||(t=new Date(t)),Va({dateYear:t.getFullYear(),...n}).format(t)}const{locale:Ua}=Intl.NumberFormat().resolvedOptions(),Ce=Intl.NumberFormat(Ua,{notation:"compact"}).format;function kr({skeleton:t,account:n,avatarSize:o="xl",useAvatarStatic:i=!1,instance:r,external:s,internal:l,onClick:c,showActivity:d=!1,showStats:f=!1,accountInstance:h,hideDisplayName:u=!1,relationship:_={},excludeRelationshipAttrs:g=[]}){if(t)return e("div",{class:"account-block skeleton",children:[e(we,{size:o}),e("span",{children:[e("b",{children:"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"}),e("br",{}),e("span",{class:"account-block-acct",children:"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"})]})]});if(!n)return null;const{id:b,acct:E,avatar:w,avatarStatic:R,displayName:k,username:v,emojis:p,url:D,statusesCount:U,lastStatusAt:A,bot:L,fields:S,note:x,group:q,followersCount:M,createdAt:O,locked:te}=n;let[re,Z,me]=E.match(/([^@]+)(@.+)/i)||[,E];h&&(me=`@${h}`);const he=S==null?void 0:S.find(H=>!!H.verifiedAt&&!!H.value),B={};for(const H in _)g.includes(H)||(B[H]=_[H]);const I=B.following||B.followedBy||B.requested;return e("a",{class:"account-block",href:D,target:s?"_blank":null,title:me?E:`@${E}`,onClick:H=>{if(!s){if(H.preventDefault(),c)return c(H);l?location.hash=`/${r}/a/${b}`:P.showAccount={account:n,instance:r}}},children:[e(we,{url:i?R:w||R,size:o,squircle:L}),e("span",{class:"account-block-content",children:[!u&&e($,{children:k?e("b",{children:e(st,{text:k,emojis:p})}):e("b",{children:v})})," ",e("span",{class:"account-block-acct",children:[me?"":"@",Z,e("wbr",{}),me,te&&e($,{children:[" ",e(y,{icon:"lock",size:"s",alt:"Locked"})]})]}),d&&e($,{children:[e("br",{}),e("small",{class:"last-status-at insignificant",children:["Posts: ",U,!!A&&e($,{children:[" ","Â· Last posted:"," ",ct(A,{hideTime:!0})]})]})]}),f&&e("div",{class:"account-block-stats",children:[L&&e($,{children:e("span",{class:"tag collapsed",children:[e(y,{icon:"bot"})," Automated"]})}),!!q&&e($,{children:e("span",{class:"tag collapsed",children:[e(y,{icon:"group"})," Group"]})}),I&&e("div",{class:"shazam-container-horizontal",children:e("div",{class:"shazam-container-inner",children:B.following&&B.followedBy?e("span",{class:"tag minimal",children:"Mutual"}):B.requested?e("span",{class:"tag minimal",children:"Requested"}):B.following?e("span",{class:"tag minimal",children:"Following"}):B.followedBy?e("span",{class:"tag minimal",children:"Follows you"}):null})},_.id),!!M&&e("span",{class:"ib",children:[Ce(M)," ",M===1?"follower":"followers"]}),!!he&&e("span",{class:"verified-field",children:[e(y,{icon:"check-circle",size:"s"})," ",e("span",{dangerouslySetInnerHTML:{__html:Qn(he.value,{emojis:p})}})]}),!L&&!q&&!I&&!M&&!he&&!!O&&e("span",{class:"created-at",children:["Joined"," ",e("time",{datetime:O,children:ct(O,{hideTime:!0})})]})]})]})]})}const Na={"@mastodon/edit-media-attributes":">=4.1","@mastodon/list-exclusive":">=4.2","@mastodon/filtered-notifications":"~4.3 || >=4.3"},Ft={};function Lr(t){try{const{version:n,domain:o}=ra(),i=`${o}-${t}`;if(Ft[i])return Ft[i];const r=Na[t];return r?Ft[i]=No(n,r,{includePrerelease:!0,loose:!0}):!1}catch{return!1}}const Ha=[{code:"auto",name:"Detect"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];var za={PHANPY_CLIENT_NAME:"Phanpy",PHANPY_WEBSITE:"https://phanpy.social",PHANPY_LINGVA_INSTANCES:"lingva.phanpy.social lingva.lunar.icu lingva.garudalinux.org translate.plausibility.cloud",PHANPY_PRIVACY_POLICY_URL:"https://github.com/cheeaun/phanpy/blob/main/PRIVACY.MD",VITE_APP_ENV:"production",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{PHANPY_LINGVA_INSTANCES:Mn}=za,it=Mn?Mn.split(/\s+/):[],Ba=Ho({limit:1,interval:2e3});let jt=0;function Fa(t,n,o){return zo(()=>{let r=it[jt];return fetch(`https://${r}/api/v1/${n}/${o}/${encodeURIComponent(t)}`).then(s=>{if(!s.ok)throw new Error(s.statusText);return s.json()}).then(s=>{var l;return{provider:"lingva",content:s.translation,detectedSourceLanguage:(l=s.info)==null?void 0:l.detectedSource,info:s.info}})},{retries:3,onFailedAttempt:r=>{jt=(jt+1)%it.length}})}const Jn=1e3*60*60,eo=tn(Fa,{maxAge:Jn}),ja=tn(Ba(eo),{maxAge:Jn});function qa({forceTranslate:t,sourceLanguage:n,onTranslate:o,text:i="",mini:r}){const s=Zn(!0),[l,c]=X("default"),[d,f]=X(null),[h,u]=X(null),[_,g]=X(null),b=ne(),E=n?Ht(n):null,w=Ht(s),R=ne("auto");o||(o=r?ja:eo);const k=async()=>{var v,p;c("loading");try{const{content:D,detectedSourceLanguage:U,provider:A,error:L,...S}=await o(i,R.current,s);if(D){if(U){const x=Ht(U);g(x)}if(A==="lingva"){const x=(p=(v=S==null?void 0:S.info)==null?void 0:v.pronunciation)==null?void 0:p.query;x&&f(x)}u(D),c("default"),!r&&D.trim()!==i.trim()&&(b.current.open=!0,b.current.scrollIntoView({behavior:"smooth",block:"nearest"}))}else c("error")}catch{c("error")}};return _e(()=>{t&&k()},[t]),r?h&&h.trim()!==i.trim()&&_!==w?e("div",{class:"shazam-container",children:e("div",{class:"shazam-container-inner",children:e("div",{class:"status-translation-block-mini",children:[e(y,{icon:"translate",alt:`Auto-translated from ${E}`}),e("output",{lang:s,dir:"auto",title:d||"",children:h})]})})}):null:e("div",{class:"status-translation-block",onClick:v=>{v.preventDefault()},children:e("details",{ref:b,children:[e("summary",{children:e("button",{type:"button",onClick:async v=>{v.preventDefault(),v.stopPropagation(),b.current.open=!b.current.open,l!=="loading"&&(h||k())},children:[e(y,{icon:"translate"})," ",e("span",{children:l==="loading"?"Translatingâ€¦":n&&E&&!_?`Translate from ${E}`:"Translate"})]})}),e("div",{class:"translated-block",children:[e("div",{class:"translation-info insignificant",children:[e("select",{class:"translated-source-select",disabled:l==="loading",onChange:v=>{R.current=v.target.value,k()},children:Ha.map(v=>e("option",{value:v.code,children:v.code==="auto"?`Auto (${_??"â€¦"})`:v.name}))})," ",e("span",{children:["â†’ ",w]}),e(jn,{abrupt:!0,hidden:l!=="loading"})]}),l==="error"?e("p",{class:"ui-state",children:"Failed to translate"}):!!h&&e($,{children:[e("output",{class:"translated-content",lang:s,dir:"auto",children:h}),!!d&&e("output",{class:"translated-pronunciation-content",tabIndex:-1,onClick:v=>{v.target.classList.toggle("expand")},children:d})]})]})]})})}const Ka=it!=null&&it.length?qa:()=>null;function On(t,n){const o=Bo(t,n);return{set:(i,r)=>Fo(i,r,o),get:i=>jo(i,o),getMany:i=>qo(i,o),del:i=>Ko(i,o),delMany:i=>Wo(i,o),clear:()=>Go(o),keys:()=>Yo(o)}}const wr={drafts:On("drafts-db","drafts-store"),catchup:On("catchup-db","catchup-store")},Vn=48;function Wa({children:t}){const n=ne(),[o,i]=X(!1),[r,s]=X(!1),{ref:l}=Xo({root:null,rootMargin:`-${Vn}px 0px 0px 0px`,trackVisibility:!0,delay:1e3,onChange:c=>{c&&i(!0)},triggerOnce:!0,skip:r||o});return _e(()=>{if(!n.current)return;n.current.getBoundingClientRect().bottom>Vn&&s(!0)},[]),r?t:e("div",{ref:n,class:"shazam-container no-animation",hidden:!o,children:e("div",{ref:l,class:"shazam-container-inner",children:t})})}function Ga({poll:t,lang:n,readOnly:o,refresh:i=()=>{},votePoll:r=()=>{}}){const[s,l]=X("default"),{expired:c,expiresAt:d,id:f,multiple:h,options:u,ownVotes:_,voted:g,votersCount:b,votesCount:E,emojis:w}=t,R=!!d&&new Date(d),k=b||E;let v=0;k<=1e3?v=0:k<=1e4?v=1:k<=1e5&&(v=2);const[p,D]=X(!1),U=u.every(A=>A.votesCount!==null);return e("div",{lang:n,dir:"auto",class:`poll ${o?"read-only":""} ${s==="loading"?"loading":""}`,children:[p&&U||g||c?e($,{children:[e("div",{class:"poll-options",children:u.map((A,L)=>{const{title:S,votesCount:x}=A,q=k?(x/k*100).toFixed(v):0,M=x>0&&x===Math.max(...u.map(O=>O.votesCount));return e("div",{class:`poll-option poll-result ${M?"poll-option-leading":""}`,style:{"--percentage":`${q}%`},children:[e("div",{class:"poll-option-title",children:[e("span",{children:e(st,{text:S,emojis:w})}),g&&_.includes(L)&&e($,{children:[" ",e(y,{icon:"check-circle"})]})]}),e("div",{class:"poll-option-votes",title:`${x} vote${x===1?"":"s"}`,children:[q,"%"]})]},`${L}-${S}-${x}`)})}),!c&&!g&&e("button",{class:"poll-vote-button plain2",disabled:s==="loading",onClick:A=>{A.preventDefault(),D(!1)},children:[e(y,{icon:"arrow-left",size:"s"})," Hide results"]})]}):e("form",{onSubmit:async A=>{A.preventDefault();const L=A.target,S=new FormData(L),x=[];S.forEach((q,M)=>{M==="poll"&&x.push(q)}),x.length&&(l("loading"),await r(x),l("default"))},children:[e("div",{class:"poll-options",children:u.map((A,L)=>{const{title:S}=A;return e("div",{class:"poll-option",children:e("label",{class:"poll-label",children:[e("input",{type:h?"checkbox":"radio",name:"poll",value:L,disabled:s==="loading",readOnly:o}),e("span",{class:"poll-option-title",children:e(st,{text:S,emojis:w})})]})})})}),!o&&e("button",{class:"poll-vote-button",type:"submit",disabled:s==="loading",children:"Vote"})]}),e("p",{class:"poll-meta",children:[!c&&!o&&e("button",{type:"button",class:"plain small",disabled:s==="loading",style:{marginLeft:-8},onClick:A=>{A.preventDefault(),l("loading"),(async()=>(await i(),l("default")))()},title:"Refresh",children:e(y,{icon:"refresh",alt:"Refresh"})}),!g&&!c&&!o&&U&&e("button",{type:"button",class:"plain small",disabled:s==="loading",onClick:A=>{A.preventDefault(),D(!p)},title:p?"Hide results":"Show results",children:[e(y,{icon:p?"eye-open":"eye-close",alt:p?"Hide results":"Show results"})," "]}),!c&&!o&&" ",e("span",{title:E,children:Ce(E)})," vote",E===1?"":"s",!!b&&b!==E&&e($,{children:[" ","â€¢ ",e("span",{title:b,children:Ce(b)})," ","voter",b===1?"":"s"]})," ","â€¢ ",c?"Ended":"Ending"," ",!!R&&e(De,{datetime:R})]})," "]})}const to=Zo();function Ya(t,n){if(!(t!=null&&t.length))return!1;const o=t.filter(s=>{const{filter:l}=s,c=l.context.includes(n);return c?l.expiresAt?new Date(l.expiresAt)>new Date:c:!1});if(!o.length)return!1;if(o.some(s=>s.filter.filterAction==="hide"))return{action:"hide"};if(o.some(s=>s.filter.filterAction==="warn")){const s=o.map(l=>l.filter.title);return{action:"warn",titles:s,titlesStr:s.join(" â€¢ ")}}return!1}const on=Ae(Ya);function Xa(t,n,o){var l;const{filtered:i}=t;if(!(i!=null&&i.length)||o&&((l=t.account)==null?void 0:l.id)===o)return!0;const s=on(i,n);return s?s.action!=="hide":!0}function Ar(t,n){if(!(t!=null&&t.length))return[];if(!n)return t;const o=Lt.session.get("currentAccount");return t.filter(i=>Xa(i,n,o))}const qt=document.createElement("div");function Kt(t){return t?(qt.innerHTML=t,qt.querySelectorAll(".invisible").forEach(n=>{n.remove()}),qt.innerText.length):0}const at="speechSynthesis"in window;function Un(t,n){if(at)try{speechSynthesis.speaking&&speechSynthesis.cancel();const o=new SpeechSynthesisUtterance(t);n&&(o.lang=n),speechSynthesis.speak(o)}catch(o){alert(o)}}function no(t){var l;const{spoilerText:n,content:o,poll:i,mediaAttachments:r}=t;let s="";return n!=null&&n.trim()?s+=n:s+=nn(o),s=s.trim(),(l=i==null?void 0:i.options)!=null&&l.length&&(s+=`

ðŸ“Š:
${i.options.map(c=>`${i.multiple?"â–ªï¸":"â€¢"} ${c.title}`).join(`
`)}`),r!=null&&r.length&&(s+=" "+r.map(c=>({image:"ðŸ–¼ï¸",gifv:"ðŸŽžï¸",video:"ðŸ“¹",audio:"ðŸŽµ",unknown:""})[c.type]||"").join("")),s}function At({className:t="truncated"}={}){const n=ne(),o=Qo(({height:i})=>{if(n.current){const{scrollHeight:r}=n.current;let s=r>i;if(s){const{height:l,maxHeight:c}=getComputedStyle(n.current),d=parseInt(c||l,10);s=r>d}n.current.classList.toggle(t,s)}},300);return Jo({ref:n,box:"border-box",onResize:o}),n}const Jt={public:"earth",unlisted:"group",private:"lock",direct:"message"};function Nn(t){if(!t)return;let n=Math.floor(t/3600),o=Math.floor(t%3600/60),i=Math.round(t%60);return n===0?`${o}:${i.toString().padStart(2,"0")}`:`${n}:${o.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}const Za=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Qa="ALT",Wt=t=>{const{alt:n,lang:o,index:i,...r}=t;return!n||!n.trim()?null:e("button",{type:"button",class:"alt-badge clickable",...r,onClick:s=>{s.stopPropagation(),s.preventDefault(),P.showMediaAlt={alt:n,lang:o}},title:"Media description",children:[Qa,!!i&&e("sup",{children:i})]})},Ja=140,er=280,oo=Ae(t=>t!=null&&t.length?t.length>Ja||/[\n\r].*[\n\r]/.test(t.trim()):!1);function tr({class:t="",media:n,to:o,lang:i,showOriginal:r,autoAnimate:s,showCaption:l,allowLongerCaption:c,altIndex:d,onClick:f=()=>{}}){const{blurhash:h,description:u,meta:_,previewRemoteUrl:g,previewUrl:b,remoteUrl:E,url:w,type:R}=n,{original:k={},small:v,focus:p}=_||{},D=r?k==null?void 0:k.width:v==null?void 0:v.width,U=r?k==null?void 0:k.height:v==null?void 0:v.height,A=r?w:b||w,L=r?E:g||E,S=D>=U?"landscape":"portrait",x=h?zn(h):null,q=ne();let M;if(p){const V=(p.x+1)/2*100,K=(1-p.y)/2*100;M=`${V.toFixed(0)}% ${K.toFixed(0)}%`}const O=ne(),te=en(({x:V,y:K,scale:z})=>{const{current:ce}=O;if(ce){const ee=ea({x:V,y:K,scale:z});z===1?ce.style.removeProperty("transform"):ce.style.setProperty("transform",ee),ce.closest(".media-zoom").style.touchAction=z<=1.01?"pan-x":""}},[]),[re,Z]=X(!1),me={enabled:re,draggableUnZoomed:!1,inertiaFriction:.9,doubleTapZoomOutOnMaxScale:!0,containerProps:{className:"media-zoom",style:{overflow:"visible"}},onUpdate:te},he=ue(()=>o?V=>e(Be,{to:o,...V}):"div",[o]),B=L?new URL(L):null,I=R==="unknown"&&B&&/\.(mp4|m4r|m4v|mov|webm)$/i.test(B.pathname),H=R==="unknown"&&B&&/\.(mp3|ogg|wav|m4a|m4p|m4b)$/i.test(B.pathname),W=R==="image"||R==="unknown"&&b&&!I&&!H,ge=ne(),[J,ve]=X(!1);Sn(()=>{if(!W||!r||!ge.current)return;const{offsetWidth:V,offsetHeight:K}=ge.current,z=D<V&&U<K;z&&ve(z)},[D,U]);const be=window.innerHeight*(S==="portrait"?.45:.33),oe=S==="portrait"?0:160,ye={"--average-color":x&&`rgb(${x.join(",")})`},se=D&&U?{"--width":`${D}px`,"--height":`${U}px`,"--aspectWidth":`${D/U*Math.max(oe,be)}px`,aspectRatio:`${D} / ${U}`,...ye}:{...ye},ae=oo(u);let N=!!l&&!r&&!!u&&!ae;c&&!N&&(u==null?void 0:u.length)<=er&&(N=!0);const G=N?V=>{const{children:K,...z}=V;return e("figure",{...z,children:[K,e("figcaption",{class:"media-caption",lang:i,dir:"auto",onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),P.showMediaAlt={alt:u,lang:i}},children:u})]})}:$;if(W)return me.containerProps.style.display="inherit",Sn(()=>{Za&&r&&(async()=>{try{await fetch(A,{mode:"no-cors"}),O.current.src=A}catch{}})()},[A]),e(G,{children:e(he,{ref:ge,class:`media media-image ${t}`,onClick:f,"data-orientation":S,"data-has-alt":!N,style:r?{backgroundImage:`url(${b})`,backgroundSize:J?`${D}px ${U}px`:void 0,...ye}:se,children:r?e(Pn,{...me,children:e("img",{ref:O,src:A,alt:u,width:D,height:U,"data-orientation":S,loading:"eager",decoding:"sync",onLoad:V=>{V.target.closest(".media-image").style.backgroundImage="",V.target.closest(".media-zoom").style.display="",Z(!0)},onError:V=>{const{src:K}=V.target;K===A&&A!==L&&(V.target.src=L)}})}):e($,{children:[e("img",{src:A,alt:N?"":u,width:D,height:U,"data-orientation":S,loading:"lazy",style:{objectPosition:M||"center","--anim-duration":`${Math.min(Math.max(Math.max(D,U)/100,5),120)}s`},onLoad:V=>{V.target.dataset.loaded=!0},onError:V=>{const{src:K}=V.target;K===A&&A!==L&&(V.target.src=L)}}),!N&&e(Wt,{alt:u,lang:i,index:d})]})})});if(R==="gifv"||R==="video"||I){const V=k.duration<31,K=R==="gifv"&&V,z=k.duration<61,ce=Nn(k.duration),ee=!r&&!s&&K,le=!r&&s&&K,de=k.duration>5,Te=`
    <video
      src="${w}"
      poster="${b}"
      width="${D}"
      height="${U}"
      data-orientation="${S}"
      preload="auto"
      autoplay
      muted="${K}"
      ${K?"":"controls"}
      playsinline
      loop="${z}"
      ${K?'ondblclick="this.paused ? this.play() : this.pause()"':""}
      ${K&&de?"ontimeupdate=\"this.closest('.media-gif') && this.closest('.media-gif').style.setProperty('--progress', `${~~((this.currentTime / this.duration) * 100)}%`)\"":""}
    ></video>
  `;return e(G,{children:e(he,{class:`media ${t} media-${K?"gif":"video"} ${le?"media-contain":""} ${ee?"media-hover-animate":""}`,"data-orientation":S,"data-formatted-duration":r?void 0:ce,"data-label":K&&!r&&!le?"GIF":"","data-has-alt":!N,style:!r&&se,onClick:j=>{if(ee)try{q.current.pause()}catch{}f(j)},onMouseEnter:()=>{if(ee)try{q.current.play()}catch{}},onMouseLeave:()=>{if(ee)try{q.current.pause()}catch{}},onFocus:()=>{if(ee)try{q.current.play()}catch{}},onBlur:()=>{if(ee)try{q.current.pause()}catch{}},children:[r||le?K&&r?e(Pn,{...me,enabled:!0,children:e("div",{ref:O,dangerouslySetInnerHTML:{__html:Te}})}):e("div",{class:"video-container",dangerouslySetInnerHTML:{__html:Te}}):K?e("video",{ref:q,src:w,poster:b,width:D,height:U,"data-orientation":S,preload:"auto",playsinline:!0,loop:!0,muted:!0,onTimeUpdate:de?j=>{const{target:pe}=j,It=pe==null?void 0:pe.closest(".media-gif");if(It){const Ee=pe.currentTime/pe.duration*100;It.style.setProperty("--progress",`${Ee}%`)}}:void 0}):e($,{children:[e("img",{src:b,alt:N?"":u,width:D,height:U,"data-orientation":S,loading:"lazy"}),e("div",{class:"media-play",children:e(y,{icon:"play",size:"xl"})})]}),!r&&!N&&e(Wt,{alt:u,lang:i,index:d})]})})}else if(R==="audio"||H){const V=Nn(k.duration);return e(G,{children:e(he,{class:`media media-audio ${t}`,"data-formatted-duration":r?void 0:V,"data-has-alt":!N,onClick:f,style:!r&&se,children:[r?e("audio",{src:E||w,preload:"none",controls:!0,autoplay:!0}):b?e("img",{src:b,alt:N?"":u,width:D,height:U,"data-orientation":S,loading:"lazy",onError:K=>{var z,ce;try{(ce=(z=K.target)==null?void 0:z.remove)==null||ce.call(z)}catch{}}}):null,!r&&e($,{children:[e("div",{class:"media-play",children:e(y,{icon:"play",size:"xl"})}),!N&&e(Wt,{alt:u,lang:i,index:d})]})]})})}}const nr=280,or=140;function ar(t,n){return n.v1.accounts.$select(t).fetch()}const rr=tn(ar),rt={public:"Public",unlisted:"Unlisted",private:"Followers only",direct:"Private mention"},ir=window.ontouchstart!==void 0&&/iPad|iPhone|iPod/.test(navigator.userAgent),sr=new Intl.RelativeTimeFormat,Hn=80;function cr(t){var n;return(n=t==null?void 0:t.options)!=null&&n.length?`ðŸ“Š:
${t.options.map(o=>`- ${o.title}${o.votesCount>=0?` (${o.votesCount})`:""}`).join(`
`)}`:""}function Gt(t){const{spoilerText:n,content:o,poll:i}=t;return(n?`${n}

`:"")+nn(o)+cr(i)}const lr=lt(({post:t,instance:n,previewMode:o})=>{const{content:i,emojis:r,language:s,mentions:l,url:c}=t;return e("div",{lang:s,dir:"auto",class:"inner-content",onClick:xa({mentions:l,instance:n,previewMode:o,statusURL:c}),dangerouslySetInnerHTML:{__html:Qn(i,{emojis:r,postEnhanceDOM:d=>{d.querySelectorAll('a.u-url[target="_blank"]').forEach(f=>{/http/i.test(f.innerText.trim())||f.removeAttribute("target")})}})}})},(t,n)=>{const{post:o}=t,{post:i}=n;return o.content===i.content});function xe({statusID:t,status:n,instance:o,size:i="m",contentTextWeight:r,readOnly:s,enableCommentHint:l,withinContext:c,skeleton:d,enableTranslate:f,forceTranslate:h,previewMode:u,onMediaClick:_,quoted:g,onStatusLinkClick:b=()=>{},showFollowedTags:E,allowContextMenu:w,showActionsBar:R,showReplyParent:k}){var An,$n,In;if(d)return e("div",{class:"status skeleton",children:[e(we,{size:"xxl"}),e("div",{class:"container",children:[e("div",{class:"meta",children:"â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"}),e("div",{class:"content-container",children:e("div",{class:"content",children:e("p",{children:"â–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"})})})]})]});const{masto:v,instance:p,authenticated:D}=Rn({instance:o}),{instance:U}=Rn(),A=p===U;let L=Le(t||(n==null?void 0:n.id),p);const S=dt(P);if(n||(n=S.statuses[L]||S.statuses[t],L=Le(n==null?void 0:n.id,p)),!n)return null;const{account:{acct:x,avatar:q,avatarStatic:M,id:O,url:te,displayName:re,username:Z,emojis:me,bot:he,group:B},id:I,repliesCount:H,reblogged:W,reblogsCount:ge,favourited:J,favouritesCount:ve,bookmarked:be,poll:oe,muted:ye,sensitive:se,spoilerText:ae,visibility:N,language:G,editedAt:V,filtered:K,card:z,createdAt:ce,inReplyToId:ee,inReplyToAccountId:le,content:de,mentions:Te,mediaAttachments:j,reblog:pe,uri:It,url:Ee,emojis:St,tags:vr,_deleted:Me,_pinned:Oe,emojiReactions:ut}=n,Fe=ue(()=>Lt.session.get("currentAccount"),[]),$e=ue(()=>Fe&&Fe===O,[O,Fe]),ro=Bn(to),je=!$e&&!s&&!u&&on(K,ro);if((je==null?void 0:je.action)==="hide")return null;const qe=a=>{a.shiftKey};if(i!=="l"&&je)return e(gr,{status:n,filterInfo:je,instance:p,containerProps:{onMouseEnter:qe},showFollowedTags:!0});const Ie=new Date(ce),an=new Date(V);let Pt=Te==null?void 0:Te.find(a=>a.id===le);!Pt&&le===I&&(Pt={url:te,username:Z,displayName:re});const[mt,rn]=X(Pt);if(!c&&!mt&&le){const a=P.accounts[le];a?rn(a):rr(le,v).then(T=>{rn(T),P.accounts[T.id]=T}).catch(T=>{})}const sn=le===Fe||(Te==null?void 0:Te.find(a=>a.id===Fe)),Ke=ue(()=>!!(Lt.account.get("preferences")||{})["reading:expand:spoilers"],[]),cn=ue(()=>(Lt.account.get("preferences")||{})["reading:expand:media"]||"default",[]),We=u||Ke||!!S.spoilers[I],Ge=u||cn==="show_all"||!!S.spoilersMedia[I];if(pe)return B?e("div",{"data-state-post-id":L,class:"status-group",onMouseEnter:qe,children:[e("div",{class:"status-pre-meta",children:[e(y,{icon:"group",size:"l",alt:"Group"})," ",e(ot,{account:n.account,instance:p,showAvatar:!0})]}),e(xe,{status:t?null:pe,statusID:t?pe.id:null,instance:p,size:i,contentTextWeight:r,readOnly:s})]}):e("div",{"data-state-post-id":L,class:"status-reblog",onMouseEnter:qe,children:[e("div",{class:"status-pre-meta",children:[e(y,{icon:"rocket",size:"l"})," ",e(ot,{account:n.account,instance:p,showAvatar:!0})," ",e("span",{children:"boosted"})]}),e(xe,{status:t?null:pe,statusID:t?pe.id:null,instance:p,size:i,contentTextWeight:r,readOnly:s,enableCommentHint:!0})]});if(E&&((An=S.statusFollowedTags[L])!=null&&An.length))return e("div",{"data-state-post-id":L,class:"status-followed-tags",onMouseEnter:qe,children:[e("div",{class:"status-pre-meta",children:[e(y,{icon:"hashtag",size:"l"})," ",S.statusFollowedTags[L].slice(0,3).map(a=>e(Be,{to:p?`/${p}/t/${a}`:`/t/${a}`,class:"status-followed-tag-item",children:a},a))]}),e(xe,{status:t?null:n,statusID:t?n.id:null,instance:p,size:i,contentTextWeight:r,readOnly:s,enableCommentHint:!0})]});const Y=i==="l",[Rt,io]=X(h),ln=Zn(!0),so=S.settings.contentTranslationHideLanguages||[],{contentTranslation:Dt,contentTranslationAutoInline:dn}=S.settings;Dt||(f=!1);const un=ue(()=>{if(!Dt||!dn||s||c&&!Y||u||ae||se||oe||z||j!=null&&j.length)return!1;const a=Kt(de);return a>0&&a<=or},[Dt,dn,s,c,Y,u,ae,se,oe,z,j,de]),[Ct,ht]=X(!1),[co,xt]=X(!1),lo=At(),uo=At(),mo=At(),mn="Read more â†’",Ve=ne(null),Ye="Sorry, your current logged-in instance can't interact with this post from another instance.",hn=en(()=>Math.max(Math.round((ae.length+Kt(de))/140)||1,1),[ae,de]),pn=ct(Ie),fn=V&&ct(an);let Xe=D&&N!=="direct"&&N!=="private";N==="private"&&$e&&(Xe=!0);const pt=a=>{var T;if(!A||!D)return alert(Ye);(a!=null&&a.shiftKey||(T=a==null?void 0:a.syntheticEvent)!=null&&T.shiftKey)&&ca({replyToStatus:n})||(P.showCompose={replyToStatus:n})},Mt=ue(()=>j.some(a=>{var T,C;return!((C=(T=a.description)==null?void 0:T.trim)!=null&&C.call(T))}),[j]),gn=ue(()=>Math.floor((new Date-Ie)/(1e3*60*60*24*30)),[Ie]),br=async()=>{if(!A||!D)return alert(Ye),!1;try{if(!W){let a="Boost this post?";if(Mt&&(a+=`

âš ï¸ Some media have no descriptions.`),!confirm(a))return!1}if(P.statuses[L]={...n,reblogged:!W,reblogsCount:ge+(W?-1:1)},W){const a=await v.v1.statuses.$select(I).unreblog();return ke(a,p),!0}else{const a=await v.v1.statuses.$select(I).reblog();return ke(a,p),!0}}catch{return P.statuses[L]=n,!1}},Ot=async()=>{if(!A||!D)return alert(Ye),!1;try{if(P.statuses[L]={...n,reblogged:!W,reblogsCount:ge+(W?-1:1)},W){const a=await v.v1.statuses.$select(I).unreblog();ke(a,p)}else{const a=await v.v1.statuses.$select(I).reblog();ke(a,p)}return!0}catch{return P.statuses[L]=n,!1}},_n=async()=>{if(!A||!D)return alert(Ye),!1;try{if(P.statuses[L]={...n,favourited:!J,favouritesCount:ve+(J?-1:1)},J){const a=await v.v1.statuses.$select(I).unfavourite();ke(a,p)}else{const a=await v.v1.statuses.$select(I).favourite();ke(a,p)}return!0}catch{return P.statuses[L]=n,!1}},Vt=async()=>{try{const a=await _n();!Y&&a&&ie(J?`Unliked @${Z||x}'s post`:`Liked @${Z||x}'s post`)}catch{}},vn=async()=>{if(!A||!D)return alert(Ye),!1;try{if(P.statuses[L]={...n,bookmarked:!be},be){const a=await v.v1.statuses.$select(I).unbookmark();ke(a,p)}else{const a=await v.v1.statuses.$select(I).bookmark();ke(a,p)}return!0}catch{return P.statuses[L]=n,!1}},bn=async()=>{try{const a=await vn();!Y&&a&&ie(be?`Unbookmarked @${Z||x}'s post`:`Bookmarked @${Z||x}'s post`)}catch{}},ft=!!G&&G!==ln&&!Qt([G],[ln])&&!so.find(a=>G===a||Qt([G],[a])),yn=ne(),En=ne();async function ho(a){var F,fe,Ue,Ut;a&&(yn.current=v.v1.statuses.$select(t).rebloggedBy.list({limit:Hn}),En.current=v.v1.statuses.$select(t).favouritedBy.list({limit:Hn}));const[{value:T},{value:C}]=await Promise.allSettled([yn.current.next(),En.current.next()]);if((F=T.value)!=null&&F.length||(fe=C.value)!=null&&fe.length){const Se=[];return(Ue=T.value)!=null&&Ue.length&&Se.push(...T.value.map(Pe=>(Pe._types=["reblog"],Pe))),(Ut=C.value)!=null&&Ut.length&&Se.push(...C.value.map(Pe=>(Pe._types=["favourite"],Pe))),{value:Se,done:T.done&&C.done}}return{value:[],done:!0}}const po=ne(),Tn=["public","unlisted"].includes(N),fo=["public","unlisted","private"].includes(N),kn=e($,{children:[!Y&&A&&e($,{children:e("div",{class:"menu-control-group-horizontal status-menu",children:[e(Q,{onClick:pt,children:[e(y,{icon:"comment"}),e("span",{children:H>0?Ce(H):"Reply"})]}),e(Nt,{subMenu:!0,confirmLabel:e($,{children:[e(y,{icon:"rocket"}),e("span",{children:W?"Unboost":"Boost"})]}),className:`menu-reblog ${W?"checked":""}`,menuExtras:e(Q,{onClick:()=>{P.showCompose={draftStatus:{status:`
${Ee}`}}},children:[e(y,{icon:"quote"}),e("span",{children:"Quote"})]}),menuFooter:Mt&&!W?e("div",{class:"footer",children:[e(y,{icon:"alert"}),"Some media have no descriptions."]}):gn>=3&&e("div",{class:"footer",children:[e(y,{icon:"info"}),e("span",{children:["Old post (",e("strong",{children:sr.format(-gn,"month")}),")"]})]}),disabled:!Xe,onClick:async()=>{try{const a=await Ot();!Y&&a&&ie(W?`Unboosted @${Z||x}'s post`:`Boosted @${Z||x}'s post`)}catch{}},children:[e(y,{icon:"rocket"}),e("span",{children:ge>0?Ce(ge):W?"Unboost":"Boostâ€¦"})]}),e(Q,{onClick:Vt,className:`menu-favourite ${J?"checked":""}`,children:[e(y,{icon:"heart"}),e("span",{children:ve>0?Ce(ve):J?"Unlike":"Like"})]}),e(Q,{onClick:bn,className:`menu-bookmark ${be?"checked":""}`,children:[e(y,{icon:"bookmark"}),e("span",{children:be?"Unbookmark":"Bookmark"})]})]})}),!Y&&A&&(Y||R)&&e(Je,{}),(Y||R)&&e($,{children:e(Q,{onClick:()=>{P.showGenericAccounts={heading:"Boosted/Liked byâ€¦",fetchAccounts:ho,instance:p,showReactions:!0,postID:L}},children:[e(y,{icon:"react"}),e("span",{children:["Boosted/Liked by",e("span",{class:"more-insignificant",children:"â€¦"})]})]})}),(f||!G||ft)&&e(Je,{}),f?e("div",{class:at?"menu-horizontal":"",children:[e(Q,{disabled:Rt,onClick:()=>{io(!0)},children:[e(y,{icon:"translate"}),e("span",{children:"Translate"})]}),at&&e(Q,{onClick:()=>{const a=Gt(n);a&&Un(a,G)},children:[e(y,{icon:"speak"}),e("span",{children:"Speak"})]})]}):(!G||ft)&&e("div",{class:at?"menu-horizontal":"",children:[e(xn,{to:`${p?`/${p}`:""}/s/${I}?translate=1`,children:[e(y,{icon:"translate"}),e("span",{children:"Translate"})]}),at&&e(Q,{onClick:()=>{const a=Gt(n);a&&Un(a,G)},children:[e(y,{icon:"speak"}),e("span",{children:"Speak"})]})]}),(!Y&&A||f||!G||ft)&&e(Je,{}),!Y&&e($,{children:e(xn,{to:p?`/${p}/s/${I}`:`/s/${I}`,onClick:a=>{b(a,n)},children:[e(y,{icon:"arrows-right"}),e("small",{children:["View post by @",Z||x,e("br",{}),e("span",{class:"more-insignificant",children:[rt[N]," â€¢ ",pn]})]})]})}),!!V&&e($,{children:e(Q,{onClick:()=>{ht(I)},children:[e(y,{icon:"history"}),e("small",{children:["Show Edit History",e("br",{}),e("span",{class:"more-insignificant",children:["Edited: ",fn]})]})]})}),e(Q,{href:Ee,target:"_blank",children:[e(y,{icon:"external"}),e("small",{class:"menu-double-lines",children:pr(Ee)})]}),e("div",{class:"menu-horizontal",children:[e(Q,{onClick:()=>{try{navigator.clipboard.writeText(Ee),ie("Link copied")}catch{ie("Unable to copy link")}},children:[e(y,{icon:"link"}),e("span",{children:"Copy"})]}),Tn&&(navigator==null?void 0:navigator.share)&&(($n=navigator==null?void 0:navigator.canShare)==null?void 0:$n.call(navigator,{url:Ee}))&&e(Q,{onClick:()=>{try{navigator.share({url:Ee})}catch{alert("Sharing doesn't seem to work.")}},children:[e(y,{icon:"share"}),e("span",{children:"Shareâ€¦"})]})]}),Tn&&Y&&e(Q,{onClick:()=>{xt(!0)},children:[e(y,{icon:"code"}),e("span",{children:"Embed post"})]}),($e||sn)&&e(Je,{}),($e||sn)&&e(Q,{onClick:async()=>{try{const a=await v.v1.statuses.$select(I)[ye?"unmute":"mute"]();ke(a,p),ie(ye?"Conversation unmuted":"Conversation muted")}catch{ie(ye?"Unable to unmute conversation":"Unable to mute conversation")}},children:ye?e($,{children:[e(y,{icon:"unmute"}),e("span",{children:"Unmute conversation"})]}):e($,{children:[e(y,{icon:"mute"}),e("span",{children:"Mute conversation"})]})}),$e&&fo&&e(Q,{onClick:async()=>{try{const a=await v.v1.statuses.$select(I)[Oe?"unpin":"pin"]();ie(Oe?"Post unpinned from profile":"Post pinned to profile")}catch{ie(Oe?"Unable to unpin post":"Unable to pin post")}},children:Oe?e($,{children:[e(y,{icon:"unpin"}),e("span",{children:"Unpin from profile"})]}):e($,{children:[e(y,{icon:"pin"}),e("span",{children:"Pin to profile"})]})}),$e&&e("div",{class:"menu-horizontal",children:[e(Q,{onClick:()=>{P.showCompose={editStatus:n}},children:[e(y,{icon:"pencil"}),e("span",{children:"Edit"})]}),Y&&e(Nt,{subMenu:!0,confirmLabel:e($,{children:[e(y,{icon:"trash"}),e("span",{children:"Delete this post?"})]}),menuItemClassName:"danger",onClick:()=>{(async()=>{try{await v.v1.statuses.$select(I).remove();const a=qn(I,p);a._deleted=!0,ie("Deleted")}catch{ie("Unable to delete")}})()},children:[e(y,{icon:"trash"}),e("span",{children:"Deleteâ€¦"})]})]}),!$e&&Y&&e($,{children:[e(Je,{}),e(Q,{className:"danger",onClick:()=>{P.showReportModal={account:n.account,post:n}},children:[e(y,{icon:"flag"}),e("span",{children:"Report postâ€¦"})]})]})]}),Ln=ne(),[gt,Ze]=X(!1),[_t,vt]=X({}),bt=w||!Y&&!u&&!Me&&!g,go=Fn(ir&&bt?a=>{var fe;if(a.pointerType==="mouse")return;const{clientX:T,clientY:C}=((fe=a.touches)==null?void 0:fe[0])||a,F=a.target.closest("a");F&&Ve.current.contains(F)&&!F.getAttribute("href").startsWith("#")||(a.preventDefault(),vt({anchorPoint:{x:T,y:C},direction:"right"}),Ze(!0))}:null,{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),yt=!s&&!u&&!g,_o=ze("r, shift+r",pt,{enabled:yt}),vo=ze("f, l",Vt,{enabled:yt}),bo=ze("d",bn,{enabled:yt}),yo=ze("shift+b",()=>{(async()=>{try{const a=await Ot();!Y&&a&&ie(W?`Unboosted @${Z||x}'s post`:`Boosted @${Z||x}'s post`)}catch{}})()},{enabled:yt&&Xe}),Eo=ze("x",a=>{const T=document.activeElement.closest(".status-link, .status-focus");if(T){const C=T.querySelector(".spoiler-button:not(.spoiling)");if(C)a.stopPropagation(),C.click();else{const F=T.querySelector(".spoiler-media-button:not(.spoiling)");F&&(a.stopPropagation(),F.click())}}}),Et=j.slice(0,Y?void 0:4),Tt=j.length>1&&Et.some(a=>!!a.description&&!oo(a.description)),To=ue(()=>{if(!Tt)return null;const a=[];return Et.forEach((T,C)=>{if(!T.description)return;const F=a.findIndex(fe=>fe.media.description===T.description);F===-1?a.push({media:T,indices:[C]}):a[F].indices.push(C)}),a.map(({media:T,indices:C})=>e("div",{"data-caption-index":C.map(F=>F+1).join(" "),onClick:F=>{F.preventDefault(),F.stopPropagation(),P.showMediaAlt={alt:T.description,lang:G}},title:T.description,children:[e("sup",{children:C.map(F=>F+1).join(" ")})," ",T.description]},T.id))},[Tt,Et,G]),Qe=ue(()=>{var a;return!!ee&&le===((a=n.account)==null?void 0:a.id)||!!S.statusThreadNumber[L]},[ee,le,(In=n.account)==null?void 0:In.id,S.statusThreadNumber[L]]),ko=ue(()=>l&&!Qe&&!c&&!ee&&N==="public"&&H>0,[l,Qe,c,ee,H,N]),wn=ue(()=>{if(z||oe||se||ae||j!=null&&j.length||Qe||c||ee||H<=0||!/[??ï¼Ÿï¸–â“â”â‡âˆâ‰Â¿â€½ØŸ]/.test(de))return!1;const C=Kt(de);if(C>0&&C<=nr)return!0},[z,oe,se,ae,j,pe,Qe,c,ee,H,de]);return e($,{children:[k&&!!(ee&&le)&&e(fr,{sKey:L}),e("article",{"data-state-post-id":L,ref:a=>{var C;Ve.current=a;const T=((C=a==null?void 0:a.closest)==null?void 0:C.call(a,".timeline-item, .timeline-item-alt, .status-link, .status-focus"))||a;_o.current=T,vo.current=T,bo.current=T,yo.current=T,Eo.current=T},tabindex:"-1",class:`status ${!c&&ee&&mt?"status-reply-to":""} visibility-${N} ${Oe?"status-pinned":""} ${{s:"small",m:"medium",l:"large"}[i]} ${Me?"status-deleted":""} ${g?"status-card":""} ${gt?"status-menu-open":""}`,onMouseEnter:qe,onContextMenu:a=>{var F,fe;if(!bt||a.metaKey)return;const T=a.target.closest("a");if(T&&Ve.current.contains(T)&&!T.getAttribute("href").startsWith("#"))return;const C=(F=window.getSelection)==null?void 0:F.call(window);if(C.toString().length>0){const{anchorNode:Ue}=C;if((fe=Ve.current)!=null&&fe.contains(Ue))return}a.preventDefault(),vt({anchorPoint:{x:a.clientX,y:a.clientY},direction:"right"}),Ze(!0)},...bt?go():{},children:[bt&&e(ta,{ref:Ln,state:gt?"open":void 0,..._t,onClose:a=>{var T,C,F;Ze(!1),(a==null?void 0:a.reason)==="click"&&((F=(C=(T=Ve.current)==null?void 0:T.closest("[tabindex]"))==null?void 0:C.focus)==null||F.call(C))},portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:()=>{var a,T;(T=(a=Ln.current)==null?void 0:a.closeMenu)==null||T.call(a)}},overflow:"auto",boundingBoxPadding:Yn(),unmountOnClose:!0,children:kn}),R&&i!=="l"&&!u&&!s&&!Me&&!g&&e("div",{class:`status-actions ${gt==="actions-bar"?"open":""}`,ref:po,children:[e(He,{size:"s",title:"Reply",alt:"Reply",class:"reply-button",icon:"comment",iconSize:"m",onClick:pt}),e(He,{size:"s",checked:J,title:["Like","Unlike"],alt:["Like","Liked"],class:"favourite-button",icon:"heart",iconSize:"m",count:ve,onClick:Vt}),e("button",{type:"button",title:"More",class:"plain more-button",onClick:a=>{a.preventDefault(),a.stopPropagation(),vt({anchorRef:{current:a.currentTarget},align:"start",direction:"left",gap:0,shift:-8}),Ze("actions-bar")},children:e(y,{icon:"more2",size:"m",alt:"More"})})]}),i!=="l"&&e("div",{class:"status-badge",children:[W&&e(y,{class:"reblog",icon:"rocket",size:"s"}),J&&e(y,{class:"favourite",icon:"heart",size:"s"}),be&&e(y,{class:"bookmark",icon:"bookmark",size:"s"}),Oe&&e(y,{class:"pin",icon:"pin",size:"s"})]}),i!=="s"&&e("a",{href:te,tabindex:"-1",title:`@${x}`,onClick:a=>{a.preventDefault(),a.stopPropagation(),P.showAccount={account:n.account,instance:p}},children:e(we,{url:M||q,size:"xxl",squircle:he})}),e("div",{class:"container",children:[e("div",{class:"meta",children:[e("span",{class:"meta-name",children:e(ot,{account:n.account,instance:p,showAvatar:i==="s",showAcct:Y})})," ",i!=="l"&&(Me?e("span",{class:"status-deleted-tag",children:"Deleted"}):Ee&&!u&&!s&&!g?e(Be,{to:p?`/${p}/s/${I}`:`/s/${I}`,onClick:a=>{a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||a.which===2||(a.preventDefault(),a.stopPropagation(),b==null||b(a,n),vt({anchorRef:{current:a.currentTarget},align:"end",direction:"bottom",gap:4}),Ze(!0))},class:`time ${gt&&(_t!=null&&_t.anchorRef)?"is-open":""}`,children:[ko&&!wn?e(y,{icon:"comment2",size:"s",alt:`${H} ${H===1?"reply":"replies"}`}):N!=="public"&&N!=="direct"&&e(y,{icon:Jt[N],alt:rt[N],size:"s"})," ",e(De,{datetime:Ie,format:"micro"}),!u&&!s&&e(y,{icon:"more2",class:"more"})]}):e("span",{class:"time",children:[N!=="public"&&N!=="direct"&&e($,{children:[e(y,{icon:Jt[N],alt:rt[N],size:"s"})," "]}),e(De,{datetime:Ie,format:"micro"})]}))]}),N==="direct"&&e($,{children:[e("div",{class:"status-direct-badge",children:"Private mention"})," "]}),!c&&e($,{children:Qe?e("div",{class:"status-thread-badge",children:[e(y,{icon:"thread",size:"s"}),"Thread",S.statusThreadNumber[L]?` ${S.statusThreadNumber[L]}/X`:""]}):!!ee&&!!mt&&(!!ae||!Te.find(a=>a.id===le))&&e("div",{class:"status-reply-badge",children:[e(y,{icon:"reply"})," ",e(ot,{account:mt,instance:p,short:!0})]})}),e("div",{class:`content-container ${ae||se?"has-spoiler":""} ${We?"show-spoiler":""} ${Ge?"show-media":""}`,"data-content-text-weight":r?hn():null,style:(Y||r)&&{"--content-text-weight":hn()},children:[!!ae&&e($,{children:[e("div",{class:"content spoiler-content",lang:G,dir:"auto",ref:lo,"data-read-more":mn,children:e("p",{children:e(st,{text:ae,emojis:St})})}),Ke||u?e("div",{class:"spoiler-divider",children:[e(y,{icon:"eye-open"})," Content warning"]}):e("button",{class:`light spoiler-button ${We?"spoiling":""}`,type:"button",onClick:a=>{a.preventDefault(),a.stopPropagation(),We?(delete P.spoilers[I],Ke||delete P.spoilersMedia[I]):(P.spoilers[I]=!0,Ke||(P.spoilersMedia[I]=!0))},children:[e(y,{icon:We?"eye-open":"eye-close"})," ",We?"Show less":"Show content"]})]}),!!de&&e("div",{class:"content",ref:uo,"data-read-more":mn,children:[e(lr,{post:n,instance:p,previewMode:u}),e(_r,{id:I,instance:p,level:g})]}),!!oe&&e(Ga,{lang:G,poll:oe,readOnly:s||!A||!D,onUpdate:a=>{P.statuses[L].poll=a},refresh:()=>v.v1.polls.$select(oe.id).fetch().then(a=>{P.statuses[L].poll=a}).catch(a=>{}),votePoll:a=>v.v1.polls.$select(oe.id).votes.create({choices:a}).then(T=>{P.statuses[L].poll=T}).catch(T=>{})}),((f||un)&&!!de.trim()&&!!nn($t(de,St))&&ft||Rt)&&e(Ka,{forceTranslate:Rt||un,mini:!Y&&!c,sourceLanguage:G,text:Gt(n)}),!u&&se&&!!j.length&&cn!=="show_all"&&e("button",{class:`plain spoiler-media-button ${Ge?"spoiling":""}`,type:"button",hidden:!Ke&&!!ae,onClick:a=>{a.preventDefault(),a.stopPropagation(),Ge?delete P.spoilersMedia[I]:P.spoilersMedia[I]=!0},children:[e(y,{icon:Ge?"eye-open":"eye-close"})," ",Ge?"Show less":"Show media"]}),!!j.length&&e(dr,{lang:G,enabled:Tt,captionChildren:To,children:e("div",{ref:mo,class:`media-container media-eq${j.length} ${j.length>2?"media-gt2":""} ${j.length>4?"media-gt4":""}`,children:Et.map((a,T)=>e(tr,{media:a,autoAnimate:Y,showCaption:j.length===1,allowLongerCaption:!de&&j.length===1,lang:G,altIndex:Tt&&!!a.description&&T+1,to:`/${p}/s/${I}?${c?"media":"media-only"}=${T+1}`,onClick:_?C=>{_(C,T,a,n)}:void 0},a.id))})}),!!z&&/^https/i.test(z==null?void 0:z.url)&&!se&&!ae&&!oe&&!j.length&&!S.statusQuotes[L]&&e(ur,{card:z,selfReferential:(z==null?void 0:z.url)===n.url||(z==null?void 0:z.url)===n.uri,instance:U})]}),!Y&&wn&&e("div",{class:"content-comment-hint insignificant",children:[e(y,{icon:"comment2",alt:"Replies"})," ",H]}),Y&&e($,{children:[e("div",{class:"extra-meta",children:Me?e("span",{class:"status-deleted-tag",children:"Deleted"}):e($,{children:[e("span",{children:rt[N]})," â€¢"," ",e("a",{href:Ee,target:"_blank",rel:"noopener noreferrer",children:e("time",{class:"created",datetime:Ie.toISOString(),title:Ie.toLocaleString(),children:pn})}),V&&e($,{children:[" ","â€¢ ",e(y,{icon:"pencil",alt:"Edited"})," ",e("time",{tabIndex:"0",class:"edited",datetime:an.toISOString(),onClick:()=>{ht(I)},children:fn})]})]})}),!!(ut!=null&&ut.length)&&e("div",{class:"emoji-reactions",children:ut.map(a=>{const{name:T,count:C,me:F,url:fe,staticUrl:Ue}=a;if(fe)return e("span",{class:`emoji-reaction tag ${F?"":"insignificant"}`,children:[e(Zt,{alt:T,url:fe,staticUrl:Ue})," ",C]});if(/^:.+?:$/.test(T)){const Se=St.find(Pe=>Pe.shortcode===T.replace(/^:/,"").replace(/:$/,""));if(Se)return e("span",{class:`emoji-reaction tag ${F?"":"insignificant"}`,children:[e(Zt,{alt:T,url:Se.url,staticUrl:Se.staticUrl})," ",C]})}return e("span",{class:`emoji-reaction tag ${F?"":"insignificant"}`,children:[T," ",C]})})}),e("div",{class:`actions ${Me?"disabled":""}`,children:[e("div",{class:"action has-count",children:e(He,{title:"Reply",alt:"Comments",class:"reply-button",icon:"comment",count:H,onClick:pt})}),e(Nt,{disabled:!Xe,onClick:Ot,confirmLabel:e($,{children:[e(y,{icon:"rocket"}),e("span",{children:W?"Unboost":"Boost"})]}),menuExtras:e(Q,{onClick:()=>{P.showCompose={draftStatus:{status:`
${Ee}`}}},children:[e(y,{icon:"quote"}),e("span",{children:"Quote"})]}),menuFooter:Mt&&!W&&e("div",{class:"footer",children:[e(y,{icon:"alert"}),"Some media have no descriptions."]}),children:e("div",{class:"action has-count",children:e(He,{checked:W,title:["Boost","Unboost"],alt:["Boost","Boosted"],class:"reblog-button",icon:"rocket",count:ge,disabled:!Xe})})}),e("div",{class:"action has-count",children:e(He,{checked:J,title:["Like","Unlike"],alt:["Like","Liked"],class:"favourite-button",icon:"heart",count:ve,onClick:_n})}),e("div",{class:"action",children:e(He,{checked:be,title:["Bookmark","Unbookmark"],alt:["Bookmark","Bookmarked"],class:"bookmark-button",icon:"bookmark",onClick:vn})}),e(Xn,{portal:{target:document.querySelector(".status-deck")||document.body},align:"end",gap:4,overflow:"auto",viewScroll:"close",menuButton:e("div",{class:"action",children:e("button",{type:"button",title:"More",class:"plain more-button",children:e(y,{icon:"more",size:"l",alt:"More"})})}),children:kn})]})]})]}),!!Ct&&e(Xt,{onClick:a=>{a.target===a.currentTarget&&ht(!1)},children:e(mr,{statusID:Ct,instance:p,fetchStatusHistory:()=>v.v1.statuses.$select(Ct).history.list(),onClose:()=>{var a;ht(!1),(a=Ve.current)==null||a.focus()}})}),!!co&&e(Xt,{onClick:a=>{a.target===a.currentTarget&&xt(!1)},children:e(hr,{post:n,instance:p,onClose:()=>{xt(!1)}})})]})]})}function dr(t){const{enabled:n,children:o,lang:i,captionChildren:r}=t;return!n||!r?o:e("figure",{class:"media-figure-multiple",children:[o,e("figcaption",{lang:i,dir:"auto",children:r})]})}function ur({card:t,selfReferential:n,instance:o}){var M;const i=dt(P),{blurhash:r,title:s,description:l,html:c,providerName:d,providerUrl:f,authorName:h,authorUrl:u,width:_,height:g,image:b,imageDescription:E,url:w,type:R,embedUrl:k,language:v,publishedAt:p}=t,D=s||d||h,A=_/g>=1.2?"large":"",[L,S]=X(null);if(_e(()=>{D&&b&&!n&&ia(w)&&sa(o,w).then(O=>{if(!O)return;const{id:te,url:re}=O;S("#"+re)})},[D,b,n]),i.unfurledLinks[w])return null;const x=/<iframe/i.test(c),q=en(O=>{x&&(O.preventDefault(),P.showEmbedModal={html:c,url:w||k,width:_,height:g})},[x]);if(D&&(b||R==="photo"&&r)){const O=Yt.toUnicode(new URL(w).hostname.replace(/^www\./,"").replace(/\/$/,""));let te;const re=b&&r?zn(r):null;if(!b){const he=na(r,44,44),B=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas");B.width=44,B.height=44;const I=B.getContext("2d");I.imageSmoothingEnabled=!1;const H=I.createImageData(44,44);H.data.set(he),I.putImageData(H,0,0),te=B.toDataURL()}return e("a",{href:L||w,target:L?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${te?"":A}`,lang:v,dir:"auto",style:{"--average-color":re&&`rgb(${re.join(",")})`},onClick:q,children:[e("div",{class:"card-image",children:e("img",{src:b||te,width:_,height:g,loading:"lazy",alt:E||"",onError:Z=>{try{Z.target.style.display="none"}catch{}}})}),e("div",{class:"meta-container",children:[e("p",{class:"meta domain",children:[e("span",{class:"domain",children:O})," ",!!p&&e($,{children:"Â· "}),!!p&&e($,{children:e(De,{datetime:p,format:"micro"})})]}),e("p",{class:"title",dir:"auto",title:s,children:s}),e("p",{class:"meta",dir:"auto",title:l,children:l||!!p&&e(De,{datetime:p,format:"micro"})})]})]})}else{if(R==="photo")return e("a",{href:w,target:"_blank",rel:"nofollow noopener noreferrer",class:"card photo",onClick:q,children:e("img",{src:k,width:_,height:g,alt:s||l,loading:"lazy",style:{height:"auto",aspectRatio:`${_}/${g}`}})});if(R==="video"&&/youtube/i.test(d)){const O=(M=w.match(/watch\?v=([^&]+)/))==null?void 0:M[1];if(O)return e("a",{class:"card video",onClick:q,children:e("lite-youtube",{videoid:O,nocookie:!0})})}if(D&&!b){const O=Yt.toUnicode(new URL(w).hostname.replace(/^www\./,""));return e("a",{href:L||w,target:L?null:"_blank",rel:"nofollow noopener noreferrer",class:"card link no-image",lang:v,onClick:q,children:e("div",{class:"meta-container",children:[e("p",{class:"meta domain",children:[e("span",{class:"domain",children:[e(y,{icon:"link",size:"s"})," ",e("span",{children:O})]})," ",!!p&&e($,{children:"Â· "}),!!p&&e($,{children:e(De,{datetime:p,format:"micro"})})]}),e("p",{class:"title",title:s,children:s}),e("p",{class:"meta",title:l||d||h,children:l||d||h})]})})}}}function mr({statusID:t,instance:n,fetchStatusHistory:o=()=>{},onClose:i}){const[r,s]=X("default"),[l,c]=X([]);return _e(()=>{s("loading"),(async()=>{try{const d=await o();c(d),s("default")}catch{s("error")}})()},[]),e("div",{id:"edit-history",class:"sheet",children:[!!i&&e("button",{type:"button",class:"sheet-close",onClick:i,children:e(y,{icon:"x"})}),e("header",{children:[e("h2",{children:"Edit History"}),r==="error"&&e("p",{children:"Failed to load history"}),r==="loading"&&e("p",{children:[e(jn,{abrupt:!0})," Loadingâ€¦"]})]}),e("main",{tabIndex:"-1",children:l.length>0&&e("ol",{children:l.map(d=>{const{createdAt:f}=d,h=new Date(f);return e("li",{class:"history-item",children:[e("h3",{children:e("time",{children:ct(h,{formatOpts:{weekday:"short",second:"numeric"}})})}),e(xe,{status:d,instance:n,size:"s",withinContext:!0,readOnly:!0,previewMode:!0})]},f)})})})]})}function ao(t,n,o=0){var q;const{account:{url:i,displayName:r,acct:s,username:l,emojis:c,bot:d,group:f},id:h,poll:u,spoilerText:_,language:g,editedAt:b,createdAt:E,content:w,mediaAttachments:R,url:k,emojis:v}=t,p=Le(h,n),U=(P.statusQuotes[p]||[]).filter((M,O,te)=>te.findIndex(re=>re.url===M.url)===O),A=U.length&&o<=2?U.map(M=>{const{id:O,instance:te}=M,re=Le(O,te),Z=P.statuses[re];if(Z)return ao(Z,te,++o)}).join(""):"",L=new Date(E),S=$t(w,v)+`
`+A+`
`+((q=u==null?void 0:u.options)!=null&&q.length?`
        <p>ðŸ“Š:</p>
        <ul>
        ${u.options.map(M=>`
              <li>
                ${M.title}
                ${M.votesCount>=0?` (${M.votesCount})`:""}
              </li>
            `).join("")}
        </ul>`:"")+(R.length>0?`
`+R.map(M=>{const{description:O,meta:te,previewRemoteUrl:re,previewUrl:Z,remoteUrl:me,url:he,type:B}=M,{original:I={},small:H}=te||{},W=(H==null?void 0:H.width)||(I==null?void 0:I.width),ge=(H==null?void 0:H.height)||(I==null?void 0:I.height),J=me||he,ve=re||Z,be=ve||J,oe=J?new URL(J):null,ye=B==="unknown"&&oe&&/\.(mp4|m4r|m4v|mov|webm)$/i.test(oe.pathname),se=B==="unknown"&&oe&&/\.(mp3|ogg|wav|m4a|m4p|m4b)$/i.test(oe.pathname),ae=B==="image"||B==="unknown"&&ve&&!ye&&!se,N=B==="gifv"||B==="video"||ye,G=B==="audio"||se;let V="";return ae?V=`<img src="${be}" width="${W}" height="${ge}" alt="${O}" loading="lazy" />`:N?V=`
                <video src="${J}" width="${W}" height="${ge}" controls preload="auto" poster="${ve}" loading="lazy"></video>
                ${O?`<figcaption>${O}</figcaption>`:""}
              `:G?V=`
                <audio src="${J}" controls preload="auto"></audio>
                ${O?`<figcaption>${O}</figcaption>`:""}
              `:V=`
                <a href="${J}">ðŸ“„ ${O||J}</a>
              `,`<figure>${V}</figure>`}).join(`
`):""),x=`
    <blockquote lang="${g}" cite="${k}">
      ${_?`
            <details>
              <summary>${_}</summary>
              ${S}
            </details>
          `:S}
      <footer>
        â€” ${$t(r,c)} (@${s}) <a href="${k}"><time datetime="${L.toISOString()}">${L.toLocaleString()}</time></a>
      </footer>
    </blockquote>
  `;return oa(x)}function hr({post:t,instance:n,onClose:o}){const{account:{url:i,displayName:r,username:s,emojis:l,bot:c,group:d},id:f,poll:h,spoilerText:u,language:_,editedAt:g,createdAt:b,content:E,mediaAttachments:w,url:R,emojis:k}=t,v=ao(t,n);return e("div",{id:"embed-post",class:"sheet",children:[!!o&&e("button",{type:"button",class:"sheet-close",onClick:o,children:e(y,{icon:"x"})}),e("header",{children:e("h2",{children:"Embed post"})}),e("main",{tabIndex:"-1",children:[e("h3",{children:"HTML Code"}),e("textarea",{class:"embed-code",readonly:!0,onClick:p=>{p.target.select()},children:v}),e("button",{type:"button",onClick:()=>{try{navigator.clipboard.writeText(v),ie("HTML code copied")}catch{ie("Unable to copy HTML code")}},children:[e(y,{icon:"clipboard"})," ",e("span",{children:"Copy"})]}),!!(w!=null&&w.length)&&e("section",{children:[e("p",{children:"Media attachments:"}),e("ol",{class:"links-list",children:w.map(p=>e("li",{children:e("a",{href:p.remoteUrl||p.url,target:"_blank",download:!0,children:p.remoteUrl||p.url})},p.id))})]}),!!(l!=null&&l.length)&&e("section",{children:[e("p",{children:"Account Emojis:"}),e("ul",{children:l.map(p=>e("li",{children:[e("picture",{children:[e("source",{srcset:p.staticUrl,media:"(prefers-reduced-motion: reduce)"}),e("img",{class:"shortcode-emoji emoji",src:p.url,alt:`:${p.shortcode}:`,width:"16",height:"16",loading:"lazy",decoding:"async"})]})," ",e("code",{children:[":",p.shortcode,":"]})," (",e("a",{href:p.url,target:"_blank",download:!0,children:"url"}),")",p.staticUrl?e($,{children:[" ","(",e("a",{href:p.staticUrl,target:"_blank",download:!0,children:"static"}),")"]}):null]},p.shortcode))})]}),!!(k!=null&&k.length)&&e("section",{children:[e("p",{children:"Emojis:"}),e("ul",{children:k.map(p=>e("li",{children:[e("picture",{children:[e("source",{srcset:p.staticUrl,media:"(prefers-reduced-motion: reduce)"}),e("img",{class:"shortcode-emoji emoji",src:p.url,alt:`:${p.shortcode}:`,width:"16",height:"16",loading:"lazy",decoding:"async"})]})," ",e("code",{children:[":",p.shortcode,":"]})," (",e("a",{href:p.url,target:"_blank",download:!0,children:"url"}),")",p.staticUrl?e($,{children:[" ","(",e("a",{href:p.staticUrl,target:"_blank",download:!0,children:"static"}),")"]}):null]},p.shortcode))})]}),e("section",{children:e("small",{children:[e("p",{children:"Notes:"}),e("ul",{children:[e("li",{children:"This is static, unstyled and scriptless. You may need to apply your own styles and edit as needed."}),e("li",{children:"Polls are not interactive, becomes a list with vote counts."}),e("li",{children:"Media attachments can be images, videos, audios or any file types."}),e("li",{children:"Post could be edited or deleted later."})]})]})}),e("h3",{children:"Preview"}),e("output",{class:"embed-preview",dangerouslySetInnerHTML:{__html:v}}),e("p",{children:e("small",{children:"Note: This preview is lightly styled."})})]})]})}function He({checked:t,count:n,class:o,title:i,alt:r,size:s,icon:l,iconSize:c="l",onClick:d,...f}){typeof i=="string"&&(i=[i,i]),typeof r=="string"&&(r=[r,r]);const[h,u]=X(i[0]||""),[_,g]=X(r[0]||"");return _e(()=>{t?(u(i[1]||""),g(r[1]||"")):(u(i[0]||""),g(r[0]||""))},[t,i,r]),e("button",{type:"button",title:h,class:`plain ${s?"small":""} ${o} ${t?"checked":""}`,onClick:b=>{d&&(b.preventDefault(),b.stopPropagation(),d(b))},...f,children:[e(y,{icon:l,size:c,alt:_}),!!n&&e($,{children:[" ",e("small",{title:n,children:Ce(n)})]})]})}function pr(t){if(!t)return;const n=new URL(t),{host:o,pathname:i}=n,r=i.replace(/\/$/,""),[s,l,c]=r.match(/\/(@[^\/]+)\/(.*)/)||[];return e($,{children:[Yt.toUnicode(o),l?e($,{children:["/",l,e("wbr",{}),e("span",{class:"more-insignificant",children:["/",c]})]}):e("span",{class:"more-insignificant",children:r})]})}function fr({sKey:t}){const o=dt(P).statusReply[t];if(!o)return null;const{id:i,instance:r}=o,s=qn(i,r);if(!s)return null;const{sensitive:l,spoilerText:c,account:{avatar:d,avatarStatic:f,bot:h},visibility:u,content:_,language:g,filtered:b}=s;if(l||c||!_)return null;const E=Le(i,r),w=no(s),R=Bn(to),k=on(b,R);if((k==null?void 0:k.action)==="hide")return null;const v=(k==null?void 0:k.titlesStr)||"";return e("article",{class:`status compact-reply ${u==="direct"?"visibility-direct":""}`,tabindex:"-1","data-state-post-id":E,children:[e(we,{url:f||d,squircle:h}),e("div",{class:"content-compact",title:w,lang:g,dir:"auto",children:k?e("b",{class:"status-filtered-badge badge-meta",title:v,children:[e("span",{children:"Filtered"}),e("span",{children:v})]}):e("span",{children:w})})]})}function gr({status:t,filterInfo:n,instance:o,containerProps:i={},showFollowedTags:r}){var q;const s=dt(P),{id:l,account:{avatar:c,avatarStatic:d,bot:f,group:h},createdAt:u,visibility:_,reblog:g}=t,b=!!g,E=(n==null?void 0:n.titlesStr)||"",w=new Date(u),R=no(t.reblog||t),[k,v]=X(!1),p=Fn(()=>{v(!0)},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),D=At(),U=Le(t.id,o),A=Le(t.id,o)+" "+(Le(g==null?void 0:g.id,o)||""),L=(g==null?void 0:g.id)||l,S=o?`/${o}/s/${L}`:`/s/${L}`,x=r&&!!((q=s.statusFollowedTags[U])!=null&&q.length);return e("div",{class:b?h?"status-group":"status-reblog":x?"status-followed-tags":"",...i,onContextMenu:M=>{M.preventDefault(),v(!0)},...p(),children:[e("article",{"data-state-post-id":A,class:"status filtered",tabindex:"-1",children:[e("b",{class:"status-filtered-badge clickable badge-meta",title:E,onClick:M=>{M.preventDefault(),v(!0)},children:[e("span",{children:"Filtered"}),e("span",{children:E})]})," ",e(we,{url:d||c,squircle:f}),e("span",{class:"status-filtered-info",children:[e("span",{class:"status-filtered-info-1",children:[e(ot,{account:t.account,instance:o})," ",e(y,{icon:Jt[_],alt:rt[_],size:"s"})," ",b?"boosted":x?e("span",{children:s.statusFollowedTags[U].slice(0,3).map(M=>e("span",{class:"status-followed-tag-item",children:["#",M]},M))}):e(De,{datetime:w,format:"micro"})]}),e("span",{class:"status-filtered-info-2",children:[b&&e($,{children:[e(we,{url:g.account.avatarStatic||g.account.avatar,squircle:f})," "]}),R]})]})]}),!!k&&e(Xt,{onClick:M=>{M.target===M.currentTarget&&v(!1)},children:e("div",{id:"filtered-status-peek",class:"sheet",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>v(!1),children:e(y,{icon:"x"})}),e("header",{children:[e("b",{class:"status-filtered-badge",children:"Filtered"})," ",E]}),e("main",{tabIndex:"-1",children:e(Be,{ref:D,class:"status-link",to:S,onClick:()=>{v(!1)},"data-read-more":"Read more â†’",children:e(xe,{status:t,instance:o,size:"s",readOnly:!0})})})]})})]})}const _r=lt(({id:t,instance:n,level:o=0})=>{if(!t||!n)return;const i=dt(P),r=Le(t,n),s=i.statusQuotes[r],l=s==null?void 0:s.filter((c,d,f)=>f.findIndex(h=>h.url===c.url)===d);if(l!=null&&l.length&&!(o>2))return l.map(c=>e(Wa,{children:e(Be,{to:`${c.instance?`/${c.instance}`:""}/s/${c.id}`,class:"status-card-link","data-read-more":"Read more â†’",children:e(xe,{statusID:c.id,instance:c.instance,size:"s",quoted:o+1,enableCommentHint:!0})},c.instance+c.id)}))}),$r=lt(xe,(t,n)=>{const{status:o,...i}=t,{status:r,...s}=n;return(o==null?void 0:o.id)===(r==null?void 0:r.id)&&aa(i,s)});export{we as A,Kt as B,Zt as C,$t as D,st as E,to as F,Kn as G,ma as H,y as I,Jt as J,Be as L,Xt as M,ot as N,De as R,$r as S,Ka as T,Xn as a,Nt as b,Lr as c,kr as d,xn as e,Qn as f,Zn as g,xa as h,Ce as i,nn as j,wr as k,Ht as l,Qt as m,ct as n,ca as o,at as p,Un as q,tr as r,ie as s,Ea as t,Tr as u,At as v,on as w,Yn as x,Ar as y,no as z};
//# sourceMappingURL=status-wfxd-S8l.js.map
