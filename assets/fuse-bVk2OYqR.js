import{ad as ut,Q as $e,d as r,h as K,q as Se,A as D,_ as At,y as J,B as Sr,r as ke,ae as k,af as Ha,e as or,ag as ao,ah as Ba,i as ie,P as yt,p as ls,ai as Ua,aj as us,O as ds,k as $,M as qt,V as Le,n as ja,s as H,ak as Wa,u as tt,a as co,x as bn,z as Ka,al as Za,T as O,am as fs,an as qa,ao as hs,o as go,v as ps,g as kr,ap as Ga,aq as Oe,ar as Ya,as as Xa,at as Un,I as st,c as kn,b as pt,W as ms,au as Qa,av as Ja,aw as ec}from"./useTitle-oDPuHmBG.js";function rr(){return rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rr.apply(null,arguments)}var gs=["shift","alt","meta","mod","ctrl"],tc={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function gt(e){return(e&&tc[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function nc(e){return gs.includes(e)}function Ao(e,t){return t===void 0&&(t=","),e.split(t)}function Io(e,t,n){t===void 0&&(t="+");var o=e.toLocaleLowerCase().split(t).map(function(s){return gt(s)}),i={alt:o.includes("alt"),ctrl:o.includes("ctrl")||o.includes("control"),shift:o.includes("shift"),meta:o.includes("meta"),mod:o.includes("mod")},a=o.filter(function(s){return!gs.includes(s)});return rr({},i,{keys:a,description:n,hotkey:e})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&vs([gt(e.key),gt(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&_s([gt(e.key),gt(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){vt.clear()})})();var vt=new Set;function Ar(e){return Array.isArray(e)}function oc(e,t){t===void 0&&(t=",");var n=Ar(e)?e:e.split(t);return n.every(function(o){return vt.has(o.trim().toLowerCase())})}function vs(e){var t=Array.isArray(e)?e:[e];vt.has("meta")&&vt.forEach(function(n){return!nc(n)&&vt.delete(n.toLowerCase())}),t.forEach(function(n){return vt.add(n.toLowerCase())})}function _s(e){var t=Array.isArray(e)?e:[e];e==="meta"?vt.clear():t.forEach(function(n){return vt.delete(n.toLowerCase())})}function rc(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function ic(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function sc(e){return ys(e,["input","textarea","select"])}function ys(e,t){t===void 0&&(t=!1);var n=e.target,o=e.composed,i=null;return ac(n)&&o?i=e.composedPath()[0]&&e.composedPath()[0].tagName:i=n&&n.tagName,Ar(t)?!!(i&&t&&t.some(function(a){var s;return a.toLowerCase()===((s=i)==null?void 0:s.toLowerCase())})):!!(i&&t&&t)}function ac(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function cc(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var lc=function(t,n,o){o===void 0&&(o=!1);var i=n.alt,a=n.meta,s=n.mod,c=n.shift,l=n.ctrl,u=n.keys,d=t.key,f=t.code,p=t.ctrlKey,h=t.metaKey,g=t.shiftKey,_=t.altKey,v=gt(f),T=d.toLowerCase();if(!(u!=null&&u.includes(v))&&!(u!=null&&u.includes(T))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(v))return!1;if(!o){if(i===!_&&T!=="alt"||c===!g&&T!=="shift")return!1;if(s){if(!h&&!p)return!1}else if(a===!h&&T!=="meta"&&T!=="os"||l===!p&&T!=="ctrl"&&T!=="control")return!1}return u&&u.length===1&&(u.includes(T)||u.includes(v))?!0:u?oc(u):!u},uc=ut(void 0),dc=function(){return $e(uc)};function bs(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,o){return n&&bs(e[o],t[o])},!0):e===t}var fc=ut({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),hc=function(){return $e(fc)};function pc(e){var t=D(void 0);return bs(t.current,e)||(t.current=e),t.current}var ai=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},mc=typeof window<"u"?At:J;function Ft(e,t,n,o){var i=K(null),a=i[0],s=i[1],c=D(!1),l=n instanceof Array?o instanceof Array?void 0:o:n,u=Ar(e)?e.join(l==null?void 0:l.splitKey):e,d=n instanceof Array?n:o instanceof Array?o:void 0,f=Se(t,d??[]),p=D(f);d?p.current=f:p.current=t;var h=pc(l),g=hc(),_=g.enabledScopes,v=dc();return mc(function(){if(!((h==null?void 0:h.enabled)===!1||!cc(_,h==null?void 0:h.scopes))){var T=function(x,w){var P;if(w===void 0&&(w=!1),!(sc(x)&&!ys(x,h==null?void 0:h.enableOnFormTags))){if(a!==null){var M=a.getRootNode();if((M instanceof Document||M instanceof ShadowRoot)&&M.activeElement!==a&&!a.contains(M.activeElement)){ai(x);return}}(P=x.target)!=null&&P.isContentEditable&&!(h!=null&&h.enableOnContentEditable)||Ao(u,h==null?void 0:h.splitKey).forEach(function(R){var S,I=Io(R,h==null?void 0:h.combinationKey);if(lc(x,I,h==null?void 0:h.ignoreModifiers)||(S=I.keys)!=null&&S.includes("*")){if(h!=null&&h.ignoreEventWhen!=null&&h.ignoreEventWhen(x)||w&&c.current)return;if(rc(x,I,h==null?void 0:h.preventDefault),!ic(x,I,h==null?void 0:h.enabled)){ai(x);return}p.current(x,I),w||(c.current=!0)}})}},b=function(x){x.key!==void 0&&(vs(gt(x.code)),((h==null?void 0:h.keydown)===void 0&&(h==null?void 0:h.keyup)!==!0||h!=null&&h.keydown)&&T(x))},E=function(x){x.key!==void 0&&(_s(gt(x.code)),c.current=!1,h!=null&&h.keyup&&T(x,!0))},A=a||(l==null?void 0:l.document)||document;return A.addEventListener("keyup",E),A.addEventListener("keydown",b),v&&Ao(u,h==null?void 0:h.splitKey).forEach(function(m){return v.addHotkey(Io(m,h==null?void 0:h.combinationKey,h==null?void 0:h.description))}),function(){A.removeEventListener("keyup",E),A.removeEventListener("keydown",b),v&&Ao(u,h==null?void 0:h.splitKey).forEach(function(m){return v.removeHotkey(Io(m,h==null?void 0:h.combinationKey,h==null?void 0:h.description))})}}},[a,u,h,_]),s}var to={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */var gc=to.exports,ci;function vc(){return ci||(ci=1,function(e){(function(t,n){e.exports?e.exports=n():t.Toastify=n()})(gc,function(t){var n=function(s){return new n.lib.init(s)},o="1.12.0";n.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},n.lib=n.prototype={toastify:o,constructor:n,init:function(s){return s||(s={}),this.options={},this.toastElement=null,this.options.text=s.text||n.defaults.text,this.options.node=s.node||n.defaults.node,this.options.duration=s.duration===0?0:s.duration||n.defaults.duration,this.options.selector=s.selector||n.defaults.selector,this.options.callback=s.callback||n.defaults.callback,this.options.destination=s.destination||n.defaults.destination,this.options.newWindow=s.newWindow||n.defaults.newWindow,this.options.close=s.close||n.defaults.close,this.options.gravity=s.gravity==="bottom"?"toastify-bottom":n.defaults.gravity,this.options.positionLeft=s.positionLeft||n.defaults.positionLeft,this.options.position=s.position||n.defaults.position,this.options.backgroundColor=s.backgroundColor||n.defaults.backgroundColor,this.options.avatar=s.avatar||n.defaults.avatar,this.options.className=s.className||n.defaults.className,this.options.stopOnFocus=s.stopOnFocus===void 0?n.defaults.stopOnFocus:s.stopOnFocus,this.options.onClick=s.onClick||n.defaults.onClick,this.options.offset=s.offset||n.defaults.offset,this.options.escapeMarkup=s.escapeMarkup!==void 0?s.escapeMarkup:n.defaults.escapeMarkup,this.options.ariaLive=s.ariaLive||n.defaults.ariaLive,this.options.style=s.style||n.defaults.style,s.backgroundColor&&(this.options.style.background=s.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var s=document.createElement("div");s.className="toastify on "+this.options.className,this.options.position?s.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(s.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):s.className+=" toastify-right",s.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var c in this.options.style)s.style[c]=this.options.style[c];if(this.options.ariaLive&&s.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)s.appendChild(this.options.node);else if(this.options.escapeMarkup?s.innerText=this.options.text:s.innerHTML=this.options.text,this.options.avatar!==""){var l=document.createElement("img");l.src=this.options.avatar,l.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?s.appendChild(l):s.insertAdjacentElement("afterbegin",l)}if(this.options.close===!0){var u=document.createElement("button");u.type="button",u.setAttribute("aria-label","Close"),u.className="toast-close",u.innerHTML="&#10006;",u.addEventListener("click",(function(v){v.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var d=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&d>360?s.insertAdjacentElement("afterbegin",u):s.appendChild(u)}if(this.options.stopOnFocus&&this.options.duration>0){var f=this;s.addEventListener("mouseover",function(v){window.clearTimeout(s.timeOutValue)}),s.addEventListener("mouseleave",function(){s.timeOutValue=window.setTimeout(function(){f.removeElement(s)},f.options.duration)})}if(typeof this.options.destination<"u"&&s.addEventListener("click",(function(v){v.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&s.addEventListener("click",(function(v){v.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var p=i("x",this.options),h=i("y",this.options),g=this.options.position=="left"?p:"-"+p,_=this.options.gravity=="toastify-top"?h:"-"+h;s.style.transform="translate("+g+","+_+")"}return s},showToast:function(){this.toastElement=this.buildToast();var s;if(typeof this.options.selector=="string"?s=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?s=this.options.selector:s=document.body,!s)throw"Root element is not defined";var c=n.defaults.oldestFirst?s.firstChild:s.lastChild;return s.insertBefore(this.toastElement,c),n.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(s){s.className=s.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),s.parentNode&&s.parentNode.removeChild(s),this.options.callback.call(s),n.reposition()}).bind(this),400)}},n.reposition=function(){for(var s={top:15,bottom:15},c={top:15,bottom:15},l={top:15,bottom:15},u=document.getElementsByClassName("toastify"),d,f=0;f<u.length;f++){a(u[f],"toastify-top")===!0?d="toastify-top":d="toastify-bottom";var p=u[f].offsetHeight;d=d.substr(9,d.length-1);var h=15,g=window.innerWidth>0?window.innerWidth:screen.width;g<=360?(u[f].style[d]=l[d]+"px",l[d]+=p+h):a(u[f],"toastify-left")===!0?(u[f].style[d]=s[d]+"px",s[d]+=p+h):(u[f].style[d]=c[d]+"px",c[d]+=p+h)}return this};function i(s,c){return c.offset[s]?isNaN(c.offset[s])?c.offset[s]:c.offset[s]+"px":"0px"}function a(s,c){return!s||typeof c!="string"?!1:!!(s.className&&s.className.trim().split(/\s+/gi).indexOf(c)>-1)}return n.lib.init.prototype=n.lib,n})}(to)),to.exports}var _c=vc();const yc=Sr(_c);window._showToast=Re;function Re(e){typeof e=="string"&&(e={text:e});const{onClick:t,delay:n,...o}=e,i=yc({className:`${t||e.destination?"shiny-pill":""}`,gravity:"bottom",position:"center",...o,onClick:()=>{t==null||t(i)}});return n?setTimeout(()=>{i.showToast()},n):i.showToast(),i}function oh(e,t,n,o){const i=D(e);J(()=>{i.current=e},[e,n]),J(()=>{!o||t===null||t===!1||i.current()},[o]),J(()=>{if(t===null||t===!1)return;const s=setInterval(()=>i.current(),t);return()=>clearInterval(s)},[t])}function bc(e){const t=URL.parse("/compose/",window.location),{width:n,height:o}=window.screen,i=Math.max(0,(n-600)/2),a=Math.max(0,(o-450)/2),s=Math.min(n,600),c=Math.min(o,450),l=(e==null?void 0:e.uid)||Math.random(),u=window.open(t,"compose"+l,`width=${s},height=${c},left=${i},top=${a}`);return u?u.__COMPOSE__=e:alert(ke._({id:"4S86wI"})),u}const Tc=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function wc(){if(Tc){const e=document.createElement("input");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.opacity="0",document.body.appendChild(e),e.focus(),setTimeout(()=>{document.body.removeChild(e)},500)}}const Ts={x:()=>k(()=>import("./icons/close-line-YTE7hIJE.js"),[],import.meta.url),heart:()=>k(()=>import("./icons/heart-line-VwvWYh8h.js"),[],import.meta.url),bookmark:()=>k(()=>import("./icons/bookmark-line-D6jQ7QFs.js"),[],import.meta.url),"check-circle":()=>k(()=>import("./icons/check-circle-line-sE41WGxF.js"),[],import.meta.url),"x-circle":()=>k(()=>import("./icons/close-circle-line-qd3g541O.js"),[],import.meta.url),transfer:()=>k(()=>import("./icons/transfer-4-line-Q9QJoxz3.js"),[],import.meta.url),rocket:()=>k(()=>import("./icons/rocket-line-rZbVYYCZ.js"),[],import.meta.url),"arrow-left":{module:()=>k(()=>import("./icons/arrow-left-line-_YC6-XGG.js"),[],import.meta.url),rtl:!0},"arrow-right":{module:()=>k(()=>import("./icons/arrow-right-line-PypiEqpu.js"),[],import.meta.url),rtl:!0},"arrow-up":()=>k(()=>import("./icons/arrow-up-line-fcuKqhVE.js"),[],import.meta.url),"arrow-down":()=>k(()=>import("./icons/arrow-down-line-0TRJUP_K.js"),[],import.meta.url),earth:()=>k(()=>import("./icons/earth-line-t1Um8wpQ.js"),[],import.meta.url),lock:()=>k(()=>import("./icons/lock-line-0jNHqZpm.js"),[],import.meta.url),unlock:()=>k(()=>import("./icons/unlock-line-w3piJMVb.js"),[],import.meta.url),"eye-close":()=>k(()=>import("./icons/eye-close-line-lBiePPv9.js"),[],import.meta.url),"eye-open":()=>k(()=>import("./icons/eye-2-line-vz_Kw-rK.js"),[],import.meta.url),message:()=>k(()=>import("./icons/mail-line-5XLS6FEo.js"),[],import.meta.url),comment:{module:()=>k(()=>import("./icons/chat-3-line-F0xcdpXY.js"),[],import.meta.url),rtl:!0},comment2:{module:()=>k(()=>import("./icons/comment-2-line-xEXuT-Ip.js"),[],import.meta.url),rtl:!0},home:()=>k(()=>import("./icons/home-3-line-qJiZhXUH.js"),[],import.meta.url),notification:()=>k(()=>import("./icons/notification-line-olNPLtgS.js"),[],import.meta.url),follow:()=>k(()=>import("./icons/user-follow-line-k_GCWTtp.js"),[],import.meta.url),"follow-add":()=>k(()=>import("./icons/user-add-line-zzW9OULB.js"),[],import.meta.url),poll:[()=>k(()=>import("./icons/chart-bar-line-5r_DfN2w.js"),[],import.meta.url),"90deg"],pencil:()=>k(()=>import("./icons/pencil-line-bKXqElLR.js"),[],import.meta.url),quill:()=>k(()=>import("./icons/quill-pen-line-h_5-FsGz.js"),[],import.meta.url),at:()=>k(()=>import("./icons/at-line-9vJS_Hnl.js"),[],import.meta.url),attachment:()=>k(()=>import("./icons/attachment-line-C2PUa1Ke.js"),[],import.meta.url),upload:()=>k(()=>import("./icons/upload-3-line-Qsjvubiw.js"),[],import.meta.url),gear:()=>k(()=>import("./icons/settings-3-line-kt4MSpRv.js"),[],import.meta.url),more:()=>k(()=>import("./icons/more-3-line-wUD-Yhmj.js"),[],import.meta.url),more2:()=>k(()=>import("./icons/more-1-fill-je1-slyh.js"),[],import.meta.url),external:{module:()=>k(()=>import("./icons/external-link-line-8nOOkmFu.js"),[],import.meta.url),rtl:!0},popout:{module:()=>k(()=>import("./icons/external-link-line-8nOOkmFu.js"),[],import.meta.url),rtl:!0},popin:{module:()=>k(()=>import("./icons/external-link-line-8nOOkmFu.js"),[],import.meta.url),rotate:"180deg",rtl:!0},plus:()=>k(()=>import("./icons/add-circle-line--O-MfyNy.js"),[],import.meta.url),"chevron-left":{module:()=>k(()=>import("./icons/left-line-Jck0yVmC.js"),[],import.meta.url),rtl:!0},"chevron-right":{module:()=>k(()=>import("./icons/right-line-7VBoqLdz.js"),[],import.meta.url),rtl:!0},"chevron-down":()=>k(()=>import("./icons/down-line-9PeS5YhF.js"),[],import.meta.url),reply:{module:()=>k(()=>import("./icons/share-forward-line-4jL-2Q4u.js"),[],import.meta.url),rotate:"180deg",flip:"horizontal",rtl:!0},thread:()=>k(()=>import("./icons/route-line-2YYy3958.js"),[],import.meta.url),group:{module:()=>k(()=>import("./icons/group-line-JvhJklhQ.js"),[],import.meta.url),rtl:!0},bot:()=>k(()=>import("./icons/android-2-line-uPwvVubH.js"),[],import.meta.url),menu:()=>k(()=>import("./icons/rows-4-line-SxGPYpTa.js"),[],import.meta.url),list:{module:()=>k(()=>import("./icons/list-check-line-qNqx9Mm4.js"),[],import.meta.url),rtl:!0},search:()=>k(()=>import("./icons/search-2-line-G39AynEw.js"),[],import.meta.url),hashtag:()=>k(()=>import("./icons/hashtag-line-SS3QMu1R.js"),[],import.meta.url),info:()=>k(()=>import("./icons/information-line-8SOch6cR.js"),[],import.meta.url),shortcut:()=>k(()=>import("./icons/lightning-line-JMYUlCZM.js"),[],import.meta.url),user:()=>k(()=>import("./icons/user-4-line-zT_bpOrS.js"),[],import.meta.url),following:()=>k(()=>import("./icons/walk-line-CF7a5s4t.js"),[],import.meta.url),pin:()=>k(()=>import("./icons/pin-line-ULyRQyWZ.js"),[],import.meta.url),unpin:[()=>k(()=>import("./icons/pin-line-ULyRQyWZ.js"),[],import.meta.url),"180deg"],bus:()=>k(()=>import("./icons/bus-2-line-XuQdDZ_w.js"),[],import.meta.url),link:()=>k(()=>import("./icons/link-2-line-BUqp1EwN.js"),[],import.meta.url),history:()=>k(()=>import("./icons/history-line-yoG7K8wL.js"),[],import.meta.url),share:()=>k(()=>import("./icons/share-2-line-PYo-zN94.js"),[],import.meta.url),sparkles:()=>k(()=>import("./icons/sparkles-line-wjZWGZ1a.js"),[],import.meta.url),sparkles2:()=>k(()=>import("./icons/sparkles-2-line-g2FqdZ0R.js"),[],import.meta.url),exit:{module:()=>k(()=>import("./icons/exit-line-l-1uUgI7.js"),[],import.meta.url),rtl:!0},translate:()=>k(()=>import("./icons/translate-line-HpDtlqS2.js"),[],import.meta.url),play:()=>k(()=>import("./icons/play-fill-Ey-zv2eL.js"),[],import.meta.url),trash:()=>k(()=>import("./icons/delete-2-line-pjUduCFs.js"),[],import.meta.url),mute:{module:()=>k(()=>import("./icons/volume-mute-line-WthBoXru.js"),[],import.meta.url),rtl:!0},unmute:{module:()=>k(()=>import("./icons/volume-line-PZujbN8h.js"),[],import.meta.url),rtl:!0},block:()=>k(()=>import("./icons/forbid-circle-line-3FxopGoP.js"),[],import.meta.url),unblock:[()=>k(()=>import("./icons/forbid-circle-line-3FxopGoP.js"),[],import.meta.url),"180deg"],flag:()=>k(()=>import("./icons/flag-1-line-xvcg7G7Q.js"),[],import.meta.url),time:()=>k(()=>import("./icons/time-line-ThP0kTRr.js"),[],import.meta.url),refresh:()=>k(()=>import("./icons/refresh-2-line-t42qqclb.js"),[],import.meta.url),emoji2:()=>k(()=>import("./icons/emoji-2-line--uNVc2IC.js"),[],import.meta.url),filter:()=>k(()=>import("./icons/filter-2-line-KyjbFYlO.js"),[],import.meta.url),filters:()=>k(()=>import("./icons/filter-line-1KEfnWDm.js"),[],import.meta.url),chart:()=>k(()=>import("./icons/chart-line-line-pHaLt6yC.js"),[],import.meta.url),react:()=>k(()=>import("./icons/react-line-YfZPqZem.js"),[],import.meta.url),layout4:{module:()=>k(()=>import("./icons/layout-4-line-FOdnyEcZ.js"),[],import.meta.url),rtl:!0},layout5:()=>k(()=>import("./icons/layout-5-line-9Kks7dle.js"),[],import.meta.url),announce:{module:()=>k(()=>import("./icons/announcement-line-MSlAmDH1.js"),[],import.meta.url),rtl:!0},alert:()=>k(()=>import("./icons/alert-line-zyc6hy8V.js"),[],import.meta.url),round:()=>k(()=>import("./icons/round-fill-a0rplSmV.js"),[],import.meta.url),"arrow-up-circle":()=>k(()=>import("./icons/arrow-up-circle-line-e3kZqEZN.js"),[],import.meta.url),"arrow-down-circle":()=>k(()=>import("./icons/arrow-down-circle-line-mpqFtRtO.js"),[],import.meta.url),clipboard:{module:()=>k(()=>import("./icons/clipboard-line-9F_Yeo71.js"),[],import.meta.url),rtl:!0},"account-edit":()=>k(()=>import("./icons/user-edit-line-9VnWCh0X.js"),[],import.meta.url),"account-warning":()=>k(()=>import("./icons/user-warning-line-gL3RGb1N.js"),[],import.meta.url),keyboard:()=>k(()=>import("./icons/keyboard-line-10AZQcVH.js"),[],import.meta.url),cloud:()=>k(()=>import("./icons/cloud-line-abe0HgFS.js"),[],import.meta.url),month:{module:()=>k(()=>import("./icons/calendar-month-line-VoXZVWAe.js"),[],import.meta.url),rtl:!0},media:()=>k(()=>import("./icons/photo-album-line--GdJqjfq.js"),[],import.meta.url),speak:()=>k(()=>import("./icons/radar-line-ndI8IhOG.js"),[],import.meta.url),building:()=>k(()=>import("./icons/building-5-line-ew7lu83B.js"),[],import.meta.url),history2:{module:()=>k(()=>import("./icons/history-2-line-3yIVzoWo.js"),[],import.meta.url),rtl:!0},document:()=>k(()=>import("./icons/document-line--D6ooZg1.js"),[],import.meta.url),"arrows-right":{module:()=>k(()=>import("./icons/arrows-right-line-HF4HILdT.js"),[],import.meta.url),rtl:!0},code:()=>k(()=>import("./icons/code-line-h4RWLaak.js"),[],import.meta.url),copy:()=>k(()=>import("./icons/copy-2-line-mPSDKieb.js"),[],import.meta.url),quote:{module:()=>k(()=>import("./icons/quote-left-line-NQzeELMO.js"),[],import.meta.url),rtl:!0},settings:()=>k(()=>import("./icons/settings-6-line-ZgCBilgF.js"),[],import.meta.url),"heart-break":()=>k(()=>import("./icons/heart-crack-line-P3DoKfTT.js"),[],import.meta.url),"user-x":()=>k(()=>import("./icons/user-x-line-zIdph-gu.js"),[],import.meta.url),minimize:()=>k(()=>import("./icons/arrows-down-line-ovOF9r0o.js"),[],import.meta.url),celebrate:()=>k(()=>import("./icons/celebrate-line-2j4SZgI5.js"),[],import.meta.url)},Ec={s:12,m:16,l:20,xl:24,xxl:32},li={},xc=Ha(function({width:e,height:t,body:n,rotate:o,flip:i}){return r("svg",{viewBox:`0 0 ${e} ${t}`,dangerouslySetInnerHTML:{__html:n},style:{transform:`${o?`rotate(${o})`:""} ${i?"scaleX(-1)":""}`}})},{isShallowEqual:!0,maxSize:Object.keys(Ts).length,matchesArg:(e,t)=>e.icon===t.icon&&e.body===t.body});function L({icon:e,size:t="m",alt:n,title:o,class:i="",style:a={}}){if(!e)return null;const s=Ec[t];let c=Ts[e];if(!c)return null;let l,u,d=!1;Array.isArray(c)?[c,l,u]=c:typeof c=="object"&&({rotate:l,flip:u,rtl:d}=c,c=c.module);const[f,p]=K(li[e]),h=D(e);return J(()=>{f&&h.current===e||((async()=>{const g=await c();p(g.default),li[e]=g.default})(),h.current=e)},[e]),r("span",{class:`icon ${i} ${d?"rtl-flip":""}`,title:o||n,style:{width:`${s}px`,height:`${s}px`,...a},"data-icon":e,children:f&&r(xc,{icon:e,width:f.width,height:f.height,body:f.body,rotate:l,flip:u})})}function Sc(e,t=[]){!e||typeof e!="function"||J(()=>{const n=new CloseWatcher;return n.addEventListener("close",e),()=>{n.destroy()}},t)}const kc=window.CloseWatcher?Sc:()=>{},Ac=document.getElementById("modal-container");function ui(){return getComputedStyle(document.documentElement).getPropertyValue("--backdrop-theme-color")}function ir({children:e,onClose:t,onClick:n,class:o,minimized:i}){if(!e)return null;const a=D();J(()=>{let f=setTimeout(()=>{var h;const p=(h=a.current)==null?void 0:h.querySelector('[tabindex="-1"]');p&&p.focus()},100);return()=>clearTimeout(f)},[]);const s=window.CloseWatcher,c=Ft("esc",()=>{setTimeout(()=>{t==null||t()},0)},{enabled:!s&&!!t,keydown:!1,keyup:!0},[t]);kc(t,[t]),J(()=>{const f=document.querySelectorAll(".deck-container");if(i){const p=f[f.length-1];p&&p.tabIndex===-1&&p.focus()}else e?f.forEach(p=>{p.setAttribute("inert","")}):f.forEach(p=>{p.removeAttribute("inert")});return()=>{f.forEach(p=>{p.removeAttribute("inert")})}},[e,i]);const l=D(),u=D();At(()=>{if(e&&!i)if(or.local.get("theme")){const p=ui();l.current=document.querySelector('meta[name="theme-color"][data-theme-setting="manual"]'),l.current&&(u.current=l.current.content,l.current.content=p)}else{const p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",h=ui();l.current=document.querySelector(`meta[name="theme-color"][media*="${p}"]`),l.current&&(u.current=l.current.content,l.current.content=h)}else l.current&&u.current&&(l.current.content=u.current);return()=>{l.current&&u.current&&(l.current.content=u.current)}},[e,i]);const d=r("div",{ref:f=>{var p;a.current=f,c(((p=f==null?void 0:f.querySelector)==null?void 0:p.call(f,'[tabindex="-1"]'))||f)},className:o,onClick:f=>{n==null||n(f),f.target===f.currentTarget&&(t==null||t(f))},tabIndex:i?0:"-1",inert:i,onFocus:f=>{var p,h;try{if(f.target===f.currentTarget){const g=(p=a.current)==null?void 0:p.querySelector('[tabindex="-1"]'),_=!!g&&((h=getComputedStyle(g))==null?void 0:h.pointerEvents)!=="none";g&&_&&g.focus()}}catch{}},children:e});return ao(d,Ac)}var no={exports:{}},Co,di;function Ic(){if(di)return Co;di=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Co=e,Co}var Po,fi;function Cc(){if(fi)return Po;fi=1;var e=Ic();function t(){}function n(){}return n.resetWarningCache=t,Po=function(){function o(s,c,l,u,d,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}o.isRequired=o;function i(){return o}var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Po}var rh=no.exports,hi;function Pc(){if(hi)return no.exports;if(hi=1,0)var e,t;else no.exports=Cc()();return no.exports}var j=Pc();const Ir=e=>!!e&&e[0]==="o",sr=Ba||(e=>e());const Tn=(e,t)=>e===!0||!!(e&&e[t]),Fe=(e,t)=>typeof e=="function"?e(t):e,Rc="_szhsinMenu",Lc=e=>e[Rc];const Gt=(e,t)=>(t&&Object.keys(t).forEach(n=>{const o=e[n],i=t[n];typeof i=="function"&&o?e[n]=(...a)=>{i(...a),o(...a)}:e[n]=i}),e),Mc=e=>{if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};const t=e.trim().split(/\s+/,4).map(parseFloat),n=isNaN(t[0])?0:t[0],o=isNaN(t[1])?n:t[1];return{top:n,right:o,bottom:isNaN(t[2])?n:t[2],left:isNaN(t[3])?o:t[3]}},Ro=e=>{for(;e;){if(e=e.parentNode,!e||e===document.body||!e.parentNode)return;const{overflow:t,overflowX:n,overflowY:o}=getComputedStyle(e);if(/auto|scroll|overlay|hidden/.test(t+o+n))return e}};function vo(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function pi(e,t){for(let n=0;n<e.length;n++)if(e[n]===t)return n;return-1}const Oc=e=>({[e?`${e}ClassName`:"className"]:j.oneOfType([j.string,j.func])}),Dc={className:j.string,...Oc("menu"),arrowProps:j.object,focusProps:j.object,menuStyle:j.object,arrow:j.bool,setDownOverflow:j.bool,gap:j.number,shift:j.number,align:j.oneOf(["start","center","end"]),direction:j.oneOf(["left","right","top","bottom"]),position:j.oneOf(["auto","anchor","initial"]),overflow:j.oneOf(["auto","visible","hidden"])},ih={...Dc,containerProps:j.object,initialMounted:j.bool,unmountOnClose:j.bool,transition:j.oneOfType([j.bool,j.exact({open:j.bool,close:j.bool,item:j.bool})]),transitionTimeout:j.number,boundingBoxRef:j.object,boundingBoxPadding:j.string,reposition:j.oneOf(["auto","initial"]),repositionFlag:j.oneOfType([j.string,j.number]),viewScroll:j.oneOf(["auto","close","initial"]),submenuOpenDelay:j.number,submenuCloseDelay:j.number,portal:j.oneOfType([j.bool,j.exact({target:j.object,stablePosition:j.bool})]),theming:j.string,onItemClick:j.func},sh={instanceRef:j.oneOfType([j.object,j.func]),onMenuChange:j.func},et=({block:e,element:t,modifiers:n,className:o})=>ie(()=>{const i=t?`${e}__${t}`:e;let a=i;n&&Object.keys(n).forEach(c=>{const l=n[c];l&&(a+=` ${i}--${l===!0?c:`${c}-${l}`}`)});let s=typeof o=="function"?o(n):o;return typeof s=="string"&&(s=s.trim(),s&&(a+=` ${s}`)),a},[e,t,n,o]),$c="szh-menu-container",Je="szh-menu";const Nc="arrow",Cr="item",Fc="divider",zc="header",Vc="group",Hc="submenu";const ws=ut(),Pr=ut({}),lo=ut({}),Rr=ut({}),Bc=ut({}),_o=ut({}),De=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),we=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),wn=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Vt=Object.freeze({FIRST:"first",LAST:"last"}),Uc=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),mi="absolute",Lr="none",Mr="menuitem",ar={preventScroll:!0};const jc=({className:e,containerRef:t,containerProps:n,children:o,isOpen:i,theming:a,transition:s,onClose:c})=>{const l=Tn(s,"item");return r("div",{...Gt({onKeyDown:({key:f})=>{switch(f){case De.ESC:Fe(c,{key:f,reason:wn.CANCEL});break}},onBlur:f=>{i&&!f.currentTarget.contains(f.relatedTarget)&&Fe(c,{reason:wn.BLUR})}},n),className:et({block:$c,modifiers:ie(()=>({theme:a,itemTransition:l}),[a,l]),className:e}),style:{position:"absolute",...n==null?void 0:n.style},ref:t,children:o})},Wc=()=>{let e,t=0;return{toggle:n=>{n?t++:t--,t=Math.max(t,0)},on:(n,o,i)=>{t?e||(e=setTimeout(()=>{e=0,o()},n)):i==null||i()},off:()=>{e&&(clearTimeout(e),e=0)}}},Kc=e=>{const[t,n]=K(),i=D({items:[],hoverIndex:-1,sorted:!1}).current,a=Se((c,l)=>{const{items:u}=i;if(!c)i.items=[];else if(l)u.push(c);else{const d=u.indexOf(c);d>-1&&(u.splice(d,1),c.contains(document.activeElement)&&(e.current.focus(ar),n()))}i.hoverIndex=-1,i.sorted=!1},[i,e]),s=Se((c,l,u)=>{const{items:d,hoverIndex:f}=i,p=()=>{if(i.sorted)return;const _=e.current.querySelectorAll(".szh-menu__item");d.sort((v,T)=>pi(_,v)-pi(_,T)),i.sorted=!0};let h=-1,g;switch(c){case we.RESET:break;case we.SET:g=l;break;case we.UNSET:g=_=>_===l?void 0:_;break;case we.FIRST:p(),h=0,g=d[h];break;case we.LAST:p(),h=d.length-1,g=d[h];break;case we.SET_INDEX:p(),h=u,g=d[h];break;case we.INCREASE:p(),h=f,h<0&&(h=d.indexOf(l)),h++,h>=d.length&&(h=0),g=d[h];break;case we.DECREASE:p(),h=f,h<0&&(h=d.indexOf(l)),h--,h<0&&(h=d.length-1),g=d[h];break;default:}g||(h=-1),n(g),i.hoverIndex=h},[e,i]);return{hoverItem:t,dispatch:s,updateItems:a}},gi=(e,t)=>Math.round(e)===t?e:t,Es=e=>{const t=e.getBoundingClientRect();return t.width=gi(t.width,e.offsetWidth),t.height=gi(t.height,e.offsetHeight),t},Zc=(e,t,n,o)=>{const i=Es(t.current),a=e.current.getBoundingClientRect(),s=n===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:n.getBoundingClientRect(),c=Mc(o),l=g=>g+a.left-s.left-c.left,u=g=>g+a.left+i.width-s.right+c.right,d=g=>g+a.top-s.top-c.top,f=g=>g+a.top+i.height-s.bottom+c.bottom;return{menuRect:i,containerRect:a,getLeftOverflow:l,getRightOverflow:u,getTopOverflow:d,getBottomOverflow:f,confineHorizontally:g=>{let _=l(g);if(_<0)g-=_;else{const v=u(g);v>0&&(g-=v,_=l(g),_<0&&(g-=_))}return g},confineVertically:g=>{let _=d(g);if(_<0)g-=_;else{const v=f(g);v>0&&(g-=v,_=d(g),_<0&&(g-=_))}return g}}},qc=({arrowRef:e,menuY:t,anchorRect:n,containerRect:o,menuRect:i})=>{let a=n.top-o.top-t+n.height/2;const s=e.current.offsetHeight*1.25;return a=Math.max(s,a),a=Math.min(a,i.height-s),a},Gc=({anchorRect:e,containerRect:t,menuRect:n,placeLeftorRightY:o,placeLeftX:i,placeRightX:a,getLeftOverflow:s,getRightOverflow:c,confineHorizontally:l,confineVertically:u,arrowRef:d,arrow:f,direction:p,position:h})=>{let g=p,_=o;h!=="initial"&&(_=u(_),h==="anchor"&&(_=Math.min(_,e.bottom-t.top),_=Math.max(_,e.top-t.top-n.height)));let v,T,b;return g==="left"?(v=i,h!=="initial"&&(T=s(v),T<0&&(b=c(a),(b<=0||-T>b)&&(v=a,g="right")))):(v=a,h!=="initial"&&(b=c(v),b>0&&(T=s(i),(T>=0||-T<b)&&(v=i,g="left")))),h==="auto"&&(v=l(v)),{arrowY:f?qc({menuY:_,arrowRef:d,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:v,y:_,computedDirection:g}},Yc=({arrowRef:e,menuX:t,anchorRect:n,containerRect:o,menuRect:i})=>{let a=n.left-o.left-t+n.width/2;const s=e.current.offsetWidth*1.25;return a=Math.max(s,a),a=Math.min(a,i.width-s),a},Xc=({anchorRect:e,containerRect:t,menuRect:n,placeToporBottomX:o,placeTopY:i,placeBottomY:a,getTopOverflow:s,getBottomOverflow:c,confineHorizontally:l,confineVertically:u,arrowRef:d,arrow:f,direction:p,position:h})=>{let g=p==="top"?"top":"bottom",_=o;h!=="initial"&&(_=l(_),h==="anchor"&&(_=Math.min(_,e.right-t.left),_=Math.max(_,e.left-t.left-n.width)));let v,T,b;return g==="top"?(v=i,h!=="initial"&&(T=s(v),T<0&&(b=c(a),(b<=0||-T>b)&&(v=a,g="bottom")))):(v=a,h!=="initial"&&(b=c(v),b>0&&(T=s(i),(T>=0||-T<b)&&(v=i,g="top")))),h==="auto"&&(v=u(v)),{arrowX:f?Yc({menuX:_,arrowRef:d,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:_,y:v,computedDirection:g}},Qc=({arrow:e,align:t,direction:n,gap:o,shift:i,position:a,anchorRect:s,arrowRef:c,positionHelpers:l})=>{const{menuRect:u,containerRect:d}=l,f=n==="left"||n==="right";let p=f?o:i,h=f?i:o;if(e){const m=c.current;f?p+=m.offsetWidth:h+=m.offsetHeight}const g=s.left-d.left-u.width-p,_=s.right-d.left+p,v=s.top-d.top-u.height-h,T=s.bottom-d.top+h;let b,E;t==="end"?(b=s.right-d.left-u.width,E=s.bottom-d.top-u.height):t==="center"?(b=s.left-d.left-(u.width-s.width)/2,E=s.top-d.top-(u.height-s.height)/2):(b=s.left-d.left,E=s.top-d.top),b+=p,E+=h;const A={...l,anchorRect:s,placeLeftX:g,placeRightX:_,placeLeftorRightY:E,placeTopY:v,placeBottomY:T,placeToporBottomX:b,arrowRef:c,arrow:e,direction:n,position:a};switch(n){case"left":case"right":return Gc(A);case"top":case"bottom":default:return Xc(A)}},Ht=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?At:J;function vi(e,t){typeof e=="function"?e(t):e.current=t}const Yt=(e,t)=>ie(()=>e?t?n=>{vi(e,n),vi(t,n)}:e:t,[e,t]),_i=-9999,xs=({ariaLabel:e,menuClassName:t,menuStyle:n,arrow:o,arrowProps:i={},anchorPoint:a,anchorRef:s,containerRef:c,containerProps:l,externalRef:u,parentScrollingRef:d,align:f="start",direction:p="bottom",position:h="auto",overflow:g="visible",setDownOverflow:_,repositionFlag:v,captureFocus:T=!0,state:b,endTransition:E,isDisabled:A,menuItemFocus:m,gap:x=0,shift:w=0,children:P,onClose:M,focusProps:R,...S})=>{const[I,N]=K({x:_i,y:_i}),[Z,B]=K({}),[X,se]=K(),[re,ee]=K(p),[Q]=K(Wc),[ge,pe]=ls(q=>q+1,1),{transition:V,boundingBoxRef:ae,boundingBoxPadding:ce,rootMenuRef:Me,rootAnchorRef:ve,scrollNodesRef:ze,reposition:Ae,viewScroll:Te,submenuCloseDelay:Ve}=$e(_o),{submenuCtx:Ie,reposSubmenu:F=v}=$e(lo),Y=D(),ft=D(),nt=D(!1),{hoverItem:ne,dispatch:z,updateItems:te}=Kc(Y),U=Ir(b),be=Tn(V,"open"),le=Tn(V,"close"),_e=ze.current,oe=q=>{switch(q.key){case De.HOME:z(we.FIRST);break;case De.END:z(we.LAST);break;case De.UP:z(we.DECREASE,ne);break;case De.DOWN:z(we.INCREASE,ne);break;case De.SPACE:q.target&&q.target.className.indexOf(Je)!==-1&&q.preventDefault();return;default:return}q.preventDefault(),q.stopPropagation()},je=()=>{b==="closing"&&se(),Fe(E)},In=q=>{q.stopPropagation(),Q.on(Ve,()=>{z(we.RESET),Y.current.focus(ar)})},me=q=>{q.target===q.currentTarget&&Q.off()},fe=Se(q=>{var xe;const Ce=s?(xe=s.current)==null?void 0:xe.getBoundingClientRect():a?{left:a.x,right:a.x,top:a.y,bottom:a.y,width:0,height:0}:null;if(!Ce)return;_e.menu||(_e.menu=(ae?ae.current:Ro(Me.current))||window);const Pe=Zc(c,Y,_e.menu,ce);let{arrowX:he,arrowY:Tt,x:Jt,y:ot,computedDirection:Pn}=Qc({arrow:o,align:f,direction:p,gap:x,shift:w,position:h,anchorRect:Ce,arrowRef:ft,positionHelpers:Pe});const{menuRect:Rn}=Pe,Ze=Rn.height;if(!q&&g!=="visible"){const{getTopOverflow:Ln,getBottomOverflow:Ke}=Pe;let qe,en;const tn=Ke(ot);if(tn>0)qe=Ze-tn,en=tn;else{const ue=Ln(ot);ue<0&&(qe=Ze+ue,en=0-ue,qe>=0&&(ot-=ue))}qe>=0&&se({height:qe,overflowAmt:en})}o&&B({x:he,y:Tt}),N({x:Jt,y:ot}),ee(Pn)},[o,f,ce,p,x,w,h,g,a,s,c,ae,Me,_e]);Ht(()=>{U&&(fe(),nt.current&&pe()),nt.current=U},[U,fe,F]),Ht(()=>{X&&!_&&(Y.current.scrollTop=0)},[X,_]),Ht(()=>te,[te]),J(()=>{let{menu:q}=_e;if(!U||!q)return;if(q=q.addEventListener?q:window,!_e.anchors){_e.anchors=[];let he=Ro(ve&&ve.current);for(;he&&he!==q;)_e.anchors.push(he),he=Ro(he)}let xe=Te;if(_e.anchors.length&&xe==="initial"&&(xe="auto"),xe==="initial")return;const Ce=()=>{xe==="auto"?sr(()=>fe(!0)):Fe(M,{reason:wn.SCROLL})},Pe=_e.anchors.concat(Te!=="initial"?q:[]);return Pe.forEach(he=>he.addEventListener("scroll",Ce)),()=>Pe.forEach(he=>he.removeEventListener("scroll",Ce))},[ve,_e,U,M,Te,fe]);const We=!!X&&X.overflowAmt>0;J(()=>{if(We||!U||!d)return;const q=()=>sr(fe),xe=d.current;return xe.addEventListener("scroll",q),()=>xe.removeEventListener("scroll",q)},[U,We,d,fe]),J(()=>{if(!U||typeof ResizeObserver!="function"||Ae==="initial")return;const q=[],xe=new ResizeObserver(he=>he.forEach(({target:Tt})=>{q.indexOf(Tt)<0?q.push(Tt):Ua(()=>{fe(),pe()})})),Ce={box:"border-box"};xe.observe(Y.current,Ce);const Pe=s==null?void 0:s.current;return Pe&&xe.observe(Pe,Ce),()=>xe.disconnect()},[U,Ae,s,fe]),J(()=>{if(!U){z(we.RESET),le||se();return}const{position:q,alwaysUpdate:xe}=m||{},Ce=()=>{q===Vt.FIRST?z(we.FIRST):q===Vt.LAST?z(we.LAST):q>=-1&&z(we.SET_INDEX,void 0,q)};if(xe)Ce();else if(T){const Pe=setTimeout(()=>{const he=Y.current;he&&!he.contains(document.activeElement)&&(he.focus(ar),Ce())},be?170:100);return()=>clearTimeout(Pe)}},[U,be,le,T,m,z]);const Ne=ie(()=>({isParentOpen:U,submenuCtx:Q,dispatch:z,updateItems:te}),[U,Q,z,te]);let Ge,Ct;X&&(_?Ct=X.overflowAmt:Ge=X.height);const Pt=ie(()=>({reposSubmenu:ge,submenuCtx:Q,overflow:g,overflowAmt:Ct,parentMenuRef:Y,parentDir:re}),[ge,Q,g,Ct,re]),Xt=Ge>=0?{maxHeight:Ge,overflow:g}:void 0,Cn=ie(()=>({state:b,align:f,dir:re}),[b,f,re]),ye=ie(()=>({dir:re}),[re]),Qt=et({block:Je,element:Nc,modifiers:ye,className:i.className}),ht=r("ul",{role:"menu","aria-label":e,...vo(A),...Gt({onPointerEnter:Ie==null?void 0:Ie.off,onPointerMove:In,onPointerLeave:me,onKeyDown:oe,onAnimationEnd:je},S),ref:Yt(u,Y),className:et({block:Je,modifiers:Cn,className:t}),style:{...n,...Xt,margin:0,display:b==="closed"?"none":void 0,position:mi,left:I.x,top:I.y},children:[o&&r("li",{"aria-hidden":!0,...i,className:Qt,style:{display:"block",position:mi,left:Z.x,top:Z.y,...i.style},ref:ft}),r(lo.Provider,{value:Pt,children:r(Pr.Provider,{value:Ne,children:r(ws.Provider,{value:ne,children:Fe(P,Cn)})})})]});return l?r(jc,{...l,isOpen:U,children:ht}):ht},Ss=yt(function({"aria-label":t,className:n,containerProps:o,initialMounted:i,unmountOnClose:a,transition:s,transitionTimeout:c,boundingBoxRef:l,boundingBoxPadding:u,reposition:d="auto",submenuOpenDelay:f=300,submenuCloseDelay:p=150,viewScroll:h="initial",portal:g,theming:_,onItemClick:v,...T},b){const E=D(null),A=D({}),{anchorRef:m,state:x,onClose:w}=T,P=ie(()=>({initialMounted:i,unmountOnClose:a,transition:s,transitionTimeout:c,boundingBoxRef:l,boundingBoxPadding:u,rootMenuRef:E,rootAnchorRef:m,scrollNodesRef:A,reposition:d,viewScroll:h,submenuOpenDelay:f,submenuCloseDelay:p}),[i,a,s,c,m,l,u,d,h,f,p]),M=ie(()=>({handleClick(S,I){S.stopPropagation||Fe(v,S);let N=S.keepOpen;N===void 0&&(N=I&&S.key===De.SPACE),N||Fe(w,{value:S.value,key:S.key,reason:wn.CLICK})},handleClose(S){Fe(w,{key:S,reason:wn.CLICK})}}),[v,w]);if(!x)return null;const R=r(_o.Provider,{value:P,children:r(Rr.Provider,{value:M,children:r(xs,{...T,ariaLabel:t||"Menu",externalRef:b,containerRef:E,containerProps:{className:n,containerRef:E,containerProps:o,theming:_,transition:s,onClose:w}})})});return g===!0&&typeof document<"u"?ao(R,document.body):g?g.target?ao(R,g.target):g.stablePosition?null:R:R}),cr=0,lr=1,uo=2,fo=3,ho=4,Jc=5,ks=6,el=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],As=e=>({_s:e,status:el[e],isEnter:e<fo,isMounted:e!==ks,isResolved:e===uo||e>ho}),ur=e=>e?ks:Jc,tl=(e,t)=>{switch(e){case lr:case cr:return uo;case ho:case fo:return ur(t)}},nl=e=>typeof e=="object"?[e.enter,e.exit]:[e,e],ol=(e,t)=>setTimeout(()=>{isNaN(document.body.offsetTop)||e(t+1)},0),yi=(e,t,n,o,i)=>{clearTimeout(o.current);const a=As(e);t(a),n.current=a,i&&i({current:a})},rl=({enter:e=!0,exit:t=!0,preEnter:n,preExit:o,timeout:i,initialEntered:a,mountOnEnter:s,unmountOnExit:c,onStateChange:l}={})=>{const[u,d]=K(()=>As(a?uo:ur(s))),f=D(u),p=D(),[h,g]=nl(i),_=Se(()=>{const T=tl(f.current._s,c);T&&yi(T,d,f,p,l)},[l,c]),v=Se(T=>{const b=A=>{switch(yi(A,d,f,p,l),A){case lr:h>=0&&(p.current=setTimeout(_,h));break;case ho:g>=0&&(p.current=setTimeout(_,g));break;case cr:case fo:p.current=ol(b,A);break}},E=f.current.isEnter;typeof T!="boolean"&&(T=!E),T?!E&&b(e?n?cr:lr:uo):E&&b(t?o?fo:ho:ur(c))},[_,l,e,t,n,o,h,g,c]);return J(()=>()=>clearTimeout(p.current),[]),[u,v,_]};const il=({initialOpen:e,initialMounted:t,unmountOnClose:n,transition:o,transitionTimeout:i=500}={})=>{const[{status:a},s,c]=rl({initialEntered:e,mountOnEnter:!t,unmountOnExit:n,timeout:i,enter:Tn(o,"open"),exit:Tn(o,"close")});return[{state:Uc[a],endTransition:c},s]},Is=e=>{const[t,n]=il(e),[o,i]=K(),a=(s,c)=>{i({position:s,alwaysUpdate:c}),n(!0)};return[{menuItemFocus:o,...t},n,a]},sl=(e,t)=>{const[n]=K({});return{onMouseDown:()=>{n.v=e&&e!=="closed"},onClick:o=>n.v?n.v=!1:t(!0,o)}},Cs=(e,t)=>{const n=D(t);J(()=>{n.current!==t&&Fe(e,{open:t}),n.current=t},[e,t])},al=yt(function({"aria-label":t,captureFocus:n,initialOpen:o,menuButton:i,instanceRef:a,onMenuChange:s,...c},l){const[u,d,f]=Is(c),{state:p}=u,h=Ir(p),g=D(null),_=sl(p,(m,x)=>f(x.detail?void 0:Vt.FIRST)),v=Se(m=>{d(!1),m.key&&g.current.focus()},[d]),T=m=>{switch(m.key){case De.UP:f(Vt.LAST);break;case De.DOWN:f(Vt.FIRST);break;default:return}m.preventDefault()},b=Fe(i,{open:h});if(!b||!b.type)throw new Error("Menu requires a menuButton prop.");const E={ref:Yt(b.ref,g),...Gt({onKeyDown:T,..._},b.props)};Lc(b.type)==="MenuButton"&&(E.isOpen=h);const A=us(b,E);return Cs(s,h),ds(a,()=>({openMenu:f,closeMenu:()=>d(!1)})),r($,{children:[A,r(Ss,{...c,...u,"aria-label":t||(typeof b.props.children=="string"?b.props.children:"Menu"),anchorRef:g,ref:l,onClose:v})]})}),Or=(e,t)=>{const n=qt(t),o=yt((i,a)=>{const s=D(null);return r(n,{...i,itemRef:s,externalRef:a,isHovering:$e(ws)===s.current})});return o.displayName=`WithHovering(${e})`,o},Ps=(e,t,n)=>{Ht(()=>{if(e)return;const o=t.current;return n(o,!0),()=>{n(o)}},[e,t,n])},cl=Or("SubMenu",function({"aria-label":t,className:n,disabled:o,direction:i,label:a,openTrigger:s,onMenuChange:c,isHovering:l,instanceRef:u,itemRef:d,captureFocus:f,repositionFlag:p,itemProps:h={},...g}){const _=$e(_o),{rootMenuRef:v,submenuOpenDelay:T,submenuCloseDelay:b}=_,{parentMenuRef:E,parentDir:A,overflow:m}=$e(lo),{isParentOpen:x,submenuCtx:w,dispatch:P,updateItems:M}=$e(Pr),R=m!=="visible",[S,I,N]=Is(_),{state:Z}=S,B=!!o,X=Ir(Z),se=D(null),[re]=K({v:0}),ee=()=>{w.off(),re.v&&(clearTimeout(re.v),re.v=0)},Q=(...F)=>{ee(),ge(),!B&&N(...F)},ge=()=>!l&&!B&&P(we.SET,d.current),pe=F=>{ge(),s||(re.v=setTimeout(()=>sr(Q),Math.max(F,0)))},V=F=>{B||(F.stopPropagation(),!(re.v||X)&&w.on(b,()=>pe(T-b),()=>pe(T)))},ae=()=>{ee(),X||P(we.UNSET,d.current)},ce=F=>{if(l)switch(F.key){case De.ENTER:F.preventDefault();case De.SPACE:case De.RIGHT:s!=="none"&&Q(Vt.FIRST)}},Me=F=>{let Y=!1;switch(F.key){case De.LEFT:X&&(d.current.focus(),I(!1),Y=!0);break;case De.RIGHT:X||(Y=!0);break}Y&&(F.preventDefault(),F.stopPropagation())};Ps(B,d,M),Cs(c,X),J(()=>w.toggle(X),[w,X]),J(()=>()=>clearTimeout(re.v),[re]),J(()=>{l&&x?d.current.focus():I(!1)},[l,x,I,d]),ds(u,()=>({openMenu:(...F)=>{x&&Q(...F)},closeMenu:()=>{X&&(d.current.focus(),I(!1))}}));const ve=ie(()=>({open:X,hover:l,disabled:B,submenu:!0}),[X,l,B]),{ref:ze,className:Ae,...Te}=h,Ve=Gt({onPointerEnter:w.off,onPointerMove:V,onPointerLeave:ae,onKeyDown:ce,onClick:()=>s!=="none"&&Q()},Te),Ie=()=>{const F=r(xs,{...g,...S,ariaLabel:t||(typeof a=="string"?a:"Submenu"),anchorRef:d,containerRef:R?v:se,direction:i||(A==="right"||A==="left"?A:"right"),parentScrollingRef:R&&E,isDisabled:B}),Y=v.current;return R&&Y?ao(F,Y):F};return r("li",{className:et({block:Je,element:Hc,className:n}),style:{position:"relative"},role:Lr,ref:se,onKeyDown:Me,children:[r("div",{role:Mr,"aria-haspopup":!0,"aria-expanded":X,...vo(B,l),...Ve,ref:Yt(ze,d),className:et({block:Je,element:Cr,modifiers:ve,className:Ae}),children:ie(()=>Fe(a,ve),[a,ve])}),Z&&Ie()]})}),Rs=(e,t,n,o)=>{const{submenuCloseDelay:i}=$e(_o),{isParentOpen:a,submenuCtx:s,dispatch:c,updateItems:l}=$e(Pr),u=()=>{!n&&!o&&c(we.SET,e.current)},d=()=>{!o&&c(we.UNSET,e.current)},f=g=>{n&&!g.currentTarget.contains(g.relatedTarget)&&d()},p=g=>{o||(g.stopPropagation(),s.on(i,u,u))},h=(g,_)=>{s.off(),!_&&d()};return Ps(o,e,l),J(()=>{n&&a&&t.current&&t.current.focus()},[t,n,a]),{setHover:u,onBlur:f,onPointerMove:p,onPointerLeave:h}},Ee=Or("MenuItem",function({className:t,value:n,href:o,type:i,checked:a,disabled:s,children:c,onClick:l,isHovering:u,itemRef:d,externalRef:f,...p}){const h=!!s,{setHover:g,..._}=Rs(d,d,u,h),v=$e(Rr),T=$e(Bc),b=i==="radio",E=i==="checkbox",A=!!o&&!h&&!b&&!E,m=b?T.value===n:E?!!a:!1,x=S=>{if(h){S.stopPropagation(),S.preventDefault();return}const I={value:n,syntheticEvent:S};S.key!==void 0&&(I.key=S.key),E&&(I.checked=!m),b&&(I.name=T.name),Fe(l,I),b&&Fe(T.onRadioChange,I),v.handleClick(I,E||b)},w=S=>{if(u)switch(S.key){case De.ENTER:S.preventDefault();case De.SPACE:A?d.current.click():x(S)}},P=ie(()=>({type:i,disabled:h,hover:u,checked:m,anchor:A}),[i,h,u,m,A]),M=Gt({..._,onPointerDown:g,onKeyDown:w,onClick:x},p),R={role:b?"menuitemradio":E?"menuitemcheckbox":Mr,"aria-checked":b||E?m:void 0,...vo(h,u),...M,ref:Yt(f,d),className:et({block:Je,element:Cr,modifiers:P,className:t}),children:ie(()=>Fe(c,P),[c,P])};return A?r("li",{role:Lr,children:r("a",{href:o,...R})}):r("li",{...R})}),ll=Or("FocusableItem",function({className:t,disabled:n,children:o,isHovering:i,itemRef:a,externalRef:s,...c}){const l=!!n,u=D(null),{setHover:d,onPointerLeave:f,...p}=Rs(a,u,i,l),{handleClose:h}=$e(Rr),g=ie(()=>({disabled:l,hover:i,focusable:!0}),[l,i]),_=ie(()=>Fe(o,{...g,ref:u,closeMenu:h}),[o,g,h]),v=Gt({...p,onPointerLeave:T=>f(T,!0),onFocus:d},c);return r("li",{role:Mr,...vo(l),...v,ref:Yt(s,a),className:et({block:Je,element:Cr,modifiers:g,className:t}),children:_})}),an=qt(yt(function({className:t,...n},o){return r("li",{role:"separator",...n,ref:o,className:et({block:Je,element:Fc,className:t})})})),ah=qt(yt(function({className:t,...n},o){return r("li",{role:Lr,...n,ref:o,className:et({block:Je,element:zc,className:t})})})),ch=yt(function({className:t,style:n,takeOverflow:o,...i},a){const s=D(null),[c,l]=K(),{overflow:u,overflowAmt:d}=$e(lo);return Ht(()=>{let f;o&&d>=0&&(f=Es(s.current).height-d,f<0&&(f=0)),l(f>=0?{maxHeight:f,overflow:u}:void 0)},[o,u,d]),Ht(()=>{c&&(s.current.scrollTop=0)},[c]),r("div",{...i,ref:Yt(a,s),className:et({block:Je,element:Vc,className:t}),style:{...n,...c}})});const bi={s:16,m:20,l:24,xl:32,xxl:50,xxxl:64},cn={},fn=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas"),oo=fn.getContext("2d",{willReadFrequently:!0});oo.imageSmoothingEnabled=!1;const ul=/missing\.png$/;function dl({url:e,size:t,alt:n="",squircle:o,...i}){t=bi[t]||t||bi.m;const a=D(),s=ul.test(e);return r("span",{ref:a,class:`avatar ${o?"squircle":""} ${cn[e]?"has-alpha":""}`,style:{width:t,height:t},title:n,...i,children:!!e&&r("img",{src:e,width:t,height:t,alt:n,loading:"lazy",decoding:"async",fetchPriority:"low",crossOrigin:cn[e]===void 0&&!s?"anonymous":void 0,onError:c=>{c.target.crossOrigin&&(c.target.crossOrigin=null,c.target.src=e)},onLoad:c=>{a.current&&(a.current.dataset.loaded=!0),cn[e]===void 0&&(s||setTimeout(()=>{try{const{width:l,height:u}=c.target;fn.width!==l&&(fn.width=l),fn.height!==u&&(fn.height=u),oo.drawImage(c.target,0,0);const d=oo.getImageData(0,0,l,u),f=d.data.filter((p,h)=>h%4===3&&p<=128).length/(d.data.length/4)>.1;f&&a.current.classList.add("has-alpha"),cn[e]=f,oo.clearRect(0,0,l,u)}catch{cn[e]=!1}},1))}})})}const at=Le(dl),Ut=yt((e,t)=>{var c;let n;try{n=ja()}catch{}let o=(location.hash||"").replace(/^#/,"").trim();o===""&&(o="/");const{to:i,...a}=e;if(o&&o!=="/"&&o.includes("?")){const l=URL.parse(o,location.origin);if((c=l==null?void 0:l.searchParams)!=null&&c.size){const u=Array.from(l.searchParams.entries()).map(([d,f])=>`${d}=${encodeURIComponent(f)}`).join("&");o=l.pathname+"?"+u}}const s=o===i||decodeURIComponent(o)===i;return r("a",{ref:t,href:`#${i}`,...a,class:`${e.class||""} ${s?"is-active":""}`,onClick:l=>{var u,d,f;(d=(u=l.currentTarget)==null?void 0:u.parentNode)!=null&&d.closest("a")&&l.stopPropagation(),n&&(H.prevLocation=n),(f=e.onClick)==null||f.call(e,l)}})});let dr=!1;const fl=new MutationObserver(e=>{e.forEach(t=>{if(t.type==="attributes"){const{dir:n}=t.target;n==="rtl"?dr=!0:dr=!1}})});fl.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});function fr(){return dr}const hl=document.documentElement,jn=getComputedStyle(hl),pl=8;let Ls=[0,0,0,0];function Ms(){const e=jn.getPropertyValue("--sai-top"),t=jn.getPropertyValue("--sai-right"),n=jn.getPropertyValue("--sai-bottom"),o=jn.getPropertyValue("--sai-left");Ls=[Math.max(0,parseInt(e,10)),Math.max(0,parseInt(t,10)),Math.max(0,parseInt(n,10)),Math.max(0,parseInt(o,10))]}requestAnimationFrame(Ms);function Os(e=[]){return Ls.map((n,o)=>(n||pl)+(e[o]||0)).join(" ")}CSS.supports("top: env(safe-area-inset-top)")&&window.addEventListener("resize",Ms,{passive:!0});function ml(){const[e,t]=K({width:null,height:null});return At(()=>{const n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n,{passive:!0}),()=>{window.removeEventListener("resize",n)}},[]),e}function Ds(e){const{containerProps:t,instanceRef:n,align:o}=e,i=ml(),a=n!=null&&n.current?n:D(),s=fr()?o==="end"?"start":o==="start"?"end":o:o;return r(al,{boundingBoxPadding:Os(),repositionFlag:`${i.width}x${i.height}`,unmountOnClose:!0,...e,align:s,instanceRef:a,containerProps:{onClick:c=>{var l,u,d;c.target===c.currentTarget&&((u=(l=a.current)==null?void 0:l.closeMenu)==null||u.call(l)),(d=t==null?void 0:t.onClick)==null||d.call(t,c)},...t}})}function gl(e){const t=D();return r(cl,{...e,instanceRef:t,itemProps:{onPointerMove:n=>{var o,i;n.pointerType==="touch"&&((i=(o=t.current)==null?void 0:o.openMenu)==null||i.call(o))},onPointerLeave:n=>{var o,i;n.pointerType==="touch"&&((i=(o=t.current)==null?void 0:o.openMenu)==null||i.call(o))},...e.itemProps}})}function Lo({subMenu:e=!1,confirm:t=!0,confirmLabel:n,menuItemClassName:o,menuFooter:i,menuExtras:a,...s}){const{children:c,onClick:l,...u}=s;return t?r(e?gl:Ds,{openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",...u,menuButton:e?void 0:c,label:e?c:void 0,children:[r(Ee,{className:o,onClick:l,children:n}),a,i]}):e?r(Ee,{...s}):l?Wa(c,{onClick:l}):c}function Ti(e){const{className:t,disabled:n,...o}=e;return r(ll,{className:t,disabled:n,children:({ref:i,closeMenu:a})=>r(Ut,{...o,ref:i,onClick:({detail:s})=>a(s===0?"Enter":void 0)})})}function hr({staticUrl:e,alt:t,url:n}){return r("picture",{children:[e&&r("source",{srcset:e,media:"(prefers-reduced-motion: reduce)"}),r("img",{src:n,alt:t,class:"shortcode-emoji emoji",width:"16",height:"16",loading:"lazy",decoding:"async",fetchPriority:"low"},t||n)]})}const vl=Le(e=>new RegExp(`:(${e.join("|")}):`,"g"));function _l({text:e,emojis:t}){if(!e)return"";if(!(t!=null&&t.length)||e.indexOf(":")===-1)return e;const n=vl(t.map(i=>i.shortcode));return e.split(n).map((i,a)=>{const s=t.find(c=>c.shortcode===i);if(s){const{url:c,staticUrl:l}=s;return r(hr,{staticUrl:l,alt:i,url:c},i+"-"+a)}return i})}const jt=Le(_l),yl=Le(e=>{const t={sensitivity:"base"};try{return new Intl.Collator(e||void 0,t)}catch{return new Intl.Collator(void 0,t)}}),bl=/([^@]+)(@.+)/i,Tl=/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,wl=/\s+/g,El=/[^a-z0-9@\.]/gi;function xl({account:e,instance:t,showAvatar:n,showAcct:o,short:i,external:a,onClick:s}){const{i18n:c}=tt(),{acct:l,avatar:u,avatarStatic:d,id:f,url:p,displayName:h,emojis:g,bot:_,username:v}=e,[T,b,E]=l.match(bl)||[,l];t||(t=co().instance);const A=v.toLowerCase().trim(),m=(h||"").toLowerCase().trim(),x=m.replace(Tl,"").replace(wl,""),w=x.replace(El,""),P=!i&&(A===m||A===x||A===w||yl(c.locale).compare(A,x)===0)||w===l.toLowerCase();return r("a",{class:`name-text ${o?"show-acct":""} ${i?"short":""}`,href:p,target:a?"_blank":null,title:h?`${h} (${E?"":"@"}${l})`:`${E?"":"@"}${l}`,onClick:M=>{if(!a&&!M.shiftKey){if(M.preventDefault(),M.stopPropagation(),s)return s(M);if(M.metaKey||M.ctrlKey||M.shiftKey||M.which===2){const R=`#/${t}/a/${f}`;window.open(R,"_blank");return}H.showAccount={account:e,instance:t}}},children:[n&&r($,{children:[r(at,{url:d||u,squircle:_})," "]}),h&&!i?r($,{children:[r("b",{dir:"auto",children:r(jt,{text:h,emojis:g})}),!o&&!P&&r($,{children:[" ",r("i",{class:"bidi-isolate",children:["@",v]})]})]}):i?r("i",{children:v}):r("b",{children:v}),o&&r($,{children:[r("br",{}),r("i",{class:"bidi-isolate",children:[E?"":"@",b,!!E&&r("span",{class:"ib",children:E})]})]})]})}const _t=Le(xl),Wn={"zh-YUE":"YUE",zh_HANT:"zh-Hant"},Mo=Le(e=>new Intl.DisplayNames(e||void 0,{type:"language"}));function Sl(e){let t,n;typeof e=="object"&&({code:e,locale:t,fallback:n}=e);try{const o=Mo(t||ke.locale).of(e);if(o!==e)return o;if(!n){const i=Mo(e).of(e);if(i!==e)return i}return n||""}catch{if(Wn[e])try{const i=Mo(Wn[t]||t||ke.locale).of(Wn[e]);return i!==Wn[e]?i:n||""}catch{}return n||""}}const ln=Le(Sl);function wi(e){if(e instanceof Date)return!isNaN(e.getTime());{const t=new Date(e);return!isNaN(t.getTime())}}const kl=Le(()=>new Intl.DateTimeFormat().resolvedOptions().locale),Ei=Le((e,t={})=>{const n=e.replace(/-[a-z]+$/i,""),o=bn([n],[kl()],e);try{return new Intl.DateTimeFormat(o,t)}catch{}try{return new Intl.DateTimeFormat(e,t)}catch{}return new Intl.DateTimeFormat(void 0,t)}),Al=Le(e=>new Intl.RelativeTimeFormat(e||void 0)),Wt=60,Kt=60*Wt,pr=24*Kt,Il=e=>{const t=Al(ke.locale),n=(e.getTime()-Date.now())/1e3,o=Math.abs(n);return o<Wt?t.format(n,"second"):o<Kt?t.format(Math.floor(n/Wt),"minute"):o<pr?t.format(Math.floor(n/Kt),"hour"):t.format(Math.floor(n/pr),"day")},Cl=e=>{const t=(Date.now()-e.getTime())/1e3;return t<Wt?ke._({id:"NnRCUm",values:{0:t<1?1:Math.floor(t)}}):t<Kt?ke._({id:"ZSWUwq",values:{0:Math.floor(t/Wt)}}):ke._({id:"NSSJsj",values:{0:Math.floor(t/Kt)}})};function ct({datetime:e,format:t}){if(!e)return null;const[n,o]=ls(l=>l+1,0),i=ie(()=>new Date(e),[e]),[a,s,c]=ie(()=>{if(!wi(i))return[""+e,"",""];let l;if(t==="micro"){const u=new Date;(u.getTime()-i.getTime())/1e3/pr<=1?l=Cl(i):u.getFullYear()===i.getFullYear()?l=Ei(ke.locale,{year:void 0,month:"short",day:"numeric"}).format(i):l=Ei(ke.locale,{dateStyle:"short"}).format(i)}return l||(l=Il(i)),[l,i.toISOString(),i.toLocaleString()]},[i,t,n]);return J(()=>{if(!wi(i))return;let l,u;function d(){u=requestAnimationFrame(()=>{o(),f()})}function f(){const p=(Date.now()-i.getTime())/1e3;p<Wt?l=setTimeout(d,1e4):p<Kt&&(l=setTimeout(d,6e4))}return f(),()=>{clearTimeout(l),cancelAnimationFrame(u)}},[]),r("time",{datetime:s,title:c,children:a})}const Pl=[{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"zh_HANT",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}],Rl=Le(()=>[new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages]),Ll=()=>bn(Rl(),Pl.map(e=>e.code.replace("_","-")),"en");function $s(e=!1){if(e){const{contentTranslationTargetLanguage:t}=H.settings;if(t)return t}return Ll()}const xi=["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"];function lh(e){const t=Math.min(Math.floor(Math.log2(e)/10),xi.length-1),n=e/1024**t;return ke.number(n,{style:"unit",unit:xi[t],unitDisplay:"narrow",maximumFractionDigits:0})}const Ml=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,po=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(Ml);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},Si=e=>e==="*"||e==="x"||e==="X",ki=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},Ol=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],Dl=(e,t)=>{if(Si(e)||Si(t))return 0;const[n,o]=Ol(ki(e),ki(t));return n>o?1:n<o?-1:0},zt=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const o=Dl(e[n]||"0",t[n]||"0");if(o!==0)return o}return 0},$l=(e,t)=>{const n=po(e),o=po(t),i=n.pop(),a=o.pop(),s=zt(n,o);return s!==0?s:i&&a?zt(i.split("."),a.split(".")):i||a?i?-1:1:0},Nl=(e,t,n)=>{Fl(n);const o=$l(e,t);return Ns[n].includes(o)},Ns={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},Ai=Object.keys(Ns),Fl=e=>{if(typeof e!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof e}`);if(Ai.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${Ai.join("|")}`)},ro=(e,t)=>{if(t=t.replace(/([><=]+)\s+/g,"$1"),t.includes("||"))return t.split("||").some(v=>ro(e,v));if(t.includes(" - ")){const[v,T]=t.split(" - ",2);return ro(e,`>=${v} <=${T}`)}else if(t.includes(" "))return t.trim().replace(/\s{2,}/g," ").split(" ").every(v=>ro(e,v));const n=t.match(/^([<>=~^]+)/),o=n?n[1]:"=";if(o!=="^"&&o!=="~")return Nl(e,t,o);const[i,a,s,,c]=po(e),[l,u,d,,f]=po(t),p=[i,a,s],h=[l,u??"x",d??"x"];if(f&&(!c||zt(p,h)!==0||zt(c.split("."),f.split("."))===-1))return!1;const g=h.findIndex(v=>v!=="0")+1,_=o==="~"?2:g>1?g:1;return!(zt(p.slice(0,_),h.slice(0,_))!==0||zt(p.slice(_),h.slice(_))===-1)};const zl={"@mastodon/edit-media-attributes":">=4.1","@mastodon/list-exclusive":">=4.2","@gotosocial/list-exclusive":">=0.17","@mastodon/filtered-notifications":"~4.3 || >=4.3","@mastodon/fetch-multiple-statuses":"~4.3 || >=4.3","@mastodon/trending-link-posts":"~4.3 || >=4.3","@mastodon/grouped-notifications":"~4.3 || >=4.3","@mastodon/annual-report":"~4.4 || >=4.4"},Oo=/pixelfed/i,rt=/^(?!.*pixelfed).*$/i,Vl=/pleroma/i,Hl=/akkoma/i;const Ii={"@mastodon/lists":rt,"@mastodon/filters":rt,"@mastodon/mentions":rt,"@mastodon/trending-hashtags":rt,"@mastodon/trending-links":rt,"@mastodon/post-bookmark":rt,"@mastodon/post-edit":rt,"@mastodon/profile-edit":rt,"@mastodon/profile-private-note":rt,"@pixelfed/trending":Oo,"@pixelfed/home-include-reblogs":Oo,"@pixelfed/global-feed":Oo,"@pleroma/local-visibility-post":Vl,"@akkoma/local-visibility-post":Hl},Kn={};function Zn(e){var t,n;try{let{version:o,domain:i}=Ka(),a=((n=(t=Za())==null?void 0:t.software)==null?void 0:n.name)||"mastodon";a==="hometown"&&(a="mastodon");const s=`${i}-${e}`;if(Kn[s])return Kn[s];if(Ii[e])return Kn[s]=Ii[e].test(o);const c=zl[e];if(!c)return!1;const u=e.match(/^@([a-z]+)\//)[1]===a.toLowerCase();return Kn[s]=u&&ro(o,c,{includePrerelease:!0,loose:!0})}catch{return!1}}const Bt=2147483647,Ye=36,Dr=1,En=26,Bl=38,Ul=700,Fs=72,zs=128,Vs="-",jl=/^xn--/,Wl=/[^\0-\x7F]/,Kl=/[\x2E\u3002\uFF0E\uFF61]/g,Zl={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Do=Ye-Dr,Xe=Math.floor,$o=String.fromCharCode;function mt(e){throw new RangeError(Zl[e])}function ql(e,t){const n=[];let o=e.length;for(;o--;)n[o]=t(e[o]);return n}function Hs(e,t){const n=e.split("@");let o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(Kl,".");const i=e.split("."),a=ql(i,t).join(".");return o+a}function Bs(e){const t=[];let n=0;const o=e.length;for(;n<o;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<o){const a=e.charCodeAt(n++);(a&64512)==56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}const Gl=e=>String.fromCodePoint(...e),Yl=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Ye},Ci=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Us=function(e,t,n){let o=0;for(e=n?Xe(e/Ul):e>>1,e+=Xe(e/t);e>Do*En>>1;o+=Ye)e=Xe(e/Do);return Xe(o+(Do+1)*e/(e+Bl))},js=function(e){const t=[],n=e.length;let o=0,i=zs,a=Fs,s=e.lastIndexOf(Vs);s<0&&(s=0);for(let c=0;c<s;++c)e.charCodeAt(c)>=128&&mt("not-basic"),t.push(e.charCodeAt(c));for(let c=s>0?s+1:0;c<n;){const l=o;for(let d=1,f=Ye;;f+=Ye){c>=n&&mt("invalid-input");const p=Yl(e.charCodeAt(c++));p>=Ye&&mt("invalid-input"),p>Xe((Bt-o)/d)&&mt("overflow"),o+=p*d;const h=f<=a?Dr:f>=a+En?En:f-a;if(p<h)break;const g=Ye-h;d>Xe(Bt/g)&&mt("overflow"),d*=g}const u=t.length+1;a=Us(o-l,u,l==0),Xe(o/u)>Bt-i&&mt("overflow"),i+=Xe(o/u),o%=u,t.splice(o++,0,i)}return String.fromCodePoint(...t)},Ws=function(e){const t=[];e=Bs(e);const n=e.length;let o=zs,i=0,a=Fs;for(const l of e)l<128&&t.push($o(l));const s=t.length;let c=s;for(s&&t.push(Vs);c<n;){let l=Bt;for(const d of e)d>=o&&d<l&&(l=d);const u=c+1;l-o>Xe((Bt-i)/u)&&mt("overflow"),i+=(l-o)*u,o=l;for(const d of e)if(d<o&&++i>Bt&&mt("overflow"),d===o){let f=i;for(let p=Ye;;p+=Ye){const h=p<=a?Dr:p>=a+En?En:p-a;if(f<h)break;const g=f-h,_=Ye-h;t.push($o(Ci(h+g%_,0))),f=Xe(g/_)}t.push($o(Ci(f,0))),a=Us(i,u,c===s),i=0,++c}++i,++o}return t.join("")},Xl=function(e){return Hs(e,function(t){return jl.test(t)?js(t.slice(4).toLowerCase()):t})},Ql=function(e){return Hs(e,function(t){return Wl.test(t)?"xn--"+Ws(t):t})},Ks={version:"2.3.1",ucs2:{decode:Bs,encode:Gl},decode:js,encode:Ws,toASCII:Ql,toUnicode:Xl};function mr(e,t=[]){return e?(!t.length||e.indexOf(":")===-1||t.forEach(n=>{const{shortcode:o,staticUrl:i,url:a}=n;e=e.replace(new RegExp(`:${o}:`,"g"),`<picture><source srcset="${i}" media="(prefers-reduced-motion: reduce)"></source><img class="shortcode-emoji emoji" src="${a}" alt=":${o}:" width="16" height="16" loading="lazy" decoding="async" fetchPriority="low" /></picture>`)}),e):""}const Ot=document.createElement("div"),Jl=["u-url","mention","hashtag"],eu=/[&<>]/g;function No(e){return e.replace(eu,t=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[t])}const tu=/<a/i,nu=/^https?:\/\//i,ou=/^@[^@]+(@[^@]+)?$/,ru=/^#[^#]+$/,iu=/^```[^]+```$/,su=/^```/,au=/```$/,cu=/`[^`]+`/,lu=/(twitter|x)\.com/i,uu=/@[a-zA-Z0-9_]+@(twitter|x)\.com/,du=/(@([a-zA-Z0-9_]+)@(twitter|x)\.com)/g,fu=/(`[^]+?`)/g;function hu(e,t){if(t){const n=document.createElement("template");return n.innerHTML=e,n.content}else{const n=document.createElement("div");return n.innerHTML=e,n}}function pu(e,t={}){const{emojis:n,returnDOM:o,postEnhanceDOM:i=()=>{}}=t;let a=e;const s=hu(a,o),c=tu.test(a),l=a.includes("```");if(c){const d=s.querySelectorAll('a:not([target="_blank"])');for(const p of d)p.setAttribute("target","_blank");const f=s.querySelectorAll("a[class]");for(const p of f)for(const h of p.classList)Jl.includes(h)||p.classList.remove(h)}if(c){const d=s.querySelectorAll("a[href]");for(const f of d)nu.test(f.textContent.trim())&&(f.classList.add("has-url-text"),_u(f))}if(c){const d=s.querySelectorAll("a[href]"),f=[];for(const p of d){const h=p.innerText.trim(),g=p.querySelector("*");if(ou.test(h)){const[_,v,T]=h.split("@");g||(!f.some(([b])=>b===v)||f.some(([b,E])=>b===v&&E===T)?(p.innerHTML=`@<span>${v}</span>`,f.push([v,T])):p.innerHTML=`@<span>${v}@${T}</span>`),p.classList.add("mention")}ru.test(h)&&(g||(p.innerHTML=`#<span>${h.slice(1)}</span>`),p.classList.add("mention","hashtag"))}}let u;if(a.includes(":")&&(n!=null&&n.length)){u=zo(s);for(const d of u){let f=No(d.nodeValue);f=mr(f,n),Ot.innerHTML=f,d.replaceWith(...Ot.childNodes)}}if(l){const d=[...s.querySelectorAll("p")].filter(f=>iu.test(f.innerText.trim()));for(const f of d){const p=document.createElement("pre");for(const h of f.querySelectorAll("br"))h.replaceWith(`
`);p.innerHTML=`<code>${f.innerHTML.trim()}</code>`,f.replaceWith(p)}}if(l){const f=[...s.querySelectorAll("p")].filter(p=>su.test(p.innerText));for(const p of f){const h=[p];let g=!1,_=p;for(;_.nextElementSibling;){const v=_.nextElementSibling;if(v&&v.tagName==="P")if(au.test(v.innerText)){h.push(v),g=!0;break}else h.push(v);else break;_=v}if(g){const v=document.createElement("pre");for(const b of h)for(const E of b.querySelectorAll("br"))E.replaceWith(`
`);const T=h.map(b=>b.innerHTML).join(`

`);v.innerHTML=`<code tabindex="0">${T}</code>`,p.replaceWith(v);for(const b of h)b.remove()}}}if(a.includes("`")){u=zo(s);for(const d of u){let f=No(d.nodeValue);cu.test(f)&&(f=f.replaceAll(fu,"<code>$1</code>")),Ot.innerHTML=f,d.replaceWith(...Ot.childNodes)}}if(lu.test(a)){u=zo(s,{rejectFilter:["A"]});for(const d of u){let f=No(d.nodeValue);uu.test(f)&&(f=f.replaceAll(du,'<a href="https://twitter.com/$2" rel="nofollow noopener noreferrer" target="_blank">$1</a>')),Ot.innerHTML=f,d.replaceWith(...Ot.childNodes)}}if(a.includes("#")){let d=null;const f=[...s.querySelectorAll("p")].filter((p,h)=>{let g=0;for(let _=0;_<p.childNodes.length;_++){const v=p.childNodes[_];if(v.nodeType===Node.TEXT_NODE){if(v.textContent.trim()!=="")return!1}else if(v.tagName!=="BR")if(v.tagName==="A"){const T=v.textContent.trim();if(!T||!T.startsWith("#"))return!1;g++}else return!1}if(g>3||g>1&&d&&h===d+1)return d=h,!0});if(f!=null&&f.length)for(const p of f)p.classList.add("hashtag-stuffing"),p.title=p.innerText}if(a.includes("<img")){const d=s.querySelectorAll("img");for(let f=0;f<d.length;f++){const p=d[f],h=p.getAttribute("width")||p.naturalWidth,g=p.getAttribute("height")||p.naturalHeight;h&&g&&p.style.setProperty("--original-aspect-ratio",`${h}/${g}`)}}for(const d of s.childNodes)if(d.nodeType===Node.TEXT_NODE){const f=document.createElement("span");f.textContent=d.textContent,s.replaceChild(f,d)}return i&&queueMicrotask(()=>i(s)),o?s:s.innerHTML}const Zs=Le(pu),mu=["STYLE","IMG","VIDEO","AUDIO","AREA","MAP","TRACK","EMBED","IFRAME","OBJECT","PICTURE","PORTAL","SOURCE","SVG","MATH","CANVAS","NOSCRIPT","SCRIPT","INPUT","OPTION","TEXTAREA","SLOT","TEMPLATE"],gu=Object.fromEntries(mu.map(e=>[e,!0])),vu=/^(https?:\/\/(www\.)?|xmpp:)/,Fo=30;function _u(e){var t;if(!(!e||(t=e.querySelector)!=null&&t.call(e,"*")))try{const n=e.innerText.trim(),o=(n.match(vu)||[])[0]||"";if(!o)return;const i=n.slice(o.length,o.length+Fo),a=n.slice(o.length+Fo),s=n.slice(o.length).length>Fo;e.innerHTML=`<span class="invisible">${o}</span><span class=${s?"ellipsis":""}>${i}</span><span class="invisible">${a}</span>`}catch{}}function zo(e,t={}){var s;const n=[],o=Object.assign({},gu,(s=t.rejectFilter)==null?void 0:s.reduce((c,l)=>(c[l]=!0,c),{})),i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode(c){return o[c.parentNode.nodeName]?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let a;for(;a=i.nextNode();)n.push(a);return n}const Dt=document.createElement("div");function yu(e,t){if(!e)return"";const{preProcess:n}=t||{};return Dt.innerHTML=e.replace(/<\/p>/g,`</p>

`).replace(/<\/li>/g,`</li>
`),Dt.querySelectorAll("br").forEach(o=>{o.replaceWith(`
`)}),n==null||n(Dt),Dt.querySelectorAll(".invisible").forEach(o=>{o.remove()}),Dt.querySelectorAll(".ellipsis").forEach(o=>{o.append("...")}),Dt.innerText.replace(/[\r\n]{3,}/g,`

`).trim()}const yo=Le(yu);function bu(e){const{mentions:t=[],instance:n,previewMode:o,statusURL:i}=e||{};return a=>{var d,f;let{target:s}=a;if(s=s.closest("a"),!s||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||a.which===2)return;const c=(d=s.previousSibling)==null?void 0:d.textContent,l=c==null?void 0:c.endsWith("@"),u=s.innerText.startsWith("@");if((s.classList.contains("u-url")||s.classList.contains("mention"))&&u||l&&!u){const p=(s.querySelector("span")||s).innerText.trim(),h=p.replace(/^@/,""),g=s.getAttribute("href"),_=t.find(v=>v.url===g)||t.find(v=>v.acct===h||v.username===h);if(_)a.preventDefault(),a.stopPropagation(),H.showAccount={account:_.acct,instance:n};else if(!/^http/i.test(p)){a.preventDefault(),a.stopPropagation();const v=s.getAttribute("href");H.showAccount={account:v,instance:n}}}else if(!o){const p=c==null?void 0:c.endsWith("#");if(s.classList.contains("hashtag")||p){a.preventDefault(),a.stopPropagation();const h=s.innerText.replace(/^#/,"").trim(),g=n?`#/${n}/t/${h}`:`#/t/${h}`;location.hash=g}else(f=H.unfurledLinks[s.href])!=null&&f.url&&i!==s.href&&(a.preventDefault(),a.stopPropagation(),H.prevLocation={pathname:location.hash.replace(/^#/,"")},location.hash=`#${H.unfurledLinks[s.href].url}`)}}}function uh(e,t){return()=>ke.number(e,{style:"unit",unit:t,unitDisplay:"long"})}const Tu=Le(()=>new Intl.DateTimeFormat().resolvedOptions().locale),wu=e=>{const{locale:t,dateYear:n,hideTime:o,formatOpts:i,forceOpts:a}=e||{},s=t.replace(/-[a-z]+$/i,""),c=bn([s],[Tu],t),l=new Date().getFullYear(),u=a||{year:n===l?void 0:"numeric",month:"short",day:"numeric",hour:o?void 0:"numeric",minute:o?void 0:"numeric",...i};try{return Intl.DateTimeFormat(c,u)}catch{}try{return Intl.DateTimeFormat(t,u)}catch{}return Intl.DateTimeFormat(void 0,u)},Eu=Le(wu);function xn(e,t){return e instanceof Date||(e=new Date(e)),Eu({dateYear:e.getFullYear(),locale:ke.locale,...t}).format(e)}function it(e){try{return ke.number(e,{notation:"compact",roundingMode:"floor"})}catch{return e}}const Pi=5e3;function qn(e){if(e||(e=!0),H.showCompose){H.composerState.minimized?Re({duration:Pi,text:ke._({id:"/4fHR1"})}):Re({duration:Pi,text:ke._({id:"vvl08N"})});return}wc(),H.showCompose=e}function dh({skeleton:e,account:t,avatarSize:n="xl",useAvatarStatic:o=!1,instance:i,external:a,internal:s,onClick:c,showActivity:l=!1,showStats:u=!1,accountInstance:d,hideDisplayName:f=!1,relationship:p={},excludeRelationshipAttrs:h=[]}){const{_:g}=tt();if(e)return r("div",{class:"account-block skeleton",children:[r(at,{size:n}),r("span",{children:[r("b",{children:""}),r("br",{}),r("span",{class:"account-block-acct",children:""})]})]});if(!t)return null;const{id:_,acct:v,avatar:T,avatarStatic:b,displayName:E,username:A,emojis:m,url:x,statusesCount:w,lastStatusAt:P,bot:M,fields:R,note:S,group:I,followersCount:N,createdAt:Z,locked:B}=t;let[X,se,re]=v.match(/([^@]+)(@.+)/i)||[,v];d&&(re=`@${d}`);const ee=R==null?void 0:R.find(pe=>!!pe.verifiedAt&&!!pe.value),Q={};for(const pe in p)h.includes(pe)||(Q[pe]=p[pe]);const ge=Q.following||Q.followedBy||Q.requested;return r("a",{class:"account-block",href:x,target:a?"_blank":null,title:re?v:`@${v}`,onClick:pe=>{if(!a){if(pe.preventDefault(),c)return c(pe);s?location.hash=`/${i}/a/${_}`:H.showAccount={account:t,instance:i}}},children:[r("div",{class:"avatar-container",children:r(at,{url:o?b:T||b,size:n,squircle:M})}),r("span",{class:"account-block-content",children:[!f&&r($,{children:E?r("b",{children:r(jt,{text:E,emojis:m})}):r("b",{children:A})})," ",r("span",{class:"account-block-acct bidi-isolate",children:[re?"":"@",se,r("wbr",{}),re,B&&r($,{children:[" ",r(L,{icon:"lock",size:"s",alt:g({id:"G2fuEb"})})]})]}),l&&r("div",{class:"account-block-stats",children:[r(O,{id:"ajzDof",values:{0:it(w)}}),!!P&&r($,{children:[" ",""," ",r(O,{id:"f8bJ3C",values:{0:xn(P,{hideTime:!0})}})]})]}),u&&r("div",{class:"account-block-stats",children:[M&&r($,{children:r("span",{class:"tag collapsed",children:[r(L,{icon:"bot"})," ",r(O,{id:"9Vdq+j"})]})}),!!I&&r($,{children:r("span",{class:"tag collapsed",children:[r(L,{icon:"group"})," ",r(O,{id:"L8fEEm"})]})}),ge&&r("div",{class:"shazam-container-horizontal",children:r("div",{class:"shazam-container-inner",children:Q.following&&Q.followedBy?r("span",{class:"tag minimal",children:r(O,{id:"7oRLbi"})}):Q.requested?r("span",{class:"tag minimal",children:r(O,{id:"Yx0Ud8"})}):Q.following?r("span",{class:"tag minimal",children:r(O,{id:"y6sq5j"})}):Q.followedBy?r("span",{class:"tag minimal",children:r(O,{id:"p3UO/y"})}):null})},p.id),!!N&&r("span",{class:"ib",children:r(O,{id:"Mn1E9C",values:{followersCount:N}})}),!!ee&&r("span",{class:"verified-field",children:[r(L,{icon:"check-circle",size:"s",alt:g({id:"QDEWii"})})," ",r("span",{dangerouslySetInnerHTML:{__html:Zs(ee.value,{emojis:m})}})]}),!M&&!I&&!ge&&!N&&!ee&&!!Z&&r("span",{class:"created-at",children:r(O,{id:"PCcEFZ",values:{0:xn(Z,{hideTime:!0})},components:{0:r("time",{datetime:Z})}})})]})]})]})}var Vo={},Ho,Ri;function xu(){if(Ri)return Ho;Ri=1;function e(t,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Ho=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var n=new Date().getTime();if(t&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var o=this._timeouts.shift();if(o===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),o=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},o),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,n){this._fn=t,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var o=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){o._operationTimeoutCb()},o._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},n=null,o=0,i=0;i<this._errors.length;i++){var a=this._errors[i],s=a.message,c=(t[s]||0)+1;t[s]=c,c>=o&&(n=a,o=c)}return n},Ho}var Li;function Su(){return Li||(Li=1,function(e){var t=xu();e.operation=function(n){var o=e.timeouts(n);return new t(o,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var o={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)o[i]=n[i];if(o.minTimeout>o.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],s=0;s<o.retries;s++)a.push(this.createTimeout(s,o));return n&&n.forever&&!a.length&&a.push(this.createTimeout(s,o)),a.sort(function(c,l){return c-l}),a},e.createTimeout=function(n,o){var i=o.randomize?Math.random()+1:1,a=Math.round(i*Math.max(o.minTimeout,1)*Math.pow(o.factor,n));return a=Math.min(a,o.maxTimeout),a},e.wrap=function(n,o,i){if(o instanceof Array&&(i=o,o=null),!i){i=[];for(var a in n)typeof n[a]=="function"&&i.push(a)}for(var s=0;s<i.length;s++){var c=i[s],l=n[c];n[c]=(function(d){var f=e.operation(o),p=Array.prototype.slice.call(arguments,1),h=p.pop();p.push(function(g){f.retry(g)||(g&&(arguments[0]=f.mainError()),h.apply(this,arguments))}),f.attempt(function(){d.apply(n,p)})}).bind(n,l),n[c].options=o}}}(Vo)),Vo}var Bo,Mi;function ku(){return Mi||(Mi=1,Bo=Su()),Bo}var Au=ku();const Iu=Sr(Au),Cu=Object.prototype.toString,Pu=e=>Cu.call(e)==="[object Error]",Ru=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed"]);function Lu(e){return e&&Pu(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:Ru.has(e.message):!1}class Mu extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const Oi=(e,t,n)=>{const o=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=o,e};async function Ou(e,t){return new Promise((n,o)=>{t={...t},t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.retries??(t.retries=10);const i=Iu.operation(t),a=()=>{var c;i.stop(),o((c=t.signal)==null?void 0:c.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",a,{once:!0});const s=()=>{var c;(c=t.signal)==null||c.removeEventListener("abort",a),i.stop()};i.attempt(async c=>{try{const l=await e(c);s(),n(l)}catch(l){try{if(!(l instanceof Error))throw new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`);if(l instanceof Mu)throw l.originalError;if(l instanceof TypeError&&!Lu(l))throw l;if(Oi(l,c,t),await t.shouldRetry(l)||(i.stop(),o(l)),await t.onFailedAttempt(l),!i.retry(l))throw i.mainError()}catch(u){Oi(u,c,t),s(),o(u)}}})})}const Du=[{code:"auto",name:"Detect"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];var $u=Object.defineProperty,Nu=(e,t,n)=>t in e?$u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gn=(e,t,n)=>Nu(e,typeof t!="symbol"?t+"":t,n),gr=new Map,Yn=new WeakMap,Di=0,Fu=void 0;function zu(e){return e?(Yn.has(e)||(Di+=1,Yn.set(e,Di.toString())),Yn.get(e)):"0"}function Vu(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?zu(e.root):e[t]}`).toString()}function Hu(e){const t=Vu(e);let n=gr.get(t);if(!n){const o=new Map;let i;const a=new IntersectionObserver(s=>{s.forEach(c=>{var l;const u=c.isIntersecting&&i.some(d=>c.intersectionRatio>=d);e.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=u),(l=o.get(c.target))==null||l.forEach(d=>{d(u,c)})})},e);i=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:o},gr.set(t,n)}return n}function qs(e,t,n={},o=Fu){if(typeof window.IntersectionObserver>"u"&&o!==void 0){const l=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:a,elements:s}=Hu(n),c=s.get(e)||[];return s.has(e)||s.set(e,c),c.push(t),a.observe(e),function(){c.splice(c.indexOf(t),1),c.length===0&&(s.delete(e),a.unobserve(e)),s.size===0&&(a.disconnect(),gr.delete(i))}}function Bu(e){return typeof e.children!="function"}var fh=class extends fs{constructor(e){super(e),Gn(this,"node",null),Gn(this,"_unobserveCb",null),Gn(this,"handleNode",t=>{this.node&&(this.unobserve(),!t&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=t||null,this.observeNode()}),Gn(this,"handleChange",(t,n)=>{t&&this.props.triggerOnce&&this.unobserve(),Bu(this.props)||this.setState({inView:t,entry:n}),this.props.onChange&&this.props.onChange(t,n)}),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:n,trackVisibility:o,delay:i,fallbackInView:a}=this.props;this._unobserveCb=qs(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:o,delay:i},a)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:e}=this.props;if(typeof e=="function"){const{inView:h,entry:g}=this.state;return e({inView:h,entry:g,ref:this.handleNode})}const{as:t,triggerOnce:n,threshold:o,root:i,rootMargin:a,onChange:s,skip:c,trackVisibility:l,delay:u,initialInView:d,fallbackInView:f,...p}=this.props;return qa(t||"div",{ref:this.handleNode,...p},e)}};function Uu({threshold:e,delay:t,trackVisibility:n,rootMargin:o,root:i,triggerOnce:a,skip:s,initialInView:c,fallbackInView:l,onChange:u}={}){var d;const[f,p]=K(null),h=D(u),[g,_]=K({inView:!!c,entry:void 0});h.current=u,J(()=>{if(s||!f)return;let E;return E=qs(f,(A,m)=>{_({inView:A,entry:m}),h.current&&h.current(A,m),m.isIntersecting&&a&&E&&(E(),E=void 0)},{root:i,rootMargin:o,threshold:e,trackVisibility:n,delay:t},l),()=>{E&&E()}},[Array.isArray(e)?e.toString():e,f,i,o,a,s,n,l,t]);const v=(d=g.entry)==null?void 0:d.target,T=D(void 0);!f&&v&&!a&&!s&&T.current!==v&&(T.current=v,_({inView:!!c,entry:void 0}));const b=[p,g.inView,g.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}const $i=48,Uo={};function Gs({id:e,children:t}){const n=D(),o=!!Uo[e],[i,a]=K(!1),[s,c]=K(o||!1),{ref:l}=Uu({root:null,rootMargin:`-${$i}px 0px 0px 0px`,trackVisibility:!0,delay:1e3,onChange:u=>{u&&(a(!0),e&&(Uo[e]=!0))},triggerOnce:!0,skip:s||i});return J(()=>{if(!n.current)return;const u=n.current.getBoundingClientRect();u.bottom>$i&&(u.top<window.innerHeight?a(!0):c(!0),e&&(Uo[e]=!0))},[]),s?t:r("div",{ref:n,class:"shazam-container no-animation",hidden:!i,children:r("div",{ref:l,class:"shazam-container-inner",children:t})})}const ju={BASE_URL:"./",DEV:!1,MODE:"production",PHANPY_CLIENT_NAME:"Blaede Phanpy",PHANPY_DEFAULT_INSTANCE:"mastodon.blaede.family",PHANPY_DEFAULT_INSTANCE_REGISTRATION_URL:"https://mastodon.blaede.family/auth/sign_up",PHANPY_GIPHY_API_KEY:"48JGsrSS1XE5w4nWe9c9hqxPbsfRWR0e",PHANPY_LINGVA_INSTANCES:"lingva.phanpy.social lingva.lunar.icu lingva.garudalinux.org translate.plausibility.cloud",PHANPY_PRIVACY_POLICY_URL:"https://mastodon.blaede.family/privacy-policy",PHANPY_WEBSITE:"https://phanpy.blaede.family",PROD:!0,SSR:!1,VITE_APP_ENV:"production"},{PHANPY_LINGVA_INSTANCES:Ni}=ju,gn=Ni?Ni.split(/\s+/):[],Wu=hs({limit:1,interval:2e3});let jo=0;function Ku(e,t,n){return Ou(()=>{let i=gn[jo];return fetch(`https://${i}/api/v1/${t}/${n}/${encodeURIComponent(e)}`).then(a=>{if(!a.ok)throw new Error(a.statusText);return a.json()}).then(a=>{var s;return{provider:"lingva",content:a.translation,detectedSourceLanguage:(s=a.info)==null?void 0:s.detectedSource,info:a.info}})},{retries:3,onFailedAttempt:i=>{jo=(jo+1)%gn.length}})}const Ys=1e3*60*60,Xs=go(Ku,{maxAge:Ys}),Zu=go(Wu(Xs),{maxAge:Ys});function qu({forceTranslate:e,sourceLanguage:t,onTranslate:n,text:o="",mini:i,autoDetected:a}){const{_:s}=tt(),c=$s(!0),[l,u]=K("default"),[d,f]=K(null),[p,h]=K(null),[g,_]=K(null),v=D(),T=t?ln(t):null,b=ln(c),E=D("auto");n||(n=i?Zu:Xs);const A=async()=>{var m,x;u("loading");try{const{content:w,detectedSourceLanguage:P,provider:M,error:R,...S}=await n(o,E.current,c);if(w){if(P){const I=ln(P);_(I)}if(M==="lingva"){const I=(x=(m=S==null?void 0:S.info)==null?void 0:m.pronunciation)==null?void 0:x.query;I&&f(I)}h(w),u("default"),!i&&w.trim()!==o.trim()&&(v.current.open=!0,v.current.scrollIntoView({behavior:"smooth",block:"nearest"}))}else u("error")}catch{u("error")}};return J(()=>{e&&A()},[e]),i?p&&p.trim()!==o.trim()&&g!==b?r(Gs,{children:r("div",{class:"status-translation-block-mini",children:[r(L,{icon:"translate",alt:s({id:"zVJKbG",values:{sourceLangText:T}})}),r("output",{lang:c,dir:"auto",title:d||"",children:p})]})}):null:r("div",{class:"status-translation-block",onClick:m=>{m.preventDefault()},children:r("details",{ref:v,children:[r("summary",{children:r("button",{type:"button",onClick:async m=>{m.preventDefault(),m.stopPropagation(),v.current.open=!v.current.open,l!=="loading"&&(p||A())},children:[r(L,{icon:"translate"})," ",r("span",{children:s(l==="loading"?{id:"Zxkt/v"}:t&&T&&!g?a?{id:"R20Yf9",values:{sourceLangText:T}}:{id:"h8zDAI",values:{sourceLangText:T}}:{id:"pi8x/S"})})]})}),r("div",{class:"translated-block",children:[r("div",{class:"translation-info insignificant",children:[r("select",{class:"translated-source-select",disabled:l==="loading",onChange:m=>{E.current=m.target.value,A()},children:Du.map(m=>{const x=ln({code:m.code,fallback:m.name}),w=ln({code:m.code,locale:m.code}),P=x!==w;return r("option",{value:m.code,children:m.code==="auto"?s({id:"Bze3gr",values:{0:g??""}}):P?`${w} - ${x}`:w})})})," ",r("span",{children:[" ",b]}),r(ps,{abrupt:!0,hidden:l!=="loading"})]}),l==="error"?r("p",{class:"ui-state",children:r(O,{id:"m5LihO"})}):!!p&&r($,{children:[r("output",{class:"translated-content",lang:c,dir:"auto",children:p}),!!d&&r("output",{class:"translated-pronunciation-content",tabIndex:-1,onClick:m=>{m.target.classList.toggle("expand")},children:d})]})]})]})})}const Gu=gn!=null&&gn.length?qu:()=>null;function dt(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Qs(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const o=dt(n);return(i,a)=>o.then(s=>a(s.transaction(t,i).objectStore(t)))}let Wo;function It(){return Wo||(Wo=Qs("keyval-store","keyval")),Wo}function Yu(e,t=It()){return t("readonly",n=>dt(n.get(e)))}function Xu(e,t,n=It()){return n("readwrite",o=>(o.put(t,e),dt(o.transaction)))}function Qu(e,t=It()){return t("readonly",n=>Promise.all(e.map(o=>dt(n.get(o)))))}function Ju(e,t=It()){return t("readwrite",n=>(n.delete(e),dt(n.transaction)))}function ed(e,t=It()){return t("readwrite",n=>(e.forEach(o=>n.delete(o)),dt(n.transaction)))}function td(e=It()){return e("readwrite",t=>(t.clear(),dt(t.transaction)))}function nd(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},dt(e.transaction)}function od(e=It()){return e("readonly",t=>{if(t.getAllKeys)return dt(t.getAllKeys());const n=[];return nd(t,o=>n.push(o.key)).then(()=>n)})}function Fi(e,t){const n=Qs(e,t);return{set:(o,i)=>Xu(o,i,n),get:o=>Yu(o,n),getMany:o=>Qu(o,n),del:o=>Ju(o,n),delMany:o=>ed(o,n),clear:()=>td(n),keys:()=>od(n)}}const hh={drafts:Fi("drafts-db","drafts-store"),catchup:Fi("catchup-db","catchup-store")};async function ph(e,t={}){if(!(e!=null&&e.length))return;const{masto:n}=co(),o=kr(),i=e.reduce((a,s)=>(!a.includes(s.id)&&!t[s.id]&&s.id!==o&&a.push(s.id),a),[]);if(!i.length)return null;try{return(await n.v1.accounts.relationships.fetch({id:i})).reduce((c,l)=>(c[l.id]=l,c),{})}catch{return null}}class He extends HTMLElement{constructor(){super(),this.isIframeLoaded=!1,this.setupDom()}static get observedAttributes(){return["videoid","playlistid","videoplay","videotitle"]}connectedCallback(){this.addEventListener("pointerover",()=>He.warmConnections(this),{once:!0}),this.addEventListener("click",()=>this.addIframe())}get videoId(){return encodeURIComponent(this.getAttribute("videoid")||"")}set videoId(t){this.setAttribute("videoid",t)}get playlistId(){return encodeURIComponent(this.getAttribute("playlistid")||"")}set playlistId(t){this.setAttribute("playlistid",t)}get videoTitle(){return this.getAttribute("videotitle")||"Video"}set videoTitle(t){this.setAttribute("videotitle",t)}get videoPlay(){return this.getAttribute("videoplay")||"Play"}set videoPlay(t){this.setAttribute("videoplay",t)}get videoStartAt(){return this.getAttribute("videoStartAt")||"0"}get autoLoad(){return this.hasAttribute("autoload")}get autoPause(){return this.hasAttribute("autopause")}get noCookie(){return this.hasAttribute("nocookie")}get posterQuality(){return this.getAttribute("posterquality")||"hqdefault"}get posterLoading(){return this.getAttribute("posterloading")||"lazy"}get params(){return`start=${this.videoStartAt}&${this.getAttribute("params")}`}set params(t){this.setAttribute("params",t)}setupDom(){const t=this.attachShadow({mode:"open"});let n="";window.liteYouTubeNonce&&(n=`nonce="${window.liteYouTubeNonce}"`),t.innerHTML=`
      <style ${n}>
        :host {
          --aspect-ratio: var(--lite-youtube-aspect-ratio, 16 / 9);
          --aspect-ratio-short: var(--lite-youtube-aspect-ratio-short, 9 / 16);
          --frame-shadow-visible: var(--lite-youtube-frame-shadow-visible, yes);
          contain: content;
          display: block;
          position: relative;
          width: 100%;
          aspect-ratio: var(--aspect-ratio);
        }

        @media (max-width: 40em) {
          :host([short]) {
            aspect-ratio: var(--aspect-ratio-short);
          }
        }

        #frame, #fallbackPlaceholder, iframe {
          position: absolute;
          width: 100%;
          height: 100%;
          left: 0;
        }

        #frame {
          cursor: pointer;
        }

        #fallbackPlaceholder, slot[name=image]::slotted(*) {
          object-fit: cover;
          width: 100%;
        }

        @container style(--frame-shadow-visible: yes) {
          #frame::before {
            content: '';
            display: block;
            position: absolute;
            top: 0;
            background-image: linear-gradient(180deg, #111 -20%, transparent 90%);
            height: 60px;
            width: 100%;
            z-index: 1;
          }
        }

        #playButton {
          width: 68px;
          height: 48px;
          background-color: transparent;
          background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');
          z-index: 1;
          border: 0;
          border-radius: inherit;
        }

        #playButton:before {
          content: '';
          border-style: solid;
          border-width: 11px 0 11px 19px;
          border-color: transparent transparent transparent #fff;
        }

        #playButton,
        #playButton:before {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate3d(-50%, -50%, 0);
          cursor: inherit;
        }

        /* Post-click styles */
        .activated {
          cursor: unset;
        }

        #frame.activated::before,
        #frame.activated > #playButton {
          display: none;
        }
      </style>
      <div id="frame">
        <picture>
          <slot name="image">
            <source id="webpPlaceholder" type="image/webp">
            <source id="jpegPlaceholder" type="image/jpeg">
            <img id="fallbackPlaceholder" referrerpolicy="origin" loading="lazy">
          </slot>
        </picture>
        <button id="playButton"></button>
      </div>
    `,this.domRefFrame=t.querySelector("#frame"),this.domRefImg={fallback:t.querySelector("#fallbackPlaceholder"),webp:t.querySelector("#webpPlaceholder"),jpeg:t.querySelector("#jpegPlaceholder")},this.domRefPlayButton=t.querySelector("#playButton")}setupComponent(){this.initImagePlaceholder(),this.domRefPlayButton.setAttribute("aria-label",`${this.videoPlay}: ${this.videoTitle}`),this.setAttribute("title",`${this.videoPlay}: ${this.videoTitle}`),(this.autoLoad||this.isYouTubeShort()||this.autoPause)&&this.initIntersectionObserver()}attributeChangedCallback(t,n,o){n!==o&&(this.setupComponent(),this.domRefFrame.classList.contains("activated")&&(this.domRefFrame.classList.remove("activated"),this.shadowRoot.querySelector("iframe").remove(),this.isIframeLoaded=!1))}addIframe(t=!1){if(!this.isIframeLoaded){let n=t?0:1;const o=this.noCookie?"-nocookie":"";let i;this.playlistId?i=`?listType=playlist&list=${this.playlistId}&`:i=`${this.videoId}?`,this.autoPause&&(this.params="enablejsapi=1"),this.isYouTubeShort()&&(this.params=`loop=1&mute=1&modestbranding=1&playsinline=1&rel=0&enablejsapi=1&playlist=${this.videoId}`,n=1);const a=`
<iframe credentialless frameborder="0" title="${this.videoTitle}"
  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
  src="https://www.youtube${o}.com/embed/${i}autoplay=${n}&${this.params}"
></iframe>`;this.domRefFrame.insertAdjacentHTML("beforeend",a),this.domRefFrame.classList.add("activated"),this.isIframeLoaded=!0,this.attemptShortAutoPlay(),this.dispatchEvent(new CustomEvent("liteYoutubeIframeLoaded",{detail:{videoId:this.videoId},bubbles:!0,cancelable:!0}))}}initImagePlaceholder(){var o,i;const t=`https://i.ytimg.com/vi_webp/${this.videoId}/${this.posterQuality}.webp`,n=`https://i.ytimg.com/vi/${this.videoId}/${this.posterQuality}.jpg`;this.domRefImg.fallback.loading=this.posterLoading,this.domRefImg.webp.srcset=t,this.domRefImg.jpeg.srcset=n,this.domRefImg.fallback.src=n,this.domRefImg.fallback.setAttribute("aria-label",`${this.videoPlay}: ${this.videoTitle}`),(i=(o=this.domRefImg)==null?void 0:o.fallback)==null||i.setAttribute("alt",`${this.videoPlay}: ${this.videoTitle}`)}initIntersectionObserver(){const t={root:null,rootMargin:"0px",threshold:0};new IntersectionObserver((o,i)=>{o.forEach(a=>{a.isIntersecting&&!this.isIframeLoaded&&(He.warmConnections(this),this.addIframe(!0),i.unobserve(this))})},t).observe(this),this.autoPause&&new IntersectionObserver((i,a)=>{i.forEach(s=>{var c,l;s.intersectionRatio!==1&&((l=(c=this.shadowRoot.querySelector("iframe"))==null?void 0:c.contentWindow)==null||l.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"))})},{threshold:1}).observe(this)}attemptShortAutoPlay(){this.isYouTubeShort()&&setTimeout(()=>{var t,n;(n=(t=this.shadowRoot.querySelector("iframe"))==null?void 0:t.contentWindow)==null||n.postMessage('{"event":"command","func":"playVideo","args":""}',"*")},2e3)}isYouTubeShort(){return this.getAttribute("short")===""&&window.matchMedia("(max-width: 40em)").matches}static addPrefetch(t,n){const o=document.createElement("link");o.rel=t,o.href=n,o.crossOrigin="true",document.head.append(o)}static warmConnections(t){He.isPreconnected||window.liteYouTubeIsPreconnected||(He.addPrefetch("preconnect","https://i.ytimg.com/"),He.addPrefetch("preconnect","https://s.ytimg.com"),t.noCookie?He.addPrefetch("preconnect","https://www.youtube-nocookie.com"):(He.addPrefetch("preconnect","https://www.youtube.com"),He.addPrefetch("preconnect","https://www.google.com"),He.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),He.addPrefetch("preconnect","https://static.doubleclick.net")),He.isPreconnected=!0,window.liteYouTubeIsPreconnected=!0)}}He.isPreconnected=!1;customElements.define("lite-youtube",He);const Js=new Uint8Array(128);for(let e=0;e<83;e++)Js["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~".charCodeAt(e)]=e;const io=(e,t,n)=>{let o=0;for(;t<n;)o*=83,o+=Js[e.charCodeAt(t++)];return o},ea=Math.pow,Sn=Math.PI,rd=Sn*2,ta=3294.6,na=269.025,id=e=>e>10.31475?ea(e/na+.052132,2.4):e/ta,Ko=e=>~~(e>1227e-8?na*ea(e,.416666)-13.025:e*ta+1),vn=e=>(e<0?-1:1)*e*e,zi=e=>{for(e+=Sn/2;e>Sn;)e-=rd;const t=1.27323954*e-.405284735*vn(e);return .225*(vn(t)-t)+t};function $r(e){const t=io(e,2,6);return[t>>16,t>>8&255,t&255]}function sd(e,t,n,o){const i=io(e,0,1),a=i%9+1,s=~~(i/9)+1,c=a*s;let l=0,u=0,d=0,f=0,p=0,h=0,g=0,_=0,v=0,T=0,b=0,E=0;const A=(io(e,1,2)+1)/13446*(o|1),m=new Float64Array(c*3),x=$r(e);for(l=0;l<3;l++)m[l]=id(x[l]);for(l=1;l<c;l++)E=io(e,4+l*2,6+l*2),m[l*3]=vn(~~(E/361)-9)*A,m[l*3+1]=vn(~~(E/19)%19-9)*A,m[l*3+2]=vn(E%19-9)*A;const w=new Float64Array(s*n),P=new Float64Array(a*t);for(u=0;u<s;u++)for(f=0;f<n;f++)w[u*n+f]=zi(Sn*f*u/n);for(l=0;l<a;l++)for(d=0;d<t;d++)P[l*t+d]=zi(Sn*d*l/t);const M=t*4,R=new Uint8ClampedArray(M*n);for(f=0;f<n;f++)for(d=0;d<t;d++){for(p=h=g=0,u=0;u<s;u++)for(v=w[u*n+f],l=0;l<a;l++)_=P[l*t+d]*v,T=(l+u*a)*3,p+=m[T]*_,h+=m[T+1]*_,g+=m[T+2]*_;b=4*d+f*M,R[b]=Ko(p),R[b+1]=Ko(h),R[b+2]=Ko(g),R[b+3]=255}return R}var Zo,Vi;function ad(){return Vi||(Vi=1,Zo=(t,n={})=>{const o=n.char||" ",i=n.count||2;let a=0;const s=[];return t.reverse().reduce((c,l)=>{s.length&&a&&s[a]&&s[a]===l.substring(1,s[a].length+1)&&(s.splice(a,1),a--);const d=[`${o.repeat(a?a*i:0)}${l}`,...c];return l.substring(0,2)==="</"&&(a++,s[a]=l.substring(2,l.length-1)),d},[]).join(`
`)}),Zo}var qo,Hi;function cd(){if(Hi)return qo;Hi=1;const e=n=>n.trim().replace(/(^(\s|\t)+|(( |\t)+)$)/gm,"");return qo={mergeAttributesWithElements:n=>{const o=e(n).split(`
`),i=[];let a="";for(let s=0;s<o.length;s+=1){const c=o[s];if(c.endsWith("/>")){i.push(`${a}${c.slice(0,-2)} />`),a="";continue}if(c.endsWith(">")){i.push(`${a}${c.startsWith(">")||c.startsWith("<")?"":" "}${c}`),a="";continue}a+=a.length?` ${c}`:c}return i},removeEmptyLines:e},qo}var Go,Bi;function ld(){if(Bi)return Go;Bi=1;const e=ad(),{mergeAttributesWithElements:t}=cd();return Go=(o,i={})=>{const a=t(o);return e(a,i)},Go}var ud=ld();const dd=Sr(ud);var hn=(e=>(e.Mouse="mouse",e.Touch="touch",e.Pointer="pointer",e))(hn||{}),pn=(e=>(e.CancelledByMovement="cancelled-by-movement",e.CancelledByRelease="cancelled-by-release",e.CancelledOutsideElement="cancelled-outside-element",e))(pn||{});const oa=()=>typeof window=="object"?(window==null?void 0:window.PointerEvent)??null:null,fd=()=>typeof window=="object"?(window==null?void 0:window.TouchEvent)??null:null;function ra(e){const{nativeEvent:t}=e,n=fd();return n&&t instanceof n||"touches"in e}function ia(e){const t=oa();return e.nativeEvent instanceof MouseEvent&&!(t&&e.nativeEvent instanceof t)}function sa(e){const{nativeEvent:t}=e;if(!t)return!1;const n=oa();return n&&t instanceof n||"pointerId"in t}function Ui(e){return ia(e)||ra(e)||sa(e)}function ji(e){return ra(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:ia(e)||sa(e)?{x:e.pageX,y:e.pageY}:null}function hd(e){return{target:e.target,currentTarget:e.currentTarget,nativeEvent:e,persist:()=>{}}}function aa(e,{threshold:t=400,captureEvent:n=!1,detect:o=hn.Pointer,cancelOnMovement:i=!1,cancelOutsideElement:a=!0,filterEvents:s,onStart:c,onMove:l,onFinish:u,onCancel:d}={}){const f=D(!1),p=D(!1),h=D(),g=D(),_=D(e),v=D(null),T=Se(m=>x=>{p.current||Ui(x)&&(s!==void 0&&!s(x)||(n&&x.persist(),c==null||c(x,{context:m}),v.current=ji(x),p.current=!0,h.current=x.currentTarget,g.current=setTimeout(()=>{_.current&&(_.current(x,{context:m}),f.current=!0)},t)))},[n,s,c,t]),b=Se(m=>(x,w)=>{Ui(x)&&p.current&&(v.current=null,n&&x.persist(),f.current?u==null||u(x,{context:m}):p.current&&(d==null||d(x,{context:m,reason:w??pn.CancelledByRelease})),f.current=!1,p.current=!1,g.current!==void 0&&clearTimeout(g.current))},[n,u,d]),E=Se(m=>x=>{if(l==null||l(x,{context:m}),i!==!1&&v.current){const w=ji(x);if(w){const P=i===!0?25:i,M={x:Math.abs(w.x-v.current.x),y:Math.abs(w.y-v.current.y)};(M.x>P||M.y>P)&&b(m)(x,pn.CancelledByMovement)}}},[b,i,l]),A=Se(m=>{if(e===null)return{};switch(o){case hn.Mouse:{const x={onMouseDown:T(m),onMouseMove:E(m),onMouseUp:b(m)};return a&&(x.onMouseLeave=w=>{b(m)(w,pn.CancelledOutsideElement)}),x}case hn.Touch:return{onTouchStart:T(m),onTouchMove:E(m),onTouchEnd:b(m)};case hn.Pointer:{const x={onPointerDown:T(m),onPointerMove:E(m),onPointerUp:b(m)};return a&&(x.onPointerLeave=w=>b(m)(w,pn.CancelledOutsideElement)),x}}},[e,b,a,o,E,T]);return J(()=>{if(!window)return;function m(x){const w=hd(x);b()(w)}return window.addEventListener("mouseup",m),window.addEventListener("touchend",m),window.addEventListener("pointerup",m),()=>{window.removeEventListener("mouseup",m),window.removeEventListener("touchend",m),window.removeEventListener("pointerup",m)}},[b]),J(()=>()=>{g.current!==void 0&&clearTimeout(g.current)},[]),J(()=>{_.current=e},[e]),A}function pd({poll:e,lang:t,readOnly:n,refresh:o=()=>{},votePoll:i=()=>{}}){const{_:a}=tt(),[s,c]=K("default"),{expired:l,expiresAt:u,id:d,multiple:f,options:p,ownVotes:h,voted:g,votersCount:_,votesCount:v,emojis:T}=e,b=!!u&&new Date(u),E=f?_:v;let A=0;E<=1e3?A=0:E<=1e4?A=1:E<=1e5&&(A=2);const[m,x]=K(!1),w=p.every(P=>P.votesCount!==null);return r("div",{lang:t,dir:"auto",class:`poll ${n?"read-only":""} ${s==="loading"?"loading":""}`,children:[m&&w||g||l?r($,{children:[r("div",{class:"poll-options",children:p.map((P,M)=>{const{title:R,votesCount:S}=P,I=E?S/E:0,N=I?I.toLocaleString(ke.locale||void 0,{style:"percent",maximumFractionDigits:A}):"0%",Z=S>0&&S===Math.max(...p.map(B=>B.votesCount));return r("div",{class:`poll-option poll-result ${Z?"poll-option-leading":""}`,style:{"--percentage":`${I*100}%`},children:[r("div",{class:"poll-option-title",children:[r("span",{children:r(jt,{text:R,emojis:T})}),g&&h.includes(M)&&r($,{children:[" ",r(L,{icon:"check-circle",alt:a({id:"IeO7us"})})]})]}),r("div",{class:"poll-option-votes",title:ke._({id:"+syLpm",values:{optionVotesCount:S}}),children:N})]},`${M}-${R}-${S}`)})}),!l&&!g&&r("button",{class:"poll-vote-button plain2",disabled:s==="loading",onClick:P=>{P.preventDefault(),x(!1)},children:[r(L,{icon:"arrow-left",size:"s"})," ",r(O,{id:"L96xSt"})]})]}):r("form",{onSubmit:async P=>{P.preventDefault();const M=P.target,R=new FormData(M),S=[];R.forEach((I,N)=>{N==="poll"&&S.push(I)}),S.length&&(c("loading"),await i(S),c("default"))},children:[r("div",{class:"poll-options",children:p.map((P,M)=>{const{title:R}=P;return r("div",{class:"poll-option",children:r("label",{class:"poll-label",children:[r("input",{type:f?"checkbox":"radio",name:"poll",value:M,disabled:s==="loading",readOnly:n}),r("span",{class:"poll-option-title",children:r(jt,{text:R,emojis:T})})]})})})}),!n&&r("button",{class:"poll-vote-button",type:"submit",disabled:s==="loading",children:r(O,{id:"lQXQKs"})})]}),r("p",{class:"poll-meta",children:[!l&&!n&&r("button",{type:"button",class:"plain small",disabled:s==="loading",onClick:P=>{P.preventDefault(),c("loading"),(async()=>(await o(),c("default")))()},title:a({id:"lCF0wC"}),children:r(L,{icon:"refresh",alt:a({id:"lCF0wC"})})}),!g&&!l&&!n&&w&&r("button",{type:"button",class:"plain small",disabled:s==="loading",onClick:P=>{P.preventDefault(),x(!m)},title:a(m?{id:"L96xSt"}:{id:"zCjei3"}),children:[r(L,{icon:m?"eye-open":"eye-close",alt:a(m?{id:"L96xSt"}:{id:"zCjei3"})})," "]}),!l&&!n&&" ",r(O,{id:"k7v0Rh",values:{0:it(v),1:it(v),votesCount:v},components:{0:r("span",{title:v}),1:r("span",{title:v})}}),!!_&&_!==v&&r($,{children:[" ",""," ",r(O,{id:"jf1i1L",values:{0:it(_),1:it(_),votersCount:_},components:{0:r("span",{title:_}),1:r("span",{title:_})}})]})," ",""," ",l?b?r(O,{id:"5LwCCI",components:{0:r(ct,{datetime:b})}}):a({id:"237hSL"}):b?r(O,{id:"ooHDPY",components:{0:r(ct,{datetime:b})}}):a({id:"O2tNG0"})]})]})}const ca=ut();function md(e,t){if(!(e!=null&&e.length))return!1;const n=e.filter(a=>{const{filter:s}=a,c=s.context.includes(t);return c?s.expiresAt?new Date(s.expiresAt)>new Date:c:!1});if(!n.length)return!1;if(n.some(a=>a.filter.filterAction==="hide"))return{action:"hide"};if(n.some(a=>a.filter.filterAction==="warn")){const a=n.map(s=>s.filter.title);return{action:"warn",titles:a,titlesStr:a.join("  ")}}return!1}const Nr=Le(md);function gd(e,t,n){var s;const{filtered:o}=e;if(!(o!=null&&o.length)||n&&((s=e.account)==null?void 0:s.id)===n)return!0;const a=Nr(o,t);return a?a.action!=="hide":!0}function mh(e,t){if(!(e!=null&&e.length))return[];if(!t)return e;const n=kr();return e.filter(o=>gd(o,t,n))}const Yo=document.createElement("div");function Xo(e){return e?(Yo.innerHTML=e,Yo.querySelectorAll(".invisible").forEach(t=>{t.remove()}),Yo.innerText.length):0}const mn="speechSynthesis"in window;function Wi(e,t){if(mn)try{speechSynthesis.speaking&&speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(e);t&&(n.lang=t),speechSynthesis.speak(n)}catch(n){alert(n)}}function la(e){var s;const{spoilerText:t,content:n,poll:o,mediaAttachments:i}=e;let a="";return t!=null&&t.trim()?a+=t:a+=yo(n),a=a.trim(),(s=o==null?void 0:o.options)!=null&&s.length&&(a+=`

:
${o.options.map(c=>`${o.multiple?"":""} ${c.title}`).join(`
`)}`),i!=null&&i.length&&(a+=" "+i.map(c=>({image:"",gifv:"",video:"",audio:"",unknown:""})[c.type]||"").join("")),a}function vd(e,t,n){var o=this,i=D(null),a=D(0),s=D(null),c=D([]),l=D(),u=D(),d=D(e),f=D(!0);d.current=e;var p=typeof window<"u",h=!t&&t!==0&&p;if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var g=!!(n=n||{}).leading,_=!("trailing"in n)||!!n.trailing,v="maxWait"in n,T="debounceOnServer"in n&&!!n.debounceOnServer,b=v?Math.max(+n.maxWait||0,t):null;J(function(){return f.current=!0,function(){f.current=!1}},[]);var E=ie(function(){var A=function(R){var S=c.current,I=l.current;return c.current=l.current=null,a.current=R,u.current=d.current.apply(I,S)},m=function(R,S){h&&cancelAnimationFrame(s.current),s.current=h?requestAnimationFrame(R):setTimeout(R,S)},x=function(R){if(!f.current)return!1;var S=R-i.current;return!i.current||S>=t||S<0||v&&R-a.current>=b},w=function(R){return s.current=null,_&&c.current?A(R):(c.current=l.current=null,u.current)},P=function R(){var S=Date.now();if(x(S))return w(S);if(f.current){var I=t-(S-i.current),N=v?Math.min(I,b-(S-a.current)):I;m(R,N)}},M=function(){if(p||T){var R=Date.now(),S=x(R);if(c.current=[].slice.call(arguments),l.current=o,i.current=R,S){if(!s.current&&f.current)return a.current=i.current,m(P,t),g?A(i.current):u.current;if(v)return m(P,t),A(i.current)}return s.current||m(P,t),u.current}};return M.cancel=function(){s.current&&(h?cancelAnimationFrame(s.current):clearTimeout(s.current)),a.current=0,c.current=i.current=l.current=s.current=null},M.isPending=function(){return!!s.current},M.flush=function(){return s.current?w(Date.now()):u.current},M},[g,v,t,b,_,h,p,T]);return E}function _d(e,t,n){var o=n===void 0?{}:n,i=o.leading,a=o.trailing;return vd(e,t,{maxWait:t,leading:i===void 0||i,trailing:a===void 0||a})}function yd(e,t){var n=D(null),o=D(null);o.current=t;var i=D(null);J(function(){a()});var a=Se(function(){var s=i.current,c=o.current,l=s||(c?c instanceof Element?c:c.current:null);n.current&&n.current.element===l&&n.current.subscriber===e||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:l,subscriber:e,cleanup:l?e(l):void 0})},[e]);return J(function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}},[]),Se(function(s){i.current=s,a()},[a])}function Ki(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}function bd(e){e===void 0&&(e={});var t=e.onResize,n=D(void 0);n.current=t;var o=e.round||Math.round,i=D(),a=K({width:void 0,height:void 0}),s=a[0],c=a[1],l=D(!1);J(function(){return l.current=!1,function(){l.current=!0}},[]);var u=D({width:void 0,height:void 0}),d=yd(Se(function(f){return(!i.current||i.current.box!==e.box||i.current.round!==o)&&(i.current={box:e.box,round:o,instance:new ResizeObserver(function(p){var h=p[0],g=e.box==="border-box"?"borderBoxSize":e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",_=Ki(h,g,"inlineSize"),v=Ki(h,g,"blockSize"),T=_?o(_):void 0,b=v?o(v):void 0;if(u.current.width!==T||u.current.height!==b){var E={width:T,height:b};u.current.width=T,u.current.height=b,n.current?n.current(E):l.current||c(E)}})}),i.current.instance.observe(f,{box:e.box}),function(){i.current&&i.current.instance.unobserve(f)}},[e.box,o]),e.ref);return ie(function(){return{ref:d,width:s.width,height:s.height}},[d,s.width,s.height])}function so({className:e="truncated"}={}){const t=D(),n=_d(({height:o})=>{if(t.current){const{scrollHeight:i}=t.current;let a=i>o;if(a){const{height:s,maxHeight:c}=getComputedStyle(t.current),l=parseInt(c||s,10);a=i>l}t.current.classList.toggle(e,a)}},300);return bd({ref:t,box:"border-box",onResize:n}),t}const _n={public:"earth",unlisted:"group",private:"lock",direct:"message",local:"building"};var ua="kvfysmfp",da="ufhsfnkm",Td=".".concat(ua,"{overflow:hidden;touch-action:none}.").concat(da,"{transform-origin: 0 0}"),wd=typeof window>"u",Ed=function(){return!wd&&("ontouchstart"in window||navigator.maxTouchPoints>0)};var xd=function(e){var t=e.x,n=e.y,o=e.scale;return"scale3d(".concat(o,",").concat(o,", 1) translate3d(").concat(t,"px, ").concat(n,"px, 0)")};var Sd=Math.min,kd=Math.max;function Zi(e){var t=e.containerDimension,n=e.childDimension,o=e.padding,i=e.centerContained,a=n-t;return a+2*o<=0&&i?[a/2,a/2]:[Sd(a+o,0)-o,kd(0,a+o)]}var qi=function(e,t){return t?"".concat(e," ").concat(t):e},Xn=Math.abs,Ad=Math.min,Id=Math.sqrt,fa=typeof window>"u",Cd=fa?!1:/(Mac)/i.test(navigator.platform),$t=function(e){return e==="drag"},un=function(e){return e==="zoom"},Pd=function(e){return Cd&&e.ctrlKey},dn=function(e){e.stopPropagation(),e.preventDefault()},Gi=function(e,t){var n=e.x-t.x,o=e.y-t.y;return Id(n*n+o*o)},Rd=function(e,t){var n=Gi(e[0],e[1]),o=Gi(t[0],t[1]);return o/n},Ld=function(e,t){return e>t-.01&&e<t+.01},Md=function(e){return-Math.cos(e*Math.PI)/2+.5},Od=function(e){return{x:e.pageX,y:e.pageY}},Qn=function(e){return Array.from(e).map(Od)},Yi=function(e,t){return e+t},Dd=function(e){return{x:e.map(function(t){var n=t.x;return n}).reduce(Yi,0)/e.length,y:e.map(function(t){var n=t.y;return n}).reduce(Yi,0)/e.length}},Qo=function(e,t,n){return n<e?e:n>t?t:n},$d=function(e){return!(e.ctrlKey||e.metaKey)},Nd=function(e){if(e){var t=e.offsetWidth,n=e.offsetHeight;if(t&&n)return{width:t,height:n};var o=getComputedStyle(e),i=parseFloat(o.width),a=parseFloat(o.height);if(a&&i)return{width:i,height:a}}return{width:0,height:0}},Fd=function(e,t){return{x:t.x-e.x,y:t.y-e.y}},zd=function(e,t){return e.x===t.x&&e.y===t.y},xt=function(){},Jn={x:0,y:0},Xi=function(e){Ga(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._prevDragMovePoint=null,n._containerObserver=null,n._fingers=0,n._firstMove=!0,n._initialOffset=Oe({},Jn),n._interaction=null,n._isDoubleTap=!1,n._isOffsetsSet=!1,n._lastDragPosition=null,n._lastScale=1,n._lastTouchStart=0,n._lastZoomCenter=null,n._listenMouseMove=!1,n._nthZoom=0,n._offset=Oe({},Jn),n._startOffset=Oe({},Jn),n._startTouches=null,n._updatePlaned=!1,n._wheelTimeOut=null,n._zoomFactor=1,n._initialZoomFactor=1,n._draggingPoint=Oe({},Jn),n._ignoreNextClick=!1,n._containerRef=Ya(),n._handleClick=function(o){n._ignoreNextClick&&(n._ignoreNextClick=!1,o.stopPropagation())},n._onResize=function(){var o;!((o=n._containerRef)===null||o===void 0)&&o.current&&(n._updateInitialZoomFactor(),n._setupOffsets(),n._update())},n._handlerOnTouchEnd=n._handlerIfEnable(function(o){n._fingers=o.touches.length,n.props.shouldCancelHandledTouchEndEvents&&(un(n._interaction)||$t(n._interaction)&&(n._startOffset.x!==n._offset.x||n._startOffset.y!==n._offset.y))&&dn(o),$t(n._interaction)&&!n._enoughToDrag()&&n._handleClick(o),n._updateInteraction(o)}),n._handlerOnTouchStart=n._handlerIfEnable(function(o){n._firstMove=!0,n._fingers=o.touches.length,n._detectDoubleTap(o)}),n._handlerOnTouchMove=n._handlerIfEnable(function(o){n._isDoubleTap||(n._collectInertia(o),n._firstMove?(n._updateInteraction(o),n._interaction&&dn(o),n._startOffset=Oe({},n._offset),n._startTouches=Qn(o.touches)):(un(n._interaction)?n._startTouches&&n._startTouches.length===2&&o.touches.length===2&&n._handleZoom(o,Rd(n._startTouches,Qn(o.touches))):$t(n._interaction)&&n._handleDrag(o),n._interaction&&(dn(o),n._update())),n._firstMove=!1)}),n._handlerWheel=function(o){if(!n.props.shouldInterceptWheel(o)){dn(o);var i=o.pageX,a=o.pageY,s=o.deltaY,c=o.deltaMode,l=1;(Pd(o)||c===1)&&(l=15);var u={touches:[{pageX:i,pageY:a}]},d=n._getOffsetByFirstTouch(u),f=s*l;n._stopAnimation(),n._scaleTo(n._zoomFactor-f/n.props.wheelScaleFactor,d),n._update(),clearTimeout(n._wheelTimeOut),n._wheelTimeOut=setTimeout(function(){return n._sanitize()},100)}},n._handlers=n.props.isTouch()?[["touchstart",n._handlerOnTouchStart],["touchend",n._handlerOnTouchEnd],["touchmove",n._handlerOnTouchMove]]:[["mousemove",n.simulate(n._handlerOnTouchMove),n.props._document],["mouseup",n.simulate(n._handlerOnTouchEnd),n.props._document],["mousedown",n.simulate(n._handlerOnTouchStart)],["click",n._handleClick],["wheel",n._handlerWheel]],n}return t.prototype._handleDragStart=function(n){this._ignoreNextClick=!0,this.props.onDragStart(),this._stopAnimation(),this._resetInertia(),this._lastDragPosition=null,this._hasInteraction=!0,this._draggingPoint=this._offset,this._handleDrag(n)},t.prototype._handleDrag=function(n){var o=this._getOffsetByFirstTouch(n);this._enoughToDrag()?this._drag(o,this._lastDragPosition):this._virtualDrag(o,this._lastDragPosition),this._offset=this._sanitizeOffset(this._offset),this._lastDragPosition=o},t.prototype._resetInertia=function(){this._velocity=null,this._prevDragMovePoint=null},t.prototype._realizeInertia=function(){var n=this,o=this.props,i=o.inertiaFriction,a=o.inertia;if(!(!a||!this._velocity)){var s=this._velocity,c=s.x,l=s.y;if(c||l){this._stopAnimation(),this._resetInertia();var u=function(){if(c*=i,l*=i,!c&&!l)return n._stopAnimation();var d=Oe({},n._offset);if(n._addOffset({x:c,y:l}),n._offset=n._sanitizeOffset(n._offset),zd(d,n._offset))return n._stopAnimation();n._update({isAnimation:!0})};this._animate(u,{duration:9999})}}},t.prototype._collectInertia=function(n){var o=n.touches;if(this.props.inertia){var i=Qn(o)[0],a=this._prevDragMovePoint;a&&(this._velocity=Fd(i,a)),this._prevDragMovePoint=i}},t.prototype._handleDragEnd=function(){this.props.onDragEnd(),this._end(),this._realizeInertia()},t.prototype._handleZoomStart=function(){this.props.onZoomStart(),this._stopAnimation(),this._lastScale=1,this._nthZoom=0,this._lastZoomCenter=null,this._hasInteraction=!0},t.prototype._handleZoom=function(n,o){var i=Dd(this._getOffsetTouches(n)),a=o/this._lastScale;this._lastScale=o,this._nthZoom+=1,this._nthZoom>3&&(this._scale(a,i),this._drag(i,this._lastZoomCenter),this.props.enforceBoundsDuringZoom&&(this._offset=this._sanitizeOffset(this._offset))),this._lastZoomCenter=i},t.prototype._handleZoomEnd=function(){this.props.onZoomEnd(),this._end()},t.prototype._handleDoubleTap=function(n){var o=this;if(!(this._hasInteraction||this.props.tapZoomFactor===0)){var i=this.props.doubleTapZoomOutOnMaxScale&&this._zoomFactor===this.props.maxZoom||this.props.doubleTapToggleZoom&&this._zoomFactor>1;this.props.onDoubleTap(),this._ignoreNextClick=!0;var a=this._zoomFactor+this.props.tapZoomFactor,s=this._zoomFactor,c=function(u){o._scaleTo(s+u*(a-s),l)},l=this._getOffsetByFirstTouch(n);this._isDoubleTap=!0,s>a&&(l=this._getCurrentZoomCenter()),i?this._zoomOutAnimation():this._animate(c)}},t.prototype._computeInitialOffset=function(){var n=this._getContainerRect(),o=this._getChildSize(),i=o.width,a=o.height,s=-Xn(i*this._getInitialZoomFactor()-n.width)/2,c=-Xn(a*this._getInitialZoomFactor()-n.height)/2;this._initialOffset={x:s,y:c}},t.prototype._resetOffset=function(){this._offset=Oe({},this._initialOffset)},t.prototype._setupOffsets=function(){this.props.setOffsetsOnce&&this._isOffsetsSet||(this._isOffsetsSet=!0,this._computeInitialOffset(),this._resetOffset())},t.prototype._sanitizeOffset=function(n){var o=this._getContainerRect(),i=this._getChildSize(),a=i.width,s=i.height,c=a*this._getInitialZoomFactor()*this._zoomFactor,l=s*this._getInitialZoomFactor()*this._zoomFactor,u=Zi({containerDimension:o.width,childDimension:c,padding:this.props.horizontalPadding,centerContained:this.props.centerContained}),d=u[0],f=u[1],p=Zi({containerDimension:o.height,childDimension:l,padding:this.props.verticalPadding,centerContained:this.props.centerContained}),h=p[0],g=p[1];return{x:Qo(d,f,n.x),y:Qo(h,g,n.y)}},t.prototype.alignCenter=function(n){var o=this,i=Oe({duration:250,animated:!0},n),a=i.x,s=i.y,c=i.scale,l=i.animated,u=i.duration,d=a*this._initialZoomFactor,f=s*this._initialZoomFactor,p=this._zoomFactor,h=Oe({},this._offset),g=this._getContainerRect(),_={x:g.width/2,y:g.height/2};if(this._zoomFactor=1,this._offset={x:-(_.x-d),y:-(_.y-f)},this._scaleTo(c,_),this._stopAnimation(),!l)return this._update();var v=this._zoomFactor-p,T={x:this._offset.x-h.x,y:this._offset.y-h.y};this._zoomFactor=p,this._offset=Oe({},h);var b=function(E){var A=h.x+T.x*E,m=h.y+T.y*E;o._zoomFactor=p+v*E,o._offset=o._sanitizeOffset({x:A,y:m}),o._update()};this._animate(b,{callback:function(){return o._sanitize()},duration:u})},t.prototype.scaleTo=function(n){var o=this,i=Oe({duration:250,animated:!0},n),a=i.x,s=i.y,c=i.scale,l=i.animated,u=i.duration,d=this._zoomFactor,f=Oe({},this._offset);if(this._zoomFactor=1,this._offset={x:0,y:0},this._scaleTo(c,{x:a,y:s}),this._stopAnimation(),!l)return this._update();var p=this._zoomFactor-d,h={x:this._offset.x-f.x,y:this._offset.y-f.y};this._zoomFactor=d,this._offset=Oe({},f);var g=function(_){var v=f.x+h.x*_,T=f.y+h.y*_;o._zoomFactor=d+p*_,o._offset={x:v,y:T},o._update()};this._animate(g,{callback:function(){return o._sanitize()},duration:u})},t.prototype._scaleTo=function(n,o){this._scale(n/this._zoomFactor,o),this._offset=this._sanitizeOffset(this._offset)},t.prototype._scale=function(n,o){n=this._scaleZoomFactor(n),this._addOffset({x:(n-1)*(o.x+this._offset.x),y:(n-1)*(o.y+this._offset.y)}),this.props.onZoomUpdate()},t.prototype._scaleZoomFactor=function(n){var o=this._zoomFactor;return this._zoomFactor*=n,this._zoomFactor=Qo(this.props.minZoom,this.props.maxZoom,this._zoomFactor),this._zoomFactor/o},t.prototype._canDrag=function(){return this.props.draggableUnZoomed||!Ld(this._zoomFactor,1)},t.prototype._drag=function(n,o){if(o){var i=-(n.y-o.y),a=-(n.x-o.x);this.props.lockDragAxis?Xn(a)>Xn(i)?this._addOffset({x:a,y:0}):this._addOffset({y:i,x:0}):this._addOffset({x:a,y:i}),this.props.onDragUpdate()}},t.prototype._virtualDrag=function(n,o){if(o){var i=-(n.y-o.y),a=-(n.x-o.x);this._draggingPoint={x:a+this._draggingPoint.x,y:i+this._draggingPoint.y}}},t.prototype._addOffset=function(n){var o=this._offset,i=o.x,a=o.y;this._offset={x:i+n.x,y:a+n.y}},t.prototype._sanitize=function(){this._zoomFactor<this.props.zoomOutFactor?(this._resetInertia(),this._zoomOutAnimation()):this._isInsaneOffset()&&this._sanitizeOffsetAnimation()},t.prototype._isInsaneOffset=function(){var n=this._offset,o=this._sanitizeOffset(n);return o.x!==n.x||o.y!==n.y},t.prototype._sanitizeOffsetAnimation=function(){var n=this,o=this._sanitizeOffset(this._offset),i=Oe({},this._offset),a=function(s){var c=i.x+s*(o.x-i.x),l=i.y+s*(o.y-i.y);n._offset={x:c,y:l},n._update()};this._animate(a)},t.prototype._zoomOutAnimation=function(){var n=this;if(this._zoomFactor!==1){var o=this._zoomFactor,i=1,a=this._getCurrentZoomCenter(),s=function(c){var l=o+c*(i-o);n._scaleTo(l,a)};this._animate(s)}},t.prototype._getInitialZoomFactor=function(){return this._initialZoomFactor},t.prototype._getCurrentZoomCenter=function(){var n=this._offset,o=n.x,i=n.y,a=o-this._initialOffset.x,s=i-this._initialOffset.y;return{x:-1*o-a/(1/this._zoomFactor-1),y:-1*i-s/(1/this._zoomFactor-1)}},t.prototype._getOffsetByFirstTouch=function(n){return this._getOffsetTouches(n)[0]},t.prototype._getOffsetTouches=function(n){var o=this.props._document,i=o.documentElement,a=o.body,s=this._getContainerRect(),c=s.top,l=s.left,u=i.scrollTop||a.scrollTop,d=i.scrollLeft||a.scrollLeft,f=c+u,p=l+d;return Qn(n.touches).map(function(h){var g=h.x,_=h.y;return{x:g-p,y:_-f}})},t.prototype._animate=function(n,o){var i=this,a=new Date().getTime(),s=Oe({timeFn:Md,callback:function(){},duration:this.props.animationDuration},o),c=s.timeFn,l=s.callback,u=s.duration,d=function(){if(i._inAnimation){var f=new Date().getTime()-a,p=f/u;f>=u?(n(1),i._stopAnimation(),l(),i._update()):(p=c(p),n(p),i._update({isAnimation:!0}),requestAnimationFrame(d))}};this._inAnimation=!0,requestAnimationFrame(d)},t.prototype._stopAnimation=function(){this._inAnimation=!1},t.prototype._end=function(){this._hasInteraction=!1,this._sanitize(),this._update()},t.prototype._getContainerRect=function(){var n=this._containerRef.current;return n.getBoundingClientRect()},t.prototype._getChildSize=function(){var n=this._containerRef.current;return Nd(n==null?void 0:n.firstElementChild)},t.prototype._updateInitialZoomFactor=function(){var n=this._getContainerRect(),o=this._getChildSize(),i=n.width/o.width,a=n.height/o.height;this._initialZoomFactor=Ad(i,a)},t.prototype._bindEvents=function(){var n=this,o=this._containerRef.current;window.ResizeObserver?(this._containerObserver=new ResizeObserver(this._onResize),this._containerObserver.observe(o)):window.addEventListener("resize",this._onResize),this._handlers.forEach(function(i){var a=i[0],s=i[1],c=i[2];(c||o).addEventListener(a,s,!0)}),Array.from(o.querySelectorAll("img")).forEach(function(i){return i.addEventListener("load",n._onResize)})},t.prototype._unSubscribe=function(){var n=this,o=this._containerRef.current;this._containerObserver&&(this._containerObserver.disconnect(),this._containerObserver=null),window.removeEventListener("resize",this._onResize),this._handlers.forEach(function(i){var a=i[0],s=i[1],c=i[2];(c||o).removeEventListener(a,s,!0)}),Array.from(o.querySelectorAll("img")).forEach(function(i){return i.removeEventListener("load",n._onResize)})},t.prototype._update=function(n){var o=this;if(!this._updatePlaned){var i=function(){var a=o._getInitialZoomFactor()*o._zoomFactor,s=-o._offset.x/a,c=-o._offset.y/a;o.props.onUpdate({scale:a,x:s,y:c})};if(n!=null&&n.isAnimation)return i();this._updatePlaned=!0,requestAnimationFrame(function(){o._updatePlaned=!1,i()})}},t.prototype._handlerIfEnable=function(n){var o=this;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];o.props.enabled&&n.apply(void 0,i)}},t.prototype._setInteraction=function(n,o){var i=this._interaction;i!==n&&(i&&!n&&(un(i)?this._handleZoomEnd():$t(i)&&this._handleDragEnd()),un(n)?this._handleZoomStart():$t(n)&&this._handleDragStart(o)),this._interaction=n},t.prototype._distanceBetweenNumbers=function(n,o){return n>o?n-o:o-n},t.prototype._enoughToDrag=function(){return this._distanceBetweenNumbers(this._startOffset.x,this._draggingPoint.x)>5||this._distanceBetweenNumbers(this._startOffset.y,this._draggingPoint.y)>5},t.prototype._updateInteraction=function(n){var o=this._fingers;if(o===2)return this._setInteraction("zoom",n);if(o===1&&this._canDrag())return this._setInteraction("drag",n);this._setInteraction(null,n)},t.prototype._detectDoubleTap=function(n){var o=new Date().getTime();this._fingers>1&&(this._lastTouchStart=0),o-this._lastTouchStart<300?(dn(n),this._handleDoubleTap(n),un(this._interaction)?this._handleZoomEnd():$t(this._interaction)&&this._handleDragEnd()):this._isDoubleTap=!1,this._fingers===1&&(this._lastTouchStart=o)},t.prototype.simulate=function(n){var o=this;return function(i){var a=i.pageX,s=i.pageY,c=i.type,l=c==="mouseup",u=c==="mousedown";u&&(i.preventDefault(),o._listenMouseMove=!0),o._listenMouseMove&&(i.touches=l?[]:[{pageX:a,pageY:s}],n(i)),l&&(o._listenMouseMove=!1)}},t.prototype.componentDidMount=function(){this._bindEvents(),this._update()},t.prototype.componentWillUnmount=function(){this._stopAnimation(),this._unSubscribe()},t.prototype.render=function(){var n=this.props,o=n.children,i=n.containerProps,a=Xa.only(o),s=i||{};return Un.createElement(Un.Fragment,null,Un.createElement("style",null,Td),Un.createElement("div",Oe({},s,{ref:this._containerRef,className:qi(ua,s.className)}),us(a,{className:qi(da,a.props.className)})))},t.defaultProps={animationDuration:250,draggableUnZoomed:!0,enforceBoundsDuringZoom:!1,centerContained:!1,enabled:!0,inertia:!0,inertiaFriction:.96,horizontalPadding:0,isTouch:Ed,lockDragAxis:!1,maxZoom:5,minZoom:.5,onDoubleTap:xt,onDragEnd:xt,onDragStart:xt,onDragUpdate:xt,onZoomEnd:xt,onZoomStart:xt,onZoomUpdate:xt,setOffsetsOnce:!1,shouldInterceptWheel:$d,shouldCancelHandledTouchEndEvents:!1,tapZoomFactor:1,verticalPadding:0,wheelScaleFactor:1500,zoomOutFactor:1.3,doubleTapZoomOutOnMaxScale:!1,doubleTapToggleZoom:!1,_document:fa?null:window.document},t}(fs);if(0)var gh,vh,_h,yh,bh,Th,wh;function Jo(e){if(!e)return;let t=Math.floor(e/3600),n=Math.floor(e%3600/60),o=Math.round(e%60);return t===0?`${n}:${o.toString().padStart(2,"0")}`:`${t}:${n.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}const Vd=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Hd="ALT",er=e=>{const{_:t}=tt(),{alt:n,lang:o,index:i,...a}=e;return!n||!n.trim()?null:r("button",{type:"button",class:"alt-badge clickable",...a,onClick:s=>{s.stopPropagation(),s.preventDefault(),H.showMediaAlt={alt:n,lang:o}},title:t({id:"5gfDMm"}),children:[Hd,!!i&&r("sup",{children:i})]})},Bd=140,Ud=280,ha=Le(e=>e!=null&&e.length?e.length>Bd||/[\n\r].*[\n\r]/.test(e.trim()):!1);function jd({class:e="",media:t,to:n,lang:o,showOriginal:i,autoAnimate:a,showCaption:s,allowLongerCaption:c,altIndex:l,checkAspectRatio:u=!0,onClick:d=()=>{}}){let{blurhash:f,description:p,meta:h,previewRemoteUrl:g,previewUrl:_,remoteUrl:v,url:T,type:b}=t;/no\-preview\./i.test(_)&&(_=null);const{original:E={},small:A,focus:m}=h||{},x=i?E==null?void 0:E.width:(A==null?void 0:A.width)||(E==null?void 0:E.width),w=i?E==null?void 0:E.height:(A==null?void 0:A.height)||(E==null?void 0:E.height),P=i?T:_||T,M=i?v:g||v,R=x&&w,S=R?x>w?"landscape":"portrait":null,I=f?$r(f):null,N=D();let Z;if(m){const ne=(m.x+1)/2*100,z=(1-m.y)/2*100;Z=`${ne.toFixed(0)}% ${z.toFixed(0)}%`}const B=D(),X=Se(({x:ne,y:z,scale:te})=>{const{current:U}=B;if(U){const be=xd({x:ne,y:z,scale:te});te===1?U.style.removeProperty("transform"):U.style.setProperty("transform",be),U.closest(".media-zoom").style.touchAction=te<=1.01?"pan-x":""}},[]),[se,re]=K(!1),ee={enabled:se,draggableUnZoomed:!1,inertiaFriction:.9,tapZoomFactor:2,doubleTapToggleZoom:!0,containerProps:{className:"media-zoom",style:{overflow:"visible"}},onUpdate:X},Q=ie(()=>n?ne=>r(Ut,{to:n,...ne}):"div",[n]),ge=M?Wd(M):null,pe=b==="unknown"&&ge&&/\.(mp4|m4r|m4v|mov|webm)$/i.test(ge.pathname),V=b==="unknown"&&ge&&/\.(mp3|ogg|wav|m4a|m4p|m4b)$/i.test(ge.pathname),ae=b==="image"||b==="unknown"&&_&&!pe&&!V,ce=D(),[Me,ve]=K(!1);At(()=>{if(!ae||!i||!ce.current)return;const{offsetWidth:ne,offsetHeight:z}=ce.current,te=x<ne&&w<z;te&&ve(te)},[x,w]);const ze=window.innerHeight*(S==="portrait"?.45:.33),Ae=S==="portrait"?0:160,Te={"--average-color":I&&`rgb(${I.join(",")})`},Ve=x&&w?{"--width":`${x}px`,"--height":`${w}px`,"--aspectWidth":`${x/w*Math.max(Ae,ze)}px`,aspectRatio:`${x} / ${w}`,...Te}:{...Te},Ie=ha(p);let F=!!s&&!i&&!!p&&!Ie;c&&!F&&(p==null?void 0:p.length)<=Ud&&(F=!0);const Y=F?ne=>{const{children:z,...te}=ne;return r("figure",{...te,children:[z,r("figcaption",{class:"media-caption",lang:o,dir:"auto",onClick:U=>{U.preventDefault(),U.stopPropagation(),H.showMediaAlt={alt:p,lang:o}},children:p})]})}:$,[ft,nt]=K(void 0);if(ae)return ee.containerProps.style.display="inherit",At(()=>{Vd&&i&&(async()=>{try{await fetch(P,{mode:"no-cors"}),B.current.src=P}catch{}})()},[P]),r(Y,{children:r(Q,{ref:ce,class:`media media-image ${e}`,onClick:d,"data-orientation":S,"data-has-alt":!F||void 0,"data-has-natural-aspect-ratio":ft||void 0,style:i?{backgroundImage:`url(${_})`,backgroundSize:Me?`${x}px ${w}px`:void 0,...Te}:Ve,children:i?r(Xi,{...ee,children:r("img",{ref:B,src:P,alt:p,width:x,height:w,"data-orientation":S,loading:"eager",decoding:"sync",onLoad:ne=>{ne.target.closest(".media-image").style.backgroundImage="",ne.target.closest(".media-zoom").style.display="",re(!0)},onError:ne=>{const{src:z}=ne.target;z===P&&M&&P!==M&&(ne.target.src=M)}})}):r($,{children:[r("img",{src:P,alt:F?"":p,width:x,height:w,"data-orientation":S,loading:"lazy",style:{objectPosition:Z||"center","--anim-duration":`${Math.min(Math.max(Math.max(x,w)/100,5),120)}s`},onLoad:ne=>{ne.target.dataset.loaded=!0;const z=ne.target.closest(".media");if(!R&&z){const{naturalWidth:te,naturalHeight:U}=ne.target;z.dataset.orientation=te>U?"landscape":"portrait",z.style.setProperty("--width",`${te}px`),z.style.setProperty("--height",`${U}px`),z.style.aspectRatio=`${te}/${U}`}if(u&&z){const{clientWidth:te,clientHeight:U,naturalWidth:be,naturalHeight:le}=ne.target;if(te&&U&&be&&le)if(be<88||le<88)z.dataset.hasSmallDimension=!0;else{const oe=le*te/be;Math.abs(oe-U)<5&&nt(!0)}}},onError:ne=>{const{src:z}=ne.target;z===P&&P!==M&&(ne.target.src=M)}}),!F&&r(er,{alt:p,lang:o,index:l})]})})});if(b==="gifv"||b==="video"||pe){const ne=E.duration>0,z=E.duration<31,te=b==="gifv"&&z,U=E.duration<61,be=Jo(E.duration),le=!i&&!a&&te,_e=!i&&a&&te,oe=E.duration>5,je=`
      <video
        src="${T}"
        poster="${_}"
        width="${x}"
        height="${w}"
        data-orientation="${S}"
        preload="auto"
        autoplay
        muted
        playsinline
        ${U?"loop":""}
        ondblclick="this.paused ? this.play() : this.pause()"
        ${oe?"ontimeupdate=\"this.closest('.media-gif') && this.closest('.media-gif').style.setProperty('--progress', `${~~((this.currentTime / this.duration) * 100)}%`)\"":""}
      ></video>
  `,In=`
      <video
        src="${T}"
        poster="${_}"
        width="${x}"
        height="${w}"
        data-orientation="${S}"
        preload="auto"
        autoplay
        playsinline
        ${U?"loop":""}
        controls
      ></video>
    `;return r(Y,{children:r(Q,{class:`media ${e} media-${te?"gif":"video"} ${_e?"media-contain":""} ${le?"media-hover-animate":""}`,"data-orientation":S,"data-formatted-duration":i?void 0:be,"data-label":te&&!i&&!_e?"GIF":void 0,"data-has-alt":!F||void 0,style:!i&&Ve,onClick:me=>{if(le)try{N.current.pause()}catch{}d(me)},onMouseEnter:()=>{if(le)try{N.current.play()}catch{}},onMouseLeave:()=>{if(le)try{N.current.pause()}catch{}},onFocus:()=>{if(le)try{N.current.play()}catch{}},onBlur:()=>{if(le)try{N.current.pause()}catch{}},children:[i||_e?te&&i?r(Xi,{...ee,enabled:!0,children:r("div",{ref:B,dangerouslySetInnerHTML:{__html:je}})}):te?r("div",{class:"video-container",dangerouslySetInnerHTML:{__html:je}}):r("div",{class:"video-container",dangerouslySetInnerHTML:{__html:In}}):te?r("video",{ref:N,src:T,poster:_,width:x,height:w,"data-orientation":S,preload:"auto",playsinline:!0,loop:!0,muted:!0,onTimeUpdate:oe?me=>{const{target:fe}=me,We=fe==null?void 0:fe.closest(".media-gif");if(We){const Ne=fe.currentTime/fe.duration*100;We.style.setProperty("--progress",`${Ne}%`)}}:void 0}):r($,{children:[_?r("img",{src:_,alt:F?"":p,width:x,height:w,"data-orientation":S,loading:"lazy",decoding:"async",onLoad:me=>{if(!R){const fe=me.target.closest(".media");if(fe){const{naturalHeight:We,naturalWidth:Ne}=me.target;fe.dataset.orientation=Ne>We?"landscape":"portrait",fe.style.setProperty("--width",`${Ne}px`),fe.style.setProperty("--height",`${We}px`),fe.style.aspectRatio=`${Ne}/${We}`}}}}):r("video",{src:T+"#t=0.1",width:x,height:w,"data-orientation":S,preload:"metadata",muted:!0,disablePictureInPicture:!0,onLoadedMetadata:me=>{if(!ne){const{duration:fe}=me.target;if(fe){const We=Jo(fe),Ne=me.target.closest(".media-video");Ne&&(Ne.dataset.formattedDuration=We)}}}}),r("div",{class:"media-play",children:r(L,{icon:"play",size:"xl",alt:""})})]}),!i&&!F&&r(er,{alt:p,lang:o,index:l})]})})}else if(b==="audio"||V){const ne=Jo(E.duration);return r(Y,{children:r(Q,{class:`media media-audio ${e}`,"data-formatted-duration":i?void 0:ne,"data-has-alt":!F||void 0,onClick:d,style:!i&&Ve,children:[i?r("audio",{src:v||T,preload:"none",controls:!0,autoPlay:!0}):_?r("img",{src:_,alt:F?"":p,width:x,height:w,"data-orientation":S,loading:"lazy",onError:z=>{var te,U;try{(U=(te=z.target)==null?void 0:te.remove)==null||U.call(te)}catch{}}}):null,!i&&r($,{children:[r("div",{class:"media-play",children:r(L,{icon:"play",size:"xl",alt:""})}),!F&&r(er,{alt:p,lang:o,index:l})]})]})})}}function Wd(e){return URL.parse(e,location.origin)}const vr=qt(jd,(e,t)=>{const n=e.media||{},o=t.media||{};return(n==null?void 0:n.id)===(o==null?void 0:o.id)&&n.url===o.url&&e.to===t.to&&e.class===t.class}),Kd=280,Zd=140,qd=hs({limit:1,interval:1e3});function Gd(e,t){return t.v1.accounts.$select(e).fetch()}const Yd=go(qd(Gd)),kt={public:{id:"7d1a0d"},local:{id:"d5zxa4"},unlisted:{id:"WDcQq9"},private:{id:"o34OrG"},direct:{id:"IV4QaU"}},Xd=window.ontouchstart!==void 0&&/iPad|iPhone|iPod/.test(navigator.userAgent),Qd=new Intl.RelativeTimeFormat,Qi=80;function Jd(e){var t;return(t=e==null?void 0:e.options)!=null&&t.length?`:
${e.options.map(n=>`- ${n.title}${n.votesCount>=0?` (${n.votesCount})`:""}`).join(`
`)}`:""}function tr(e){const{spoilerText:t,content:n,poll:o}=e;return(t?`${t}

`:"")+yo(n)+Jd(o)}function pa(e=[],t=document){for(const n of e)try{return t.querySelectorAll(n)}catch{}return[]}function ef(e){return!e||(e=e.trim(),!e)?!1:!!yo(e,{preProcess:n=>{for(const o of pa([".mention, pre, code, a:has(.invisible)",".mention, pre, code"],n))o.remove()}})}function tf(e){return yo(e,{preProcess:t=>{for(const n of pa([".mention, .hashtag, pre, code, a:has(.invisible)",".mention, .hashtag, pre, code"],t))n.remove();for(const n of t.querySelectorAll("a")){const o=n.innerText.trim();(o.startsWith("https://")||o.startsWith("http://"))&&n.remove()}}})}const nf=/^http/i,Ji=({post:e,instance:t,previewMode:n})=>{const{content:o,emojis:i,language:a,mentions:s,url:c}=e,l=D();return At(()=>{if(!l.current)return;const u=Zs(o,{emojis:i,returnDOM:!0});for(const d of u.querySelectorAll('a.u-url[target="_blank"]'))nf.test(d.innerText.trim())||d.removeAttribute("target");l.current.replaceChildren(u.cloneNode(!0))},[o,i.length]),r("div",{ref:l,lang:a,dir:"auto",class:"inner-content",onClick:bu({mentions:s,instance:t,previewMode:n,statusURL:c})})},of={s:"small",m:"medium",l:"large"},rf=go(async e=>{const{detectAll:t}=await k(async()=>{const{detectAll:i}=await import("./tinyld-light-tbgyvj3S.js");return{detectAll:i}},[],import.meta.url);if(e=e==null?void 0:e.trim(),(e==null?void 0:e.length)>500)return null;const o=t(e)[0];return o!=null&&o.lang&&(o==null?void 0:o.accuracy)>.5?o.lang:null}),yn={id:"8fZueG"},_r={},es=(e,t=[])=>{if(!e)return!1;const n=$s(!0),o=e!==n&&!bn([e],[n])&&!t.find(i=>e===i||bn([e],[i]));return _r[e+t]=!0,o};function Zt({statusID:e,status:t,instance:n,size:o="m",contentTextWeight:i,readOnly:a,enableCommentHint:s,withinContext:c,skeleton:l,enableTranslate:u,forceTranslate:d,previewMode:f,onMediaClick:p,quoted:h,onStatusLinkClick:g=()=>{},showFollowedTags:_,allowContextMenu:v,showActionsBar:T,showReplyParent:b,mediaFirst:E}){var oi,ri,ii,si;const{_:A,_:m}=tt();if(l)return r("div",{class:`status skeleton ${E?"status-media-first small":""}`,children:[!E&&r(at,{size:"xxl"}),r("div",{class:"container",children:[r("div",{class:"meta",children:[(o==="s"||E)&&r(at,{size:"m"}),"  "]}),r("div",{class:"content-container",children:[E&&r("div",{class:"media-first-container"}),r("div",{class:`content ${E?"media-first-content":""}`,children:r("p",{children:" "})})]})]})]});const{masto:x,instance:w,authenticated:P}=co({instance:n}),{instance:M}=co(),R=w===M;let S=st(e||(t==null?void 0:t.id),w);const I=kn(H);if(t||(t=I.statuses[S]||I.statuses[e],S=st(t==null?void 0:t.id,w)),!t)return null;const{account:{acct:N,avatar:Z,avatarStatic:B,id:X,url:se,displayName:re,username:ee,emojis:Q,bot:ge,group:pe},id:V,repliesCount:ae,reblogged:ce,reblogsCount:Me,favourited:ve,favouritesCount:ze,bookmarked:Ae,poll:Te,muted:Ve,sensitive:Ie,spoilerText:F,visibility:Y,language:ft,editedAt:nt,filtered:ne,card:z,createdAt:te,inReplyToId:U,inReplyToAccountId:be,content:le,mentions:_e,mediaAttachments:oe,reblog:je,uri:In,url:me,emojis:fe,tags:We,pinned:Ne,_deleted:Ge,_pinned:Ct,emojiReactions:Pt}=t,[Xt,Cn]=K(null);J(()=>{if(!le||ft||Xt)return;let y;return y=setTimeout(async()=>{let C=await rf(tf(le));Cn(C)},1e3),()=>clearTimeout(y)},[le,ft]);const ye=ft||Xt,Qt=!!(oe!=null&&oe.length);E&&Qt&&(o="s");const ht=ie(()=>kr(),[]),q=ie(()=>ht&&ht===X,[X,ht]),xe=$e(ca),Ce=!q&&!a&&!f&&Nr(ne,xe);if((Ce==null?void 0:Ce.action)==="hide")return null;const Pe=y=>{y.shiftKey};if(o!=="l"&&Ce)return r(pf,{status:t,filterInfo:Ce,instance:w,containerProps:{onMouseEnter:Pe},showFollowedTags:!0,quoted:h});const he=new Date(te),Tt=new Date(nt);let Jt=_e==null?void 0:_e.find(y=>y.id===be);!Jt&&be===V&&(Jt={url:se,username:ee,displayName:re});const[ot,Pn]=K(Jt);if(!c&&!ot&&be){const y=H.accounts[be];y?Pn(y):Yd(be,x).then(C=>{Pn(C),H.accounts[C.id]=C}).catch(C=>{})}const Rn=be===ht||(_e==null?void 0:_e.find(y=>y.id===ht)),Ze=ie(()=>!!(or.account.get("preferences")||{})["reading:expand:spoilers"],[]),Ln=ie(()=>{var C;return((C=(or.account.get("preferences")||{})["reading:expand:media"])==null?void 0:C.toLowerCase())||"default"},[]),Ke=f||Ze||!!I.spoilers[V],qe=f||Ln==="show_all"||!!I.spoilersMedia[V];if(je)return pe?r("div",{"data-state-post-id":S,class:"status-group",onMouseEnter:Pe,children:[r("div",{class:"status-pre-meta",children:[r(L,{icon:"group",size:"l",alt:m({id:"L8fEEm"})})," ",r(_t,{account:t.account,instance:w,showAvatar:!0})]}),r(Zt,{status:e?null:je,statusID:e?je.id:null,instance:w,size:o,contentTextWeight:i,readOnly:a,mediaFirst:E})]}):r("div",{"data-state-post-id":S,class:"status-reblog",onMouseEnter:Pe,children:[r("div",{class:"status-pre-meta",children:[r(L,{icon:"rocket",size:"l"})," ",r(O,{id:"DlhB4J",components:{0:r(_t,{account:t.account,instance:w,showAvatar:!0}),1:r("span",{})}})]}),r(Zt,{status:e?null:je,statusID:e?je.id:null,instance:w,size:o,contentTextWeight:i,readOnly:a,enableCommentHint:!0,mediaFirst:E})]});const en=Se(({children:y})=>r("div",{"data-state-post-id":S,class:"status-followed-tags",onMouseEnter:Pe,children:[r("div",{class:"status-pre-meta",children:[r(L,{icon:"hashtag",size:"l"})," ",I.statusFollowedTags[S].slice(0,3).map(C=>r(Ut,{to:w?`/${w}/t/${C}`:`/t/${C}`,class:"status-followed-tag-item",children:C},C))]}),y]}),[S,w,I.statusFollowedTags[S]]),tn=_&&((oi=I.statusFollowedTags[S])!=null&&oi.length)?en:$,ue=o==="l",[bo,ka]=K(d),{contentTranslation:To,contentTranslationAutoInline:zr}=I.settings;To||(u=!1);const Vr=ie(()=>{if(!To||!zr||a||c&&!ue||f||F||Ie||Te||z||oe!=null&&oe.length)return!1;const y=Xo(le);return y>0&&y<=Zd},[To,zr,a,c,ue,f,F,Ie,Te,z,oe,le]),[wo,Mn]=K(!1),[Aa,Eo]=K(!1),Hr=so(),Br=so(),Ia=so(),Rt=D(null),On=m({id:"7jyUKe"}),Ur=Se(()=>Math.max(Math.round((F.length+Xo(le))/140)||1,1),[F,le]),jr=xn(he),Wr=nt&&xn(Tt);let nn=P&&Y!=="direct"&&Y!=="private";Y==="private"&&q&&(nn=!0);const Dn=y=>{var C;if(!R||!P)return alert(On);(y!=null&&y.shiftKey||(C=y==null?void 0:y.syntheticEvent)!=null&&C.shiftKey)&&bc({replyToStatus:t})||qn({replyToStatus:t})},Kr=ie(()=>oe.some(y=>{var C,G;return!((G=(C=y.description)==null?void 0:C.trim)!=null&&G.call(C))}),[oe]),Zr=ie(()=>Math.floor((new Date-he)/(1e3*60*60*24*30)),[he]),xo=async()=>{if(!R||!P)return alert(On),!1;try{if(H.statuses[S]={...t,reblogged:!ce,reblogsCount:Me+(ce?-1:1)},ce){const y=await x.v1.statuses.$select(V).unreblog();pt(y,w)}else{const y=await x.v1.statuses.$select(V).reblog();pt(y,w)}return!0}catch{return H.statuses[S]=t,!1}},qr=async()=>{if(!R||!P)return alert(On),!1;try{if(H.statuses[S]={...t,favourited:!ve,favouritesCount:ze+(ve?-1:1)},ve){const y=await x.v1.statuses.$select(V).unfavourite();pt(y,w)}else{const y=await x.v1.statuses.$select(V).favourite();pt(y,w)}return!0}catch{return H.statuses[S]=t,!1}},So=async()=>{try{const y=await qr();!ue&&y&&Re(m(ve?{id:"sZvpIt",values:{0:ee||N}}:{id:"QB/n+J",values:{1:ee||N}}))}catch{}},Gr=async()=>{if(Zn("@mastodon/post-bookmark")){if(!R||!P)return alert(On),!1;try{if(H.statuses[S]={...t,bookmarked:!Ae},Ae){const y=await x.v1.statuses.$select(V).unbookmark();pt(y,w)}else{const y=await x.v1.statuses.$select(V).bookmark();pt(y,w)}return!0}catch{return H.statuses[S]=t,!1}}},Yr=async()=>{try{const y=await Gr();!ue&&y&&Re(m(Ae?{id:"+Q6x2B",values:{2:ee||N}}:{id:"cQEDZY",values:{3:ee||N}}))}catch{}},on=I.settings.contentTranslationHideLanguages||[],[Lt,Ca]=K(_r[ye+on]?es(ye,on):!1);J(()=>{if(!ye||Lt||_r[ye+on])return;let y=setTimeout(()=>{const C=es(ye,on);C&&Ca(C)},1);return()=>clearTimeout(y)},[ye,Lt,on]);const Xr=D(),Qr=D();async function Pa(y){var de,Be,Mt,ko;y&&(Xr.current=x.v1.statuses.$select(e).rebloggedBy.list({limit:Qi}),Qr.current=x.v1.statuses.$select(e).favouritedBy.list({limit:Qi}));const[{value:C},{value:G}]=await Promise.allSettled([Xr.current.next(),Qr.current.next()]);if((de=C.value)!=null&&de.length||(Be=G.value)!=null&&Be.length){const wt=[];return(Mt=C.value)!=null&&Mt.length&&wt.push(...C.value.map(Et=>(Et._types=["reblog"],Et))),(ko=G.value)!=null&&ko.length&&wt.push(...G.value.map(Et=>(Et._types=["favourite"],Et))),{value:wt,done:C.done&&G.done}}return{value:[],done:!0}}const Ra=D(),Jr=["public","unlisted"].includes(Y),La=["public","unlisted","private"].includes(Y),ei=r($,{children:[!ue&&R&&r($,{children:r("div",{class:"menu-control-group-horizontal status-menu",children:[r(Ee,{onClick:Dn,children:[r(L,{icon:"comment"}),r("span",{children:ae>0?it(ae):m({id:"ImOQa9"})})]}),r(Lo,{subMenu:!0,confirmLabel:r($,{children:[r(L,{icon:"rocket"}),r("span",{children:m(ce?{id:"QzzGsY"}:{id:"kulphB"})})]}),className:`menu-reblog ${ce?"checked":""}`,menuExtras:r(Ee,{onClick:()=>{qn({draftStatus:{status:`
${me}`}})},children:[r(L,{icon:"quote"}),r("span",{children:r(O,{id:"ZhhOwV"})})]}),menuFooter:Kr&&!ce?r("div",{class:"footer",children:[r(L,{icon:"alert"}),r(O,{id:"MB+wJL"})]}):Zr>=3&&r("div",{class:"footer",children:[r(L,{icon:"info"}),r("span",{children:r(O,{id:"dBme/4",values:{0:Qd.format(-Zr,"month")},components:{0:r("strong",{})}})})]}),disabled:!nn,onClick:async()=>{try{const y=await xo();!ue&&y&&Re(m(ce?{id:"BgT3ls",values:{4:ee||N}}:{id:"iSYdyi",values:{5:ee||N}}))}catch{}},children:[r(L,{icon:"rocket"}),r("span",{children:Me>0?it(Me):m(ce?{id:"QzzGsY"}:{id:"PiVIlD"})})]}),r(Ee,{onClick:So,className:`menu-favourite ${ve?"checked":""}`,children:[r(L,{icon:"heart"}),r("span",{children:ze>0?it(ze):m(ve?{id:"OcUmcH"}:{id:"W9FRBT"})})]}),Zn("@mastodon/post-bookmark")&&r(Ee,{onClick:Yr,className:`menu-bookmark ${Ae?"checked":""}`,children:[r(L,{icon:"bookmark"}),r("span",{children:m(Ae?{id:"q8EQYI"}:{id:"PZlHt8"})})]})]})}),!ue&&R&&(ue||T)&&r(an,{}),(ue||T)&&r($,{children:r(Ee,{onClick:()=>{H.showGenericAccounts={heading:m({id:"+XOeb+"}),fetchAccounts:Pa,instance:w,showReactions:!0,postID:S}},children:[r(L,{icon:"react"}),r("span",{children:r(O,{id:"+XOeb+"})})]})}),!E&&r($,{children:[(u||!ye||Lt)&&r(an,{}),u?r("div",{class:mn?"menu-horizontal":"",children:[r(Ee,{disabled:bo,onClick:()=>{ka(!0)},children:[r(L,{icon:"translate"}),r("span",{children:r(O,{id:"pi8x/S"})})]}),mn&&r(Ee,{onClick:()=>{const y=tr(t);y&&Wi(y,ye)},children:[r(L,{icon:"speak"}),r("span",{children:r(O,{id:"yIBLq8"})})]})]}):(!ye||Lt)&&r("div",{class:mn?"menu-horizontal":"",children:[r(Ti,{to:`${w?`/${w}`:""}/s/${V}?translate=1`,children:[r(L,{icon:"translate"}),r("span",{children:r(O,{id:"pi8x/S"})})]}),mn&&r(Ee,{onClick:()=>{const y=tr(t);y&&Wi(y,ye)},children:[r(L,{icon:"speak"}),r("span",{children:r(O,{id:"yIBLq8"})})]})]})]}),(!ue&&R||u||!ye||Lt)&&r(an,{}),!ue&&r($,{children:r(Ti,{to:w?`/${w}/s/${V}`:`/s/${V}`,onClick:y=>{g(y,t)},children:[r(L,{icon:"arrows-right"}),r("small",{children:[r(O,{id:"8MkSAW",values:{0:ee||N},components:{0:r("span",{class:"bidi-isolate"})}}),r("br",{}),r("span",{class:"more-insignificant",children:[A(kt[Y]),"  ",jr]})]})]})}),!!nt&&r($,{children:r(Ee,{onClick:()=>{Mn(V)},children:[r(L,{icon:"history"}),r("small",{children:[r(O,{id:"QL+7Jw"}),r("br",{}),r("span",{class:"more-insignificant",children:r(O,{id:"DuJJm9",values:{editedDateText:Wr}})})]})]})}),r(Ee,{href:me,target:"_blank",children:[r(L,{icon:"external"}),r("small",{class:"menu-double-lines",style:{maxWidth:"16em"},children:ff(me)})]}),r("div",{class:"menu-horizontal",children:[r(Ee,{onClick:()=>{try{navigator.clipboard.writeText(me),Re(m({id:"edWbV6"}))}catch{Re(m({id:"W1ewR0"}))}},children:[r(L,{icon:"link"}),r("span",{children:r(O,{id:"he3ygx"})})]}),Jr&&(navigator==null?void 0:navigator.share)&&((ri=navigator==null?void 0:navigator.canShare)==null?void 0:ri.call(navigator,{url:me}))&&r(Ee,{onClick:()=>{try{navigator.share({url:me})}catch{alert(m({id:"TtG3Uh"}))}},children:[r(L,{icon:"share"}),r("span",{children:r(O,{id:"LFKLqp"})})]})]}),Jr&&ue&&r(Ee,{onClick:()=>{Eo(!0)},children:[r(L,{icon:"code"}),r("span",{children:r(O,{id:"jdVwsS"})})]}),(q||Rn)&&r(an,{}),(q||Rn)&&r(Ee,{onClick:async()=>{try{const y=await x.v1.statuses.$select(V)[Ve?"unmute":"mute"]();pt(y,w),Re(m(Ve?{id:"Pm+5jw"}:{id:"ywB7JM"}))}catch{Re(m(Ve?{id:"c6jxNY"}:{id:"8SN9kN"}))}},children:Ve?r($,{children:[r(L,{icon:"unmute"}),r("span",{children:r(O,{id:"i51zUR"})})]}):r($,{children:[r(L,{icon:"mute"}),r("span",{children:r(O,{id:"OiUYO5"})})]})}),q&&La&&r(Ee,{onClick:async()=>{try{const y=await x.v1.statuses.$select(V)[Ne?"unpin":"pin"]();pt(y,w),Re(m(Ne?{id:"Yx809+"}:{id:"S6P6E+"}))}catch{Re(m(Ne?{id:"A6cs15"}:{id:"vgUfWO"}))}},children:Ne?r($,{children:[r(L,{icon:"unpin"}),r("span",{children:r(O,{id:"XQMQZw"})})]}):r($,{children:[r(L,{icon:"pin"}),r("span",{children:r(O,{id:"lfHLsx"})})]})}),q&&r("div",{class:"menu-horizontal",children:[Zn("@mastodon/post-edit")&&r(Ee,{onClick:()=>{qn({editStatus:t})},children:[r(L,{icon:"pencil"}),r("span",{children:r(O,{id:"ePK91l"})})]}),ue&&r(Lo,{subMenu:!0,confirmLabel:r($,{children:[r(L,{icon:"trash"}),r("span",{children:r(O,{id:"FbPNuJ"})})]}),itemProps:{className:"danger"},menuItemClassName:"danger",onClick:()=>{(async()=>{try{await x.v1.statuses.$select(V).remove();const y=ms(V,w);y._deleted=!0,Re(m({id:"KiyvHV"}))}catch{Re(m({id:"Yb6p2q"}))}})()},children:[r(L,{icon:"trash"}),r("span",{children:r(O,{id:"Jb6/SB"})})]})]}),!q&&ue&&r($,{children:[r(an,{}),r(Ee,{className:"danger",onClick:()=>{H.showReportModal={account:t.account,post:t}},children:[r(L,{icon:"flag"}),r("span",{children:r(O,{id:"7PQAMY"})})]})]})]}),ti=D(),[$n,rn]=K(!1),[Nn,Fn]=K({}),zn=v||!ue&&!f&&!Ge&&!h,Ma=aa(Xd&&zn?y=>{var Be;if(y.pointerType==="mouse")return;const{clientX:C,clientY:G}=((Be=y.touches)==null?void 0:Be[0])||y,de=y.target.closest("a");de&&Rt.current.contains(de)&&!de.getAttribute("href").startsWith("#")||(y.preventDefault(),Fn({anchorPoint:{x:C,y:G},direction:"right"}),rn(!0))}:null,{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),Vn=!a&&!f&&!h,Oa=Ft("r, shift+r",Dn,{enabled:Vn}),Da=Ft("f, l",So,{enabled:Vn}),$a=Ft("d",Yr,{enabled:Vn}),Na=Ft("shift+b",()=>{(async()=>{try{const y=await xo();!ue&&y&&Re(m(ce?{id:"G3tPNv",values:{6:ee||N}}:{id:"r8jwY4",values:{7:ee||N}}))}catch{}})()},{enabled:Vn&&nn}),Fa=Ft("x",y=>{const C=document.activeElement.closest(".status-link, .status-focus");if(C){const G=C.querySelector(".spoiler-button:not(.spoiling)");if(G)y.stopPropagation(),G.click();else{const de=C.querySelector(".spoiler-media-button:not(.spoiling)");de&&(y.stopPropagation(),de.click())}}}),Hn=oe.slice(0,ue?void 0:4),Bn=oe.length>1&&Hn.some(y=>!!y.description&&!ha(y.description)),za=ie(()=>{if(!Bn)return null;const y=[];return Hn.forEach((C,G)=>{if(!C.description)return;const de=y.findIndex(Be=>Be.media.description===C.description);de===-1?y.push({media:C,indices:[G]}):y[de].indices.push(G)}),y.map(({media:C,indices:G})=>r("div",{"data-caption-index":G.map(de=>de+1).join(" "),onClick:de=>{de.preventDefault(),de.stopPropagation(),H.showMediaAlt={alt:C.description,lang:ye}},title:C.description,children:[r("sup",{children:G.map(de=>de+1).join(" ")})," ",C.description]},C.id))},[Bn,Hn,ye]),sn=ie(()=>{var y;return!!U&&be===((y=t.account)==null?void 0:y.id)||!!I.statusThreadNumber[S]},[U,be,(ii=t.account)==null?void 0:ii.id,I.statusThreadNumber[S]]),Va=ie(()=>s&&!sn&&!c&&!U&&Y==="public"&&ae>0,[s,sn,c,U,ae,Y]),ni=ie(()=>{if(z||Te||Ie||F||oe!=null&&oe.length||sn||c||U||ae<=0||!/[??]/.test(le))return!1;const G=Xo(le);if(G>0&&G<=Kd)return!0},[z,Te,Ie,F,oe,je,sn,c,U,ae,le]);return r(tn,{children:[b&&!!(U&&be)&&r(hf,{sKey:S}),r("article",{"data-state-post-id":S,ref:y=>{var G;Rt.current=y;const C=((G=y==null?void 0:y.closest)==null?void 0:G.call(y,".timeline-item, .timeline-item-alt, .status-link, .status-focus"))||y;Oa(C),Da(C),$a(C),Na(C),Fa(C)},tabindex:"-1",class:`status ${!c&&U&&ot?"status-reply-to":""} visibility-${Y} ${Ct?"status-pinned":""} ${of[o]} ${Ge?"status-deleted":""} ${h?"status-card":""} ${$n?"status-menu-open":""} ${E&&Qt?"status-media-first":""}`,onMouseEnter:Pe,onContextMenu:y=>{var de,Be;if(!zn||y.metaKey)return;const C=y.target.closest("a");if(C&&Rt.current.contains(C)&&!C.getAttribute("href").startsWith("#"))return;const G=(de=window.getSelection)==null?void 0:de.call(window);if(G.toString().length>0){const{anchorNode:Mt}=G;if((Be=Rt.current)!=null&&Be.contains(Mt))return}y.preventDefault(),Fn({anchorPoint:{x:y.clientX,y:y.clientY},direction:"right"}),rn(!0)},...zn?Ma():{},children:[zn&&r(Ss,{ref:ti,state:$n?"open":void 0,...Nn,onClose:y=>{var C,G,de;rn(!1),(y==null?void 0:y.reason)==="click"&&((de=(G=(C=Rt.current)==null?void 0:C.closest("[tabindex]"))==null?void 0:G.focus)==null||de.call(G))},portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:()=>{var y,C;(C=(y=ti.current)==null?void 0:y.closeMenu)==null||C.call(y)}},overflow:"auto",boundingBoxPadding:Os(),unmountOnClose:!0,children:ei}),T&&o!=="l"&&!f&&!a&&!Ge&&!h&&r("div",{class:`status-actions ${$n==="actions-bar"?"open":""}`,ref:Ra,children:[r(Nt,{size:"s",title:m({id:"ImOQa9"}),alt:m({id:"ImOQa9"}),class:"reply-button",icon:"comment",iconSize:"m",onClick:Dn}),r(Nt,{size:"s",checked:ve,title:[m({id:"W9FRBT"}),m({id:"OcUmcH"})],alt:[m({id:"W9FRBT"}),m({id:"8ab1sR"})],class:"favourite-button",icon:"heart",iconSize:"m",count:ze,onClick:So}),r("button",{type:"button",title:m({id:"2FYpfJ"}),class:"plain more-button",onClick:y=>{y.preventDefault(),y.stopPropagation(),Fn({anchorRef:{current:y.currentTarget},align:"start",direction:"left",gap:0,shift:-8}),rn("actions-bar")},children:r(L,{icon:"more2",size:"m",alt:m({id:"2FYpfJ"})})})]}),o!=="l"&&r("div",{class:"status-badge",children:[ce&&r(L,{class:"reblog",icon:"rocket",size:"s",alt:m({id:"b7T5Zj"})}),ve&&r(L,{class:"favourite",icon:"heart",size:"s",alt:m({id:"8ab1sR"})}),Ae&&r(L,{class:"bookmark",icon:"bookmark",size:"s",alt:m({id:"1C/9Sa"})}),Ct&&r(L,{class:"pin",icon:"pin",size:"s",alt:m({id:"kNiQp6"})})]}),o!=="s"&&r("a",{href:se,tabindex:"-1",title:`@${N}`,onClick:y=>{y.preventDefault(),y.stopPropagation(),H.showAccount={account:t.account,instance:w}},children:r(at,{url:B||Z,size:"xxl",squircle:ge})}),r("div",{class:"container",children:[r("div",{class:"meta",children:[r("span",{class:"meta-name",children:r(_t,{account:t.account,instance:w,showAvatar:o==="s",showAcct:ue})})," ",o!=="l"&&(Ge?r("span",{class:"status-deleted-tag",children:r(O,{id:"vGjmyl"})}):me&&!f&&!a&&!h?r(Ut,{to:w?`/${w}/s/${V}`:`/s/${V}`,onClick:y=>{y.metaKey||y.ctrlKey||y.shiftKey||y.altKey||y.which===2||(y.preventDefault(),y.stopPropagation(),g==null||g(y,t),Fn({anchorRef:{current:y.currentTarget},align:"end",direction:"bottom",gap:4}),rn(!0))},class:`time ${$n&&(Nn!=null&&Nn.anchorRef)?"is-open":""}`,children:[Va&&!ni?r(L,{icon:"comment2",size:"s",alt:ke._({id:"RXmXDR",values:{repliesCount:ae}})}):Y!=="public"&&Y!=="direct"&&r(L,{icon:_n[Y],alt:A(kt[Y]),size:"s"})," ",r(ct,{datetime:he,format:"micro"}),!f&&!a&&r(L,{icon:"more2",class:"more",alt:m({id:"2FYpfJ"})})]}):r("span",{class:"time",children:[Y!=="public"&&Y!=="direct"&&r($,{children:[r(L,{icon:_n[Y],alt:A(kt[Y]),size:"s"})," "]}),r(ct,{datetime:he,format:"micro"})]}))]}),Y==="direct"&&r($,{children:[r("div",{class:"status-direct-badge",children:r(O,{id:"IV4QaU"})})," "]}),!c&&r($,{children:sn?r("div",{class:"status-thread-badge",children:[r(L,{icon:"thread",size:"s"}),r(O,{id:"lQ8zCz",values:{0:I.statusThreadNumber[S]?` ${I.statusThreadNumber[S]}/X`:""}})]}):!!U&&!!ot&&(!!F||!_e.find(y=>y.id===be))&&r("div",{class:"status-reply-badge",children:[r(L,{icon:"reply"})," ",r(_t,{account:ot,instance:w,short:!0})]})}),r("div",{class:`content-container ${F||Ie?"has-spoiler":""} ${Ke?"show-spoiler":""} ${qe?"show-media":""}`,"data-content-text-weight":i?Ur():null,style:(ue||i)&&{"--content-text-weight":Ur()},children:E&&Qt?r($,{children:[(!!F||!!Ie)&&!Ze&&r($,{children:[!!F&&r("span",{class:"spoiler-content media-first-spoiler-content",lang:ye,dir:"auto",ref:Hr,"data-read-more":A(yn),children:[r(jt,{text:F,emojis:fe})," "]}),r("button",{class:`light spoiler-button media-first-spoiler-button ${Ke?"spoiling":""}`,type:"button",onClick:y=>{y.preventDefault(),y.stopPropagation(),Ke?(delete H.spoilers[V],Ze||delete H.spoilersMedia[V]):(H.spoilers[V]=!0,Ze||(H.spoilersMedia[V]=!0))},children:[r(L,{icon:Ke?"eye-open":"eye-close"})," ",m(Ke?{id:"6lGV3K"}:{id:"lqBX03"})]})]}),r(af,{mediaAttachments:oe,language:ye,postID:V,instance:w}),!!le&&r("div",{class:"media-first-content content",ref:Br,children:r(Ji,{post:t,instance:w,previewMode:f})})]}):r($,{children:[!!F&&r($,{children:[r("div",{class:"content spoiler-content",lang:ye,dir:"auto",ref:Hr,"data-read-more":A(yn),children:r("p",{children:r(jt,{text:F,emojis:fe})})}),Ze||f?r("div",{class:"spoiler-divider",children:[r(L,{icon:"eye-open"})," ",r(O,{id:"gnKo7f"})]}):r("button",{class:`light spoiler-button ${Ke?"spoiling":""}`,type:"button",onClick:y=>{y.preventDefault(),y.stopPropagation(),Ke?(delete H.spoilers[V],Ze||delete H.spoilersMedia[V]):(H.spoilers[V]=!0,Ze||(H.spoilersMedia[V]=!0))},children:[r(L,{icon:Ke?"eye-open":"eye-close"})," ",m(Ke?{id:"6lGV3K"}:{id:"lqBX03"})]})]}),!!le&&r("div",{class:"content",ref:Br,"data-read-more":A(yn),inert:F&&!Ke?!0:void 0,children:[r(Ji,{post:t,instance:w,previewMode:f}),r(mf,{id:V,instance:w,level:h})]}),!!Te&&r(pd,{lang:ye,poll:Te,readOnly:a||!R||!P,onUpdate:y=>{H.statuses[S].poll=y},refresh:()=>x.v1.polls.$select(Te.id).fetch().then(y=>{H.statuses[S].poll=y}).catch(y=>{}),votePoll:y=>x.v1.polls.$select(Te.id).votes.create({choices:y}).then(C=>{H.statuses[S].poll=C}).catch(C=>{})}),((u||Vr)&&ef(le)&&Lt||bo)&&r(Gu,{forceTranslate:bo||Vr,mini:!ue&&!c,sourceLanguage:ye,autoDetected:Xt,text:tr(t)}),!f&&Ie&&!!oe.length&&Ln!=="show_all"&&r("button",{class:`plain spoiler-media-button ${qe?"spoiling":""}`,type:"button",hidden:!Ze&&!!F,onClick:y=>{y.preventDefault(),y.stopPropagation(),qe?delete H.spoilersMedia[V]:H.spoilersMedia[V]=!0},children:[r(L,{icon:qe?"eye-open":"eye-close"})," ",m(qe?{id:"6lGV3K"}:{id:"9ZCilh"})]}),!!oe.length&&(oe.length>1&&(ue||c&&o==="m")?r("div",{class:"media-large-container",children:oe.map((y,C)=>r("div",{class:"media-container media-eq1",children:r(vr,{media:y,autoAnimate:!0,showCaption:!0,allowLongerCaption:!le,lang:ye,to:`/${w}/s/${V}?${c?"media":"media-only"}=${C+1}`,onClick:p?G=>p(G,C,y,t):void 0})},y.id))}):r(sf,{lang:ye,enabled:Bn,captionChildren:za,children:r("div",{ref:Ia,class:`media-container media-eq${oe.length} ${oe.length>2?"media-gt2":""} ${oe.length>4?"media-gt4":""}`,children:Hn.map((y,C)=>r(vr,{media:y,autoAnimate:ue,showCaption:oe.length===1,allowLongerCaption:!le&&oe.length===1,lang:ye,altIndex:Bn&&!!y.description&&C+1,to:`/${w}/s/${V}?${c?"media":"media-only"}=${C+1}`,onClick:p?G=>{p(G,C,y,t)}:void 0,checkAspectRatio:oe.length===1},y.id))})})),!!z&&/^https/i.test(z==null?void 0:z.url)&&!Ie&&!F&&!Te&&!oe.length&&!I.statusQuotes[S]&&r(lf,{card:z,selfReferential:(z==null?void 0:z.url)===t.url||(z==null?void 0:z.url)===t.uri,selfAuthor:(si=z==null?void 0:z.authors)==null?void 0:si.some(y=>{var C;return((C=y.account)==null?void 0:C.url)===se}),instance:M})]})}),!ue&&ni&&r("div",{class:"content-comment-hint insignificant",children:[r(L,{icon:"comment2",alt:m({id:"N8UzTV"})})," ",ae]}),ue&&r($,{children:[r("div",{class:"extra-meta",children:Ge?r("span",{class:"status-deleted-tag",children:r(O,{id:"vGjmyl"})}):r($,{children:[r("span",{children:A(kt[Y])})," "," ",r("a",{href:me,target:"_blank",rel:"noopener noreferrer",children:[new Date().getTime()-he.getTime()<864e5&&r($,{children:[r(ct,{datetime:he,format:"micro"})," ",""," "]}),r("time",{class:"created",datetime:he.toISOString(),title:he.toLocaleString(),children:jr})]}),nt&&r($,{children:[" "," ",r(L,{icon:"pencil",alt:m({id:"MRZxAn"})})," ",r("time",{tabIndex:"0",class:"edited",datetime:Tt.toISOString(),onClick:()=>{Mn(V)},children:Wr})]})]})}),!!(Pt!=null&&Pt.length)&&r("div",{class:"emoji-reactions",children:Pt.map(y=>{const{name:C,count:G,me:de,url:Be,staticUrl:Mt}=y;if(Be)return r("span",{class:`emoji-reaction tag ${de?"":"insignificant"}`,children:[r(hr,{alt:C,url:Be,staticUrl:Mt})," ",G]});if(/^:.+?:$/.test(C)){const wt=fe.find(Et=>Et.shortcode===C.replace(/^:/,"").replace(/:$/,""));if(wt)return r("span",{class:`emoji-reaction tag ${de?"":"insignificant"}`,children:[r(hr,{alt:C,url:wt.url,staticUrl:wt.staticUrl})," ",G]})}return r("span",{class:`emoji-reaction tag ${de?"":"insignificant"}`,children:[C," ",G]})})}),r("div",{class:`actions ${Ge?"disabled":""}`,children:[r("div",{class:"action has-count",children:r(Nt,{title:m({id:"ImOQa9"}),alt:m({id:"VbyRUy"}),class:"reply-button",icon:"comment",count:ae,onClick:Dn})}),r("div",{class:"action has-count",children:r(Lo,{disabled:!nn,onClick:xo,confirmLabel:r($,{children:[r(L,{icon:"rocket"}),r("span",{children:m(ce?{id:"QzzGsY"}:{id:"kulphB"})})]}),menuExtras:r(Ee,{onClick:()=>{qn({draftStatus:{status:`
${me}`}})},children:[r(L,{icon:"quote"}),r("span",{children:r(O,{id:"ZhhOwV"})})]}),menuFooter:Kr&&!ce&&r("div",{class:"footer",children:[r(L,{icon:"alert"}),r(O,{id:"MB+wJL"})]}),children:r(Nt,{checked:ce,title:[m({id:"kulphB"}),m({id:"QzzGsY"})],alt:[m({id:"kulphB"}),m({id:"b7T5Zj"})],class:"reblog-button",icon:"rocket",count:Me,disabled:!nn})})}),r("div",{class:"action has-count",children:r(Nt,{checked:ve,title:[m({id:"W9FRBT"}),m({id:"OcUmcH"})],alt:[m({id:"W9FRBT"}),m({id:"8ab1sR"})],class:"favourite-button",icon:"heart",count:ze,onClick:qr})}),Zn("@mastodon/post-bookmark")&&r("div",{class:"action",children:r(Nt,{checked:Ae,title:[m({id:"PZlHt8"}),m({id:"q8EQYI"})],alt:[m({id:"PZlHt8"}),m({id:"1C/9Sa"})],class:"bookmark-button",icon:"bookmark",onClick:Gr})}),r(Ds,{portal:{target:document.querySelector(".status-deck")||document.body},align:"end",gap:4,overflow:"auto",viewScroll:"close",menuButton:r("div",{class:"action",children:r("button",{type:"button",title:m({id:"2FYpfJ"}),class:"plain more-button",children:r(L,{icon:"more",size:"l",alt:m({id:"2FYpfJ"})})})}),children:ei})]})]})]}),!!wo&&r(ir,{onClick:y=>{y.target===y.currentTarget&&Mn(!1)},children:r(uf,{statusID:wo,instance:w,fetchStatusHistory:()=>x.v1.statuses.$select(wo).history.list(),onClose:()=>{var y;Mn(!1),(y=Rt.current)==null||y.focus()}})}),!!Aa&&r(ir,{onClick:y=>{y.target===y.currentTarget&&Eo(!1)},children:r(df,{post:t,instance:w,onClose:()=>{Eo(!1)}})})]})]})}function sf(e){const{enabled:t,children:n,lang:o,captionChildren:i}=e;return!t||!i?n:r("figure",{class:"media-figure-multiple",children:[n,r("figcaption",{lang:o,dir:"auto",children:i})]})}function af(e){const{mediaAttachments:t,language:n,postID:o,instance:i}=e,a=t.length>1,s=D(),[c,l]=K(0);return J(()=>{let u=()=>{const{clientWidth:d,scrollLeft:f}=s.current,p=Math.round(Math.abs(f)/d);l(p)};return s.current&&s.current.addEventListener("scroll",u,{passive:!0}),()=>{s.current&&s.current.removeEventListener("scroll",u)}},[]),r($,{children:[r("div",{class:"media-first-container",children:[r("div",{class:"media-first-carousel",ref:s,children:t.map((u,d)=>r("div",{class:"media-first-item",children:r(vr,{media:u,lang:n,to:`/${i}/s/${o}?media=${d+1}`})},u.id))}),a&&r("div",{class:"media-carousel-controls",children:[r("div",{class:"carousel-indexer",children:[c+1,"/",t.length]}),r("label",{class:"media-carousel-button",children:r("button",{type:"button",class:"carousel-button",hidden:c===0,onClick:u=>{u.preventDefault(),u.stopPropagation(),s.current.focus(),s.current.scrollTo({left:s.current.clientWidth*(c-1)*(fr()?-1:1),behavior:"smooth"})},children:r(L,{icon:"arrow-left"})})}),r("label",{class:"media-carousel-button",children:r("button",{type:"button",class:"carousel-button",hidden:c===t.length-1,onClick:u=>{u.preventDefault(),u.stopPropagation(),s.current.focus(),s.current.scrollTo({left:s.current.clientWidth*(c+1)*(fr()?-1:1),behavior:"smooth"})},children:r(L,{icon:"arrow-right"})})})]})]}),a&&r("div",{class:"media-carousel-dots",style:{"--dots-count":t.length},children:t.map((u,d)=>r("span",{class:`carousel-dot ${d===c?"active":""}`},u.id))})]})}function ts(e){return Ks.toUnicode(URL.parse(e).hostname.replace(/^www\./,"").replace(/\/$/,""))}function ns(e){return["x.com","twitter.com","threads.net","bsky.app"].includes(e)}function cf({authors:e,hidden:t,children:n}){var i,a;if(t||!((a=(i=e==null?void 0:e[0])==null?void 0:i.account)!=null&&a.id))return n;const o=e[0].account;return r("div",{class:"card-byline",children:[n,r("div",{class:"card-byline-author",children:[r(L,{icon:"link",size:"s"})," ",r("small",{children:r(O,{id:"4LHHK6",components:{0:r(_t,{account:o,showAvatar:!0})}})})]})]})}function lf({card:e,selfReferential:t,selfAuthor:n,instance:o}){var X;const i=kn(H),{blurhash:a,title:s,description:c,html:l,providerName:u,providerUrl:d,authorName:f,authorUrl:p,width:h,height:g,image:_,imageDescription:v,url:T,type:b,embedUrl:E,language:A,publishedAt:m,authors:x}=e,w=s||u||f,M=h/g>=1.2?"large":"",[R,S]=K(null);if(J(()=>{w&&_&&!t&&Qa(T)&&Ja(o,T).then(se=>{if(!se)return;const{id:re,url:ee}=se;S("#"+ee)})},[w,_,t]),i.unfurledLinks[T])return null;const I=/<iframe/i.test(l),N=Se(se=>{I&&(se.preventDefault(),H.showEmbedModal={html:l,url:T||E,width:h,height:g})},[I]),[Z,B]=K(null);if(w&&(_||b==="photo"&&a)){const se=ts(T),re=_&&a?$r(a):null;if(!_){const pe=sd(a,44,44),V=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas");V.width=44,V.height=44;const ae=V.getContext("2d");ae.imageSmoothingEnabled=!1;const ce=ae.createImageData(44,44);ce.data.set(pe),ae.putImageData(ce,0,0);try{window.OffscreenCanvas?V.convertToBlob().then(Me=>{B(URL.createObjectURL(Me))}):B(V.toDataURL())}catch{}}const ee=ns(se);return r(cf,{hidden:!!n,authors:x,children:r("a",{href:R||T,target:R?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${ee?"card-post":""} ${Z?"":M}`,style:{"--average-color":re&&`rgb(${re.join(",")})`},onClick:N,children:[r("div",{class:"card-image",children:r("img",{src:_||Z,width:h,height:g,loading:"lazy",decoding:"async",fetchPriority:"low",alt:v||"",onError:Q=>{try{Q.target.style.display="none"}catch{}},style:{"--anim-duration":h&&g&&`${Math.min(Math.max(Math.max(h,g)/100,5),120)}s`}})}),r("div",{class:"meta-container",lang:A,children:[r("p",{class:"meta domain",children:[r("span",{class:"domain",children:se})," ",!!m&&r($,{children:" "}),!!m&&r($,{children:r(ct,{datetime:m,format:"micro"})})]}),r("p",{class:"title",dir:"auto",title:s,children:s}),r("p",{class:"meta",dir:"auto",title:c,children:c||!!m&&r(ct,{datetime:m,format:"micro"})})]})]})})}else{if(b==="photo")return r("a",{href:T,target:"_blank",rel:"nofollow noopener noreferrer",class:"card photo",onClick:N,children:r("img",{src:E,width:h,height:g,alt:s||c,loading:"lazy",style:{height:"auto",aspectRatio:`${h}/${g}`}})});if(b==="video"&&/youtube/i.test(u)){const se=(X=T.match(/watch\?v=([^&]+)/))==null?void 0:X[1];if(se)return r("a",{class:"card video",onClick:N,children:r("lite-youtube",{videoid:se,nocookie:!0,autoPause:!0})})}if(w&&!_){const se=ts(T),re=ns(se);return r("a",{href:R||T,target:R?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${re?"card-post":""} no-image`,lang:A,dir:"auto",onClick:N,children:r("div",{class:"meta-container",children:[r("p",{class:"meta domain",children:[r("span",{class:"domain",children:[r(L,{icon:"link",size:"s"})," ",r("span",{children:se})]})," ",!!m&&r($,{children:" "}),!!m&&r($,{children:r(ct,{datetime:m,format:"micro"})})]}),r("p",{class:"title",title:s,children:s}),r("p",{class:"meta",title:c||u||f,children:c||u||f})]})})}}}function uf({statusID:e,instance:t,fetchStatusHistory:n=()=>{},onClose:o}){const{_:i}=tt(),[a,s]=K("default"),[c,l]=K([]);return J(()=>{s("loading"),(async()=>{try{const u=await n();l(u),s("default")}catch{s("error")}})()},[]),r("div",{id:"edit-history",class:"sheet",children:[!!o&&r("button",{type:"button",class:"sheet-close",onClick:o,children:r(L,{icon:"x",alt:i({id:"yz7wBu"})})}),r("header",{children:[r("h2",{children:r(O,{id:"OKiofn"})}),a==="error"&&r("p",{children:r(O,{id:"EANWES"})}),a==="loading"&&r("p",{children:[r(ps,{abrupt:!0})," ",r(O,{id:"Pwqkdw"})]})]}),r("main",{tabIndex:"-1",children:c.length>0&&r("ol",{children:c.map(u=>{const{createdAt:d}=u,f=new Date(d);return r("li",{class:"history-item",children:[r("h3",{children:r("time",{children:xn(f,{formatOpts:{weekday:"short",second:"numeric"}})})}),r(Zt,{status:u,instance:t,size:"s",withinContext:!0,readOnly:!0,previewMode:!0})]},d)})})})]})}function ma(e,t,n=0){var S;const{account:{url:o,displayName:i,acct:a,username:s,emojis:c,bot:l,group:u},id:d,poll:f,spoilerText:p,language:h,editedAt:g,createdAt:_,content:v,mediaAttachments:T,url:b,emojis:E}=e,A=st(d,t),x=(H.statusQuotes[A]||[]).filter((I,N,Z)=>Z.findIndex(B=>B.url===I.url)===N),w=x.length&&n<=2?x.map(I=>{const{id:N,instance:Z}=I,B=st(N,Z),X=H.statuses[B];if(X)return ma(X,Z,++n)}).join(""):"",P=new Date(_),M=mr(v,E)+`
`+w+`
`+((S=f==null?void 0:f.options)!=null&&S.length?`
        <p>:</p>
        <ul>
        ${f.options.map(I=>`
              <li>
                ${I.title}
                ${I.votesCount>=0?` (${I.votesCount})`:""}
              </li>
            `).join("")}
        </ul>`:"")+(T.length>0?`
`+T.map(I=>{const{description:N,meta:Z,previewRemoteUrl:B,previewUrl:X,remoteUrl:se,url:re,type:ee}=I,{original:Q={},small:ge}=Z||{},pe=(ge==null?void 0:ge.width)||(Q==null?void 0:Q.width),V=(ge==null?void 0:ge.height)||(Q==null?void 0:Q.height),ae=se||re,ce=B||X,Me=ce||ae,ve=ae?URL.parse(ae):null,ze=ee==="unknown"&&ve&&/\.(mp4|m4r|m4v|mov|webm)$/i.test(ve.pathname),Ae=ee==="unknown"&&ve&&/\.(mp3|ogg|wav|m4a|m4p|m4b)$/i.test(ve.pathname),Te=ee==="image"||ee==="unknown"&&ce&&!ze&&!Ae,Ve=ee==="gifv"||ee==="video"||ze,Ie=ee==="audio"||Ae;let F="";return Te?F=`<img src="${Me}" width="${pe}" height="${V}" alt="${N}" loading="lazy" />`:Ve?F=`
                <video src="${ae}" width="${pe}" height="${V}" controls preload="auto" poster="${ce}" loading="lazy"></video>
                ${N?`<figcaption>${N}</figcaption>`:""}
              `:Ie?F=`
                <audio src="${ae}" controls preload="auto"></audio>
                ${N?`<figcaption>${N}</figcaption>`:""}
              `:F=`
                <a href="${ae}"> ${N||ae}</a>
              `,`<figure>${F}</figure>`}).join(`
`):""),R=`
    <blockquote lang="${h}" cite="${b}" data-source="fediverse">
      ${p?`
            <details>
              <summary>${p}</summary>
              ${M}
            </details>
          `:M}
      <footer>
         ${mr(i,c)} (@${a}) <a href="${b}"><time datetime="${P.toISOString()}">${P.toLocaleString()}</time></a>
      </footer>
    </blockquote>
  `;return dd(R)}function df({post:e,instance:t,onClose:n}){const{_:o}=tt(),{account:{url:i,displayName:a,username:s,emojis:c,bot:l,group:u},id:d,poll:f,spoilerText:p,language:h,editedAt:g,createdAt:_,content:v,mediaAttachments:T,url:b,emojis:E}=e,A=ma(e,t);return r("div",{id:"embed-post",class:"sheet",children:[!!n&&r("button",{type:"button",class:"sheet-close",onClick:n,children:r(L,{icon:"x",alt:o({id:"yz7wBu"})})}),r("header",{children:r("h2",{children:r(O,{id:"jdVwsS"})})}),r("main",{tabIndex:"-1",children:[r("h3",{children:r(O,{id:"GkS6YG"})}),r("textarea",{class:"embed-code",readonly:!0,onClick:m=>{m.target.select()},dir:"auto",children:A}),r("button",{type:"button",onClick:()=>{try{navigator.clipboard.writeText(A),Re(o({id:"bl7nrg"}))}catch{Re(o({id:"/KEBaP"}))}},children:[r(L,{icon:"clipboard"})," ",r("span",{children:r(O,{id:"he3ygx"})})]}),!!(T!=null&&T.length)&&r("section",{children:[r("p",{children:r(O,{id:"/2mUza"})}),r("ol",{class:"links-list",children:T.map(m=>r("li",{children:r("a",{href:m.remoteUrl||m.url,target:"_blank",download:!0,children:m.remoteUrl||m.url})},m.id))})]}),!!(c!=null&&c.length)&&r("section",{children:[r("p",{children:r(O,{id:"AeM/di"})}),r("ul",{children:c.map(m=>r("li",{children:[r("picture",{children:[r("source",{srcset:m.staticUrl,media:"(prefers-reduced-motion: reduce)"}),r("img",{class:"shortcode-emoji emoji",src:m.url,alt:`:${m.shortcode}:`,width:"16",height:"16",loading:"lazy",decoding:"async"})]})," ",r("code",{children:[":",m.shortcode,":"]})," (",r("a",{href:m.url,target:"_blank",download:!0,children:"URL"}),")",m.staticUrl?r($,{children:[" ","(",r("a",{href:m.staticUrl,target:"_blank",download:!0,children:r(O,{id:"xiropL"})}),")"]}):null]},m.shortcode))})]}),!!(E!=null&&E.length)&&r("section",{children:[r("p",{children:r(O,{id:"jzjjJh"})}),r("ul",{children:E.map(m=>r("li",{children:[r("picture",{children:[r("source",{srcset:m.staticUrl,media:"(prefers-reduced-motion: reduce)"}),r("img",{class:"shortcode-emoji emoji",src:m.url,alt:`:${m.shortcode}:`,width:"16",height:"16",loading:"lazy",decoding:"async"})]})," ",r("code",{children:[":",m.shortcode,":"]})," (",r("a",{href:m.url,target:"_blank",download:!0,children:"URL"}),")",m.staticUrl?r($,{children:[" ","(",r("a",{href:m.staticUrl,target:"_blank",download:!0,children:r(O,{id:"xiropL"})}),")"]}):null]},m.shortcode))})]}),r("section",{children:r("small",{children:[r("p",{children:r(O,{id:"TnJgwX"})}),r("ul",{children:[r("li",{children:r(O,{id:"0OHPem"})}),r("li",{children:r(O,{id:"AzZ5zv"})}),r("li",{children:r(O,{id:"NU7wa/"})}),r("li",{children:r(O,{id:"R4PmPA"})})]})]})}),r("h3",{children:r(O,{id:"rdUucN"})}),r("output",{class:"embed-preview",dangerouslySetInnerHTML:{__html:A},dir:"auto"}),r("p",{children:r("small",{children:r(O,{id:"j0kZfi"})})})]})]})}const Nt=yt((e,t)=>{let{checked:n,count:o,class:i,title:a,alt:s,size:c,icon:l,iconSize:u="l",onClick:d,...f}=e;typeof a=="string"&&(a=[a,a]),typeof s=="string"&&(s=[s,s]);const[p,h]=K(a[0]||""),[g,_]=K(s[0]||"");return J(()=>{n?(h(a[1]||""),_(s[1]||"")):(h(a[0]||""),_(s[0]||""))},[n,a,s]),r("button",{ref:t,type:"button",title:p,class:`plain ${c?"small":""} ${i} ${n?"checked":""}`,onClick:v=>{d&&(v.preventDefault(),v.stopPropagation(),d(v))},...f,children:[r(L,{icon:l,size:u,alt:g}),!!o&&r($,{children:[" ",r("small",{title:o,children:it(o)})]})]})});function ff(e){if(!e)return;const t=URL.parse(e),{host:n,pathname:o}=t,i=o.replace(/\/$/,""),[a,s,c]=i.match(/\/(@[^\/]+)\/(.*)/)||[];return r($,{children:[Ks.toUnicode(n),s?r($,{children:["/",s,r("wbr",{}),r("span",{class:"more-insignificant",children:["/",c]})]}):r("span",{class:"more-insignificant",children:i})]})}function hf({sKey:e}){const n=kn(H).statusReply[e];if(!n)return null;const{id:o,instance:i}=n,a=ms(o,i);if(!a)return null;const{sensitive:s,spoilerText:c,account:{avatar:l,avatarStatic:u,bot:d}={},visibility:f,content:p,language:h,filtered:g}=a;if(s||c||!p)return null;const _=st(o,i),v=la(a),T=$e(ca),b=Nr(g,T);if((b==null?void 0:b.action)==="hide")return null;const E=(b==null?void 0:b.titlesStr)||"";return r("article",{class:`status compact-reply ${f==="direct"?"visibility-direct":""}`,tabindex:"-1","data-state-post-id":_,children:[r(at,{url:u||l,squircle:d}),r("div",{class:"content-compact",title:v,lang:h,dir:"auto",children:b?r("b",{class:"status-filtered-badge badge-meta",title:E,children:[r("span",{children:r(O,{id:"03Qqf9"})}),r("span",{children:E})]}):r("span",{children:v})})]})}function pf({status:e,filterInfo:t,instance:n,containerProps:o={},showFollowedTags:i,quoted:a}){var Z;const{_:s,_:c}=tt(),l=kn(H),{id:u,account:{avatar:d,avatarStatic:f,bot:p,group:h},createdAt:g,visibility:_,reblog:v}=e,T=!!v,b=(t==null?void 0:t.titlesStr)||"",E=new Date(g),A=la(e.reblog||e),[m,x]=K(!1),w=aa(()=>{x(!0)},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),P=so(),M=st(e.id,n),R=st(e.id,n)+" "+(st(v==null?void 0:v.id,n)||""),S=(v==null?void 0:v.id)||u,I=n?`/${n}/s/${S}`:`/s/${S}`,N=i&&!!((Z=l.statusFollowedTags[M])!=null&&Z.length);return r("div",{class:a?"":T?h?"status-group":"status-reblog":N?"status-followed-tags":"",...o,onContextMenu:B=>{B.preventDefault(),x(!0)},...w(),children:[r("article",{"data-state-post-id":R,class:`status filtered ${a?"status-card":""}`,tabindex:"-1",children:[r("b",{class:"status-filtered-badge clickable badge-meta",title:b,onClick:B=>{B.preventDefault(),x(!0)},children:[r("span",{children:r(O,{id:"03Qqf9"})}),r("span",{children:b})]})," ",r(at,{url:f||d,squircle:p}),r("span",{class:"status-filtered-info",children:[r("span",{class:"status-filtered-info-1",children:T?r(O,{id:"zJyf/5",components:{0:r(_t,{account:e.account,instance:n}),1:r(L,{icon:_n[_],alt:s(kt[_]),size:"s"})}}):N?r($,{children:[r(_t,{account:e.account,instance:n})," ",r(L,{icon:_n[_],alt:s(kt[_]),size:"s"})," ",r("span",{children:l.statusFollowedTags[M].slice(0,3).map(B=>r("span",{class:"status-followed-tag-item",children:["#",B]},B))})]}):r($,{children:[r(_t,{account:e.account,instance:n})," ",r(L,{icon:_n[_],alt:s(kt[_]),size:"s"})," ",r(ct,{datetime:E,format:"micro"})]})}),r("span",{class:"status-filtered-info-2",children:[T&&r($,{children:[r(at,{url:v.account.avatarStatic||v.account.avatar,squircle:p})," "]}),A]})]})]}),!!m&&r(ir,{onClick:B=>{B.target===B.currentTarget&&x(!1)},children:r("div",{id:"filtered-status-peek",class:"sheet",children:[r("button",{type:"button",class:"sheet-close",onClick:()=>x(!1),children:r(L,{icon:"x",alt:c({id:"yz7wBu"})})}),r("header",{children:[r("b",{class:"status-filtered-badge",children:r(O,{id:"03Qqf9"})})," ",b]}),r("main",{tabIndex:"-1",children:r(Ut,{ref:P,class:"status-link",to:I,onClick:()=>{x(!1)},"data-read-more":s(yn),children:r(Zt,{status:e,instance:n,size:"s",readOnly:!0})})})]})})]})}const mf=qt(({id:e,instance:t,level:n=0})=>{if(!e||!t)return;const{_:o}=tt(),i=kn(H),a=st(e,t),s=i.statusQuotes[a],c=s==null?void 0:s.filter((l,u,d)=>d.findIndex(f=>f.url===l.url)===u);if(c!=null&&c.length&&!(n>2))return c.map(l=>r(Gs,{id:l.instance+l.id,children:r(Ut,{to:`${l.instance?`/${l.instance}`:""}/s/${l.id}`,class:"status-card-link","data-read-more":o(yn),children:r(Zt,{statusID:l.id,instance:l.instance,size:"s",quoted:n+1,enableCommentHint:!0})},l.instance+l.id)}))}),Eh=qt(Zt,(e,t)=>{const{status:n,...o}=e,{status:i,...a}=t;return(n==null?void 0:n.id)===(i==null?void 0:i.id)&&ec(o,a)});var os=36,ga="";for(;os--;)ga+=os.toString(36);function xh(e){for(var t="",n=e||11;n--;)t+=ga[Math.random()*36|0];return t}function lt(e){return Array.isArray?Array.isArray(e):ya(e)==="[object Array]"}const gf=1/0;function vf(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-gf?"-0":t}function _f(e){return e==null?"":vf(e)}function Qe(e){return typeof e=="string"}function va(e){return typeof e=="number"}function yf(e){return e===!0||e===!1||bf(e)&&ya(e)=="[object Boolean]"}function _a(e){return typeof e=="object"}function bf(e){return _a(e)&&e!==null}function Ue(e){return e!=null}function nr(e){return!e.trim().length}function ya(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Tf="Incorrect 'index' type",wf=e=>`Invalid value for key ${e}`,Ef=e=>`Pattern length exceeds max of ${e}.`,xf=e=>`Missing ${e} property in key`,Sf=e=>`Property 'weight' in key '${e}' must be a positive integer`,rs=Object.prototype.hasOwnProperty;class kf{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(o=>{let i=ba(o);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(o=>{o.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ba(e){let t=null,n=null,o=null,i=1,a=null;if(Qe(e)||lt(e))o=e,t=is(e),n=yr(e);else{if(!rs.call(e,"name"))throw new Error(xf("name"));const s=e.name;if(o=s,rs.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Sf(s));t=is(s),n=yr(s),a=e.getFn}return{path:t,id:n,weight:i,src:o,getFn:a}}function is(e){return lt(e)?e:e.split(".")}function yr(e){return lt(e)?e.join("."):e}function Af(e,t){let n=[],o=!1;const i=(a,s,c)=>{if(Ue(a))if(!s[c])n.push(a);else{let l=s[c];const u=a[l];if(!Ue(u))return;if(c===s.length-1&&(Qe(u)||va(u)||yf(u)))n.push(_f(u));else if(lt(u)){o=!0;for(let d=0,f=u.length;d<f;d+=1)i(u[d],s,c+1)}else s.length&&i(u,s,c+1)}};return i(e,Qe(t)?t.split("."):t,0),o?n:n[0]}const If={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Cf={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Pf={location:0,threshold:.6,distance:100},Rf={useExtendedSearch:!1,getFn:Af,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var W={...Cf,...If,...Pf,...Rf};const Lf=/[^ ]+/g;function Mf(e=1,t=3){const n=new Map,o=Math.pow(10,t);return{get(i){const a=i.match(Lf).length;if(n.has(a))return n.get(a);const s=1/Math.pow(a,.5*e),c=parseFloat(Math.round(s*o)/o);return n.set(a,c),c},clear(){n.clear()}}}class Fr{constructor({getFn:t=W.getFn,fieldNormWeight:n=W.fieldNormWeight}={}){this.norm=Mf(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,o)=>{this._keysMap[n.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Qe(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Qe(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,o=this.size();n<o;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Ue(t)||nr(t))return;let o={v:t,i:n,n:this.norm.get(t)};this.records.push(o)}_addObject(t,n){let o={i:n,$:{}};this.keys.forEach((i,a)=>{let s=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Ue(s)){if(lt(s)){let c=[];const l=[{nestedArrIndex:-1,value:s}];for(;l.length;){const{nestedArrIndex:u,value:d}=l.pop();if(Ue(d))if(Qe(d)&&!nr(d)){let f={v:d,i:u,n:this.norm.get(d)};c.push(f)}else lt(d)&&d.forEach((f,p)=>{l.push({nestedArrIndex:p,value:f})})}o.$[a]=c}else if(Qe(s)&&!nr(s)){let c={v:s,n:this.norm.get(s)};o.$[a]=c}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function Ta(e,t,{getFn:n=W.getFn,fieldNormWeight:o=W.fieldNormWeight}={}){const i=new Fr({getFn:n,fieldNormWeight:o});return i.setKeys(e.map(ba)),i.setSources(t),i.create(),i}function Of(e,{getFn:t=W.getFn,fieldNormWeight:n=W.fieldNormWeight}={}){const{keys:o,records:i}=e,a=new Fr({getFn:t,fieldNormWeight:n});return a.setKeys(o),a.setIndexRecords(i),a}function eo(e,{errors:t=0,currentLocation:n=0,expectedLocation:o=0,distance:i=W.distance,ignoreLocation:a=W.ignoreLocation}={}){const s=t/e.length;if(a)return s;const c=Math.abs(o-n);return i?s+c/i:c?1:s}function Df(e=[],t=W.minMatchCharLength){let n=[],o=-1,i=-1,a=0;for(let s=e.length;a<s;a+=1){let c=e[a];c&&o===-1?o=a:!c&&o!==-1&&(i=a-1,i-o+1>=t&&n.push([o,i]),o=-1)}return e[a-1]&&a-o>=t&&n.push([o,a-1]),n}const St=32;function $f(e,t,n,{location:o=W.location,distance:i=W.distance,threshold:a=W.threshold,findAllMatches:s=W.findAllMatches,minMatchCharLength:c=W.minMatchCharLength,includeMatches:l=W.includeMatches,ignoreLocation:u=W.ignoreLocation}={}){if(t.length>St)throw new Error(Ef(St));const d=t.length,f=e.length,p=Math.max(0,Math.min(o,f));let h=a,g=p;const _=c>1||l,v=_?Array(f):[];let T;for(;(T=e.indexOf(t,g))>-1;){let w=eo(t,{currentLocation:T,expectedLocation:p,distance:i,ignoreLocation:u});if(h=Math.min(w,h),g=T+d,_){let P=0;for(;P<d;)v[T+P]=1,P+=1}}g=-1;let b=[],E=1,A=d+f;const m=1<<d-1;for(let w=0;w<d;w+=1){let P=0,M=A;for(;P<M;)eo(t,{errors:w,currentLocation:p+M,expectedLocation:p,distance:i,ignoreLocation:u})<=h?P=M:A=M,M=Math.floor((A-P)/2+P);A=M;let R=Math.max(1,p-M+1),S=s?f:Math.min(p+M,f)+d,I=Array(S+2);I[S+1]=(1<<w)-1;for(let Z=S;Z>=R;Z-=1){let B=Z-1,X=n[e.charAt(B)];if(_&&(v[B]=+!!X),I[Z]=(I[Z+1]<<1|1)&X,w&&(I[Z]|=(b[Z+1]|b[Z])<<1|1|b[Z+1]),I[Z]&m&&(E=eo(t,{errors:w,currentLocation:B,expectedLocation:p,distance:i,ignoreLocation:u}),E<=h)){if(h=E,g=B,g<=p)break;R=Math.max(1,2*p-g)}}if(eo(t,{errors:w+1,currentLocation:p,expectedLocation:p,distance:i,ignoreLocation:u})>h)break;b=I}const x={isMatch:g>=0,score:Math.max(.001,E)};if(_){const w=Df(v,c);w.length?l&&(x.indices=w):x.isMatch=!1}return x}function Nf(e){let t={};for(let n=0,o=e.length;n<o;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<o-n-1}return t}class wa{constructor(t,{location:n=W.location,threshold:o=W.threshold,distance:i=W.distance,includeMatches:a=W.includeMatches,findAllMatches:s=W.findAllMatches,minMatchCharLength:c=W.minMatchCharLength,isCaseSensitive:l=W.isCaseSensitive,ignoreLocation:u=W.ignoreLocation}={}){if(this.options={location:n,threshold:o,distance:i,includeMatches:a,findAllMatches:s,minMatchCharLength:c,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(p,h)=>{this.chunks.push({pattern:p,alphabet:Nf(p),startIndex:h})},f=this.pattern.length;if(f>St){let p=0;const h=f%St,g=f-h;for(;p<g;)d(this.pattern.substr(p,St),p),p+=St;if(h){const _=f-St;d(this.pattern.substr(_),_)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:o}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let g={isMatch:!0,score:0};return o&&(g.indices=[[0,t.length-1]]),g}const{location:i,distance:a,threshold:s,findAllMatches:c,minMatchCharLength:l,ignoreLocation:u}=this.options;let d=[],f=0,p=!1;this.chunks.forEach(({pattern:g,alphabet:_,startIndex:v})=>{const{isMatch:T,score:b,indices:E}=$f(t,g,_,{location:i+v,distance:a,threshold:s,findAllMatches:c,minMatchCharLength:l,includeMatches:o,ignoreLocation:u});T&&(p=!0),f+=b,T&&E&&(d=[...d,...E])});let h={isMatch:p,score:p?f/this.chunks.length:1};return p&&o&&(h.indices=d),h}}class bt{constructor(t){this.pattern=t}static isMultiMatch(t){return ss(t,this.multiRegex)}static isSingleMatch(t){return ss(t,this.singleRegex)}search(){}}function ss(e,t){const n=e.match(t);return n?n[1]:null}class Ff extends bt{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class zf extends bt{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const o=t.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,t.length-1]}}}class Vf extends bt{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Hf extends bt{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Bf extends bt{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Uf extends bt{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Ea extends bt{constructor(t,{location:n=W.location,threshold:o=W.threshold,distance:i=W.distance,includeMatches:a=W.includeMatches,findAllMatches:s=W.findAllMatches,minMatchCharLength:c=W.minMatchCharLength,isCaseSensitive:l=W.isCaseSensitive,ignoreLocation:u=W.ignoreLocation}={}){super(t),this._bitapSearch=new wa(t,{location:n,threshold:o,distance:i,includeMatches:a,findAllMatches:s,minMatchCharLength:c,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class xa extends bt{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,o;const i=[],a=this.pattern.length;for(;(o=t.indexOf(this.pattern,n))>-1;)n=o+a,i.push([o,n-1]);const s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}const br=[Ff,xa,Vf,Hf,Uf,Bf,zf,Ea],as=br.length,jf=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Wf="|";function Kf(e,t={}){return e.split(Wf).map(n=>{let o=n.trim().split(jf).filter(a=>a&&!!a.trim()),i=[];for(let a=0,s=o.length;a<s;a+=1){const c=o[a];let l=!1,u=-1;for(;!l&&++u<as;){const d=br[u];let f=d.isMultiMatch(c);f&&(i.push(new d(f,t)),l=!0)}if(!l)for(u=-1;++u<as;){const d=br[u];let f=d.isSingleMatch(c);if(f){i.push(new d(f,t));break}}}return i})}const Zf=new Set([Ea.type,xa.type]);class qf{constructor(t,{isCaseSensitive:n=W.isCaseSensitive,includeMatches:o=W.includeMatches,minMatchCharLength:i=W.minMatchCharLength,ignoreLocation:a=W.ignoreLocation,findAllMatches:s=W.findAllMatches,location:c=W.location,threshold:l=W.threshold,distance:u=W.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:o,minMatchCharLength:i,findAllMatches:s,ignoreLocation:a,location:c,threshold:l,distance:u},this.pattern=n?t:t.toLowerCase(),this.query=Kf(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let a=0,s=[],c=0;for(let l=0,u=n.length;l<u;l+=1){const d=n[l];s.length=0,a=0;for(let f=0,p=d.length;f<p;f+=1){const h=d[f],{isMatch:g,indices:_,score:v}=h.search(t);if(g){if(a+=1,c+=v,o){const T=h.constructor.type;Zf.has(T)?s=[...s,..._]:s.push(_)}}else{c=0,a=0,s.length=0;break}}if(a){let f={isMatch:!0,score:c/a};return o&&(f.indices=s),f}}return{isMatch:!1,score:1}}}const Tr=[];function Gf(...e){Tr.push(...e)}function wr(e,t){for(let n=0,o=Tr.length;n<o;n+=1){let i=Tr[n];if(i.condition(e,t))return new i(e,t)}return new wa(e,t)}const mo={AND:"$and",OR:"$or"},Er={PATH:"$path",PATTERN:"$val"},xr=e=>!!(e[mo.AND]||e[mo.OR]),Yf=e=>!!e[Er.PATH],Xf=e=>!lt(e)&&_a(e)&&!xr(e),cs=e=>({[mo.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Sa(e,t,{auto:n=!0}={}){const o=i=>{let a=Object.keys(i);const s=Yf(i);if(!s&&a.length>1&&!xr(i))return o(cs(i));if(Xf(i)){const l=s?i[Er.PATH]:a[0],u=s?i[Er.PATTERN]:i[l];if(!Qe(u))throw new Error(wf(l));const d={keyId:yr(l),pattern:u};return n&&(d.searcher=wr(u,t)),d}let c={children:[],operator:a[0]};return a.forEach(l=>{const u=i[l];lt(u)&&u.forEach(d=>{c.children.push(o(d))})}),c};return xr(e)||(e=cs(e)),o(e)}function Qf(e,{ignoreFieldNorm:t=W.ignoreFieldNorm}){e.forEach(n=>{let o=1;n.matches.forEach(({key:i,norm:a,score:s})=>{const c=i?i.weight:null;o*=Math.pow(s===0&&c?Number.EPSILON:s,(c||1)*(t?1:a))}),n.score=o})}function Jf(e,t){const n=e.matches;t.matches=[],Ue(n)&&n.forEach(o=>{if(!Ue(o.indices)||!o.indices.length)return;const{indices:i,value:a}=o;let s={indices:i,value:a};o.key&&(s.key=o.key.src),o.idx>-1&&(s.refIndex=o.idx),t.matches.push(s)})}function eh(e,t){t.score=e.score}function th(e,t,{includeMatches:n=W.includeMatches,includeScore:o=W.includeScore}={}){const i=[];return n&&i.push(Jf),o&&i.push(eh),e.map(a=>{const{idx:s}=a,c={item:t[s],refIndex:s};return i.length&&i.forEach(l=>{l(a,c)}),c})}class An{constructor(t,n={},o){this.options={...W,...n},this.options.useExtendedSearch,this._keyStore=new kf(this.options.keys),this.setCollection(t,o)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Fr))throw new Error(Tf);this._myIndex=n||Ta(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Ue(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let o=0,i=this._docs.length;o<i;o+=1){const a=this._docs[o];t(a,o)&&(this.removeAt(o),o-=1,i-=1,n.push(a))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:o,includeScore:i,shouldSort:a,sortFn:s,ignoreFieldNorm:c}=this.options;let l=Qe(t)?Qe(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Qf(l,{ignoreFieldNorm:c}),a&&l.sort(s),va(n)&&n>-1&&(l=l.slice(0,n)),th(l,this._docs,{includeMatches:o,includeScore:i})}_searchStringList(t){const n=wr(t,this.options),{records:o}=this._myIndex,i=[];return o.forEach(({v:a,i:s,n:c})=>{if(!Ue(a))return;const{isMatch:l,score:u,indices:d}=n.searchIn(a);l&&i.push({item:a,idx:s,matches:[{score:u,value:a,norm:c,indices:d}]})}),i}_searchLogical(t){const n=Sa(t,this.options),o=(c,l,u)=>{if(!c.children){const{keyId:f,searcher:p}=c,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:p});return h&&h.length?[{idx:u,item:l,matches:h}]:[]}const d=[];for(let f=0,p=c.children.length;f<p;f+=1){const h=c.children[f],g=o(h,l,u);if(g.length)d.push(...g);else if(c.operator===mo.AND)return[]}return d},i=this._myIndex.records,a={},s=[];return i.forEach(({$:c,i:l})=>{if(Ue(c)){let u=o(n,c,l);u.length&&(a[l]||(a[l]={idx:l,item:c,matches:[]},s.push(a[l])),u.forEach(({matches:d})=>{a[l].matches.push(...d)}))}}),s}_searchObjectList(t){const n=wr(t,this.options),{keys:o,records:i}=this._myIndex,a=[];return i.forEach(({$:s,i:c})=>{if(!Ue(s))return;let l=[];o.forEach((u,d)=>{l.push(...this._findMatches({key:u,value:s[d],searcher:n}))}),l.length&&a.push({idx:c,item:s,matches:l})}),a}_findMatches({key:t,value:n,searcher:o}){if(!Ue(n))return[];let i=[];if(lt(n))n.forEach(({v:a,i:s,n:c})=>{if(!Ue(a))return;const{isMatch:l,score:u,indices:d}=o.searchIn(a);l&&i.push({score:u,key:t,value:a,idx:s,norm:c,indices:d})});else{const{v:a,n:s}=n,{isMatch:c,score:l,indices:u}=o.searchIn(a);c&&i.push({score:l,key:t,value:a,norm:s,indices:u})}return i}}An.version="7.0.0";An.createIndex=Ta;An.parseIndex=Of;An.config=W;An.parseQuery=Sa;Gf(qf);export{xh as $,at as A,Eh as B,fh as C,mn as D,jt as E,Wi as F,fr as G,$r as H,L as I,vr as J,hr as K,Ut as L,ir as M,_t as N,Nr as O,so as P,_d as Q,ct as R,gl as S,Gu as T,ca as U,aa as V,Os as W,Ss as X,vd as Y,mh as Z,la as _,Ft as a,Xo as a0,mr as a1,ah as a2,ll as a3,ch as a4,An as a5,Ou as a6,yc as a7,Ts as a8,kc as a9,bd as aa,_n as ab,bc as b,Ds as c,Ee as d,Ti as e,an as f,Lo as g,$s as h,Zn as i,uh as j,Ks as k,ln as l,dh as m,bu as n,wc as o,lh as p,Zs as q,it as r,Re as s,Pl as t,oh as u,xn as v,qn as w,yo as x,hh as y,ph as z};
//# sourceMappingURL=fuse-bVk2OYqR.js.map
