import{O as ro,Q as so,G as co,U as yn,V as va,W as lo,X as uo,z as ba,s as mo,Y as ya,F as Q,_ as ge,a as e,p as X,u as je,Z as ho,e as po,N as _a,$ as fo,a0 as go,M as we,a1 as vo,S as bo,w as At,g as j,a2 as yo,a3 as Et,a4 as _o,a5 as ko,q as Ee,a6 as wo,a7 as Eo,E as xo,a8 as To,a9 as Lo,aa as Ao,ab as Co,ac as So,ad as Fo,ae as Po,af as Io,ag as $o,j as ka,ah as Ro,f as wa,ai as Do,x as _n,A as vn,aj as Gn,t as Mo,b as it,P as Ea,d as ft,J as xa,C as No,ak as Oo,al as zo,am as Wn,n as Bo,an as Yn,k as Uo,B as Jn}from"./vendor-SN1LpyO7.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();function Ta(t){const n=z.local.getJSON("accounts")||[];return n.find(a=>a.info.id===t)||n[0]}function Vo(t){return(z.local.getJSON("accounts")||[]).find(a=>a.accessToken===t)}function jo(t){return(z.local.getJSON("accounts")||[]).find(a=>a.instanceURL===t)}function Gt(){window.__IGNORE_GET_ACCOUNT_ERROR__;const t=z.session.get("currentAccount");return Ta(t)}function Ut(){const t=Gt(),{instanceURL:n,info:{id:a}}=t;return`${a}@${n}`}function Ho(t){const n=z.local.getJSON("accounts")||[],a=n.find(o=>o.info.id===t.info.id);a?(a.info=t.info,a.instanceURL=t.instanceURL,a.accessToken=t.accessToken,a.vapidKey=t.vapidKey):n.push(t),z.local.setJSON("accounts",n),z.session.set("currentAccount",t.info.id)}function Rr(t){const n=z.local.getJSON("accounts")||[],a=n.find(o=>o.info.id===t.id);a&&(a.info.displayName!==t.displayName||a.info.avatar!==t.avatar||a.info.avatar_static!==t.avatar_static)&&(a.info={...a.info,...t},z.local.setJSON("accounts",n))}let on=null;function La(){if(on)return on;try{const t=Gt(),n=z.local.getJSON("instances"),a=t.instanceURL.toLowerCase();return on=n[a]}catch(t){return alert(`Failed to load instance configuration. Please try again.

${t}`),z.local.del("instances"),location.reload(),{}}}function Ko(t){const{configuration:n,maxMediaAttachments:a,maxTootChars:o,pleroma:r,pollLimits:s}=t,c=(n==null?void 0:n.statuses)||{};a&&(c.maxMediaAttachments??(c.maxMediaAttachments=a)),o&&(c.maxCharacters??(c.maxCharacters=o));const u=(n==null?void 0:n.polls)||{};return s&&(u.maxCharactersPerOption??(u.maxCharactersPerOption=s.maxOptionChars),u.maxExpiration??(u.maxExpiration=s.maxExpiration),u.maxOptions??(u.maxOptions=s.maxOptions),u.minExpiration??(u.minExpiration=s.minExpiration)),{...n,statuses:c,polls:u}}function qo(){const t=La();return Ko(t)}const He={get:t=>{try{return localStorage.getItem(t)}catch{return null}},getJSON:t=>{try{return JSON.parse(He.get(t))}catch{return null}},set:(t,n)=>{try{return localStorage.setItem(t,n)}catch{return null}},setJSON:(t,n)=>{try{return He.set(t,JSON.stringify(n))}catch{return null}},del:t=>{try{return localStorage.removeItem(t)}catch{return null}}},bn={get:t=>{try{return sessionStorage.getItem(t)}catch{return null}},getJSON:t=>{try{return JSON.parse(bn.get(t))}catch{return null}},set:(t,n)=>{try{return sessionStorage.setItem(t,n)}catch{return null}},setJSON:(t,n)=>{try{return bn.set(t,JSON.stringify(n))}catch{return null}},del:t=>{try{return sessionStorage.removeItem(t)}catch{return null}}},Go={get:t=>{try{return He.getJSON(t)[Ut()]}catch{return null}},set:(t,n)=>{try{const a=He.getJSON(t)||{};return a[Ut()]=n,He.setJSON(t,a)}catch{return null}},del:t=>{try{const n=He.getJSON(t)||{};return delete n[Ut()],He.setJSON(t,n)}catch{return null}}},z={local:He,session:bn,account:Go},Vt="mastodon.social",Ht={},Re={};window.__ACCOUNT_APIS__=Re;let be;function Ue({instance:t,accessToken:n}){/^https?:\/\//.test(t)&&(t=t.replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase());const a=t?`https://${t}`:`https://${Vt}`,r={masto:ro({url:a,accessToken:n,timeout:3e4}),instance:t,accessToken:n};return Ht[t]=r,Re[t]||(Re[t]={}),n&&(Re[t][n]=r),r}async function Dr(t,n){const{masto:a,accessToken:o}=t;let r;try{r=await a.v2.instance.fetch()}catch{}if(!r)try{r=await a.v1.instance.fetch()}catch{}if(!r)return;const{uri:s,urls:{streamingApi:c}={},domain:u,configuration:{urls:{streaming:d}={}}={}}=r,f=z.local.getJSON("instances")||{};if((s||u)&&(f[(u||s).replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase()]=r),n&&(f[n.toLowerCase()]=r),z.local.setJSON("instances",f),"WebSocket"in window&&(c||d)){const m=so({streamingApiUrl:d||c,accessToken:o,implementation:WebSocket});t.streaming=m}}async function Mr(t,n,a,o){const{masto:r}=t,s=await r.v1.accounts.verifyCredentials();z.session.set("currentAccount",s.id),Ho({info:s,instanceURL:n.toLowerCase(),accessToken:a,vapidKey:o})}async function Nr(t){try{const{masto:n}=t,a=await n.v1.preferences.fetch();z.account.set("preferences",a)}catch{}}function Ge({instance:t,accessToken:n,accountID:a,account:o}={}){var d,f,p,m,h;if(t&&(t=t.toLowerCase().trim()),t&&n){const g=((d=Re[t])==null?void 0:d[n])||Ue({instance:t,accessToken:n}),{masto:v,streaming:b}=g;return{masto:v,streaming:b,client:g,authenticated:!0,instance:t}}if(n)for(const g in Re)if(Re[g][n]){const v=Re[g][n],{masto:b,streaming:k}=v;return{masto:b,streaming:k,client:v,authenticated:!0,instance:g}}else{const v=Vo(n);if(v){const b=v.accessToken,k=v.instanceURL.toLowerCase().trim(),E=Ue({instance:k,accessToken:b}),{masto:w,streaming:y}=E;return{masto:w,streaming:y,client:E,authenticated:!0,instance:k}}else throw new Error("Access token not found")}if(o||a)if(o=o||Ta(a),o){const g=o.accessToken,v=o.instanceURL.toLowerCase().trim(),b=((f=Re[v])==null?void 0:f[g])||Ue({instance:v,accessToken:g}),{masto:k,streaming:E}=b;return{masto:k,streaming:E,client:b,authenticated:!0,instance:v}}else throw new Error(`Account ${a} not found`);const r=Gt();if(t){if((be==null?void 0:be.instance)===t)return{masto:be.masto,streaming:be.streaming,client:be,authenticated:!0,instance:t};if((r==null?void 0:r.instanceURL)===t){const{accessToken:w}=r;return be=((p=Re[t])==null?void 0:p[w])||Ue({instance:t,accessToken:w}),{masto:be.masto,streaming:be.streaming,client:be,authenticated:!0,instance:t}}const g=jo(t);if(g){const w=g.accessToken,y=((m=Re[t])==null?void 0:m[w])||Ue({instance:t,accessToken:w}),{masto:L,streaming:F}=y;return{masto:L,streaming:F,client:y,authenticated:!0,instance:t}}const v=Ht[t]||Ue({instance:t}),{masto:b,streaming:k,accessToken:E}=v;return{masto:b,streaming:k,client:v,authenticated:!!E,instance:t}}if(be)return{masto:be.masto,streaming:be.streaming,client:be,authenticated:!0,instance:be.instance};if(r){const{accessToken:g,instanceURL:v}=r;return be=((h=Re[v])==null?void 0:h[g])||Ue({instance:v,accessToken:g}),{masto:be.masto,streaming:be.streaming,client:be,authenticated:!0,instance:v}}const s=Ht[Vt]||Ue({instance:Vt}),{masto:c,streaming:u}=s;return{masto:c,streaming:u,client:s,authenticated:!1,instance:Vt}}window.__API__={currentAccountApi:be,apis:Ht,accountApis:Re};window._showToast=Fe;function Fe(t){typeof t=="string"&&(t={text:t});const{onClick:n,delay:a,...o}=t,r=co({className:`${n||t.destination?"shiny-pill":""}`,gravity:"bottom",position:"center",...o,onClick:()=>{n==null||n(r)}});return a?setTimeout(()=>{r.showToast()},a):r.showToast(),r}function Aa(t){try{const{pathname:n,hash:a}=new URL(t);return/^\/.*\/\d+$/i.test(n)||/^\/(@[^/]+|users\/[^/]+)\/(statuses|posts)\/\w+\/?$/i.test(n)||/^\/notes\/[a-z0-9]+$/i.test(n)||/^\/(notice|objects)\/[a-z0-9-]+$/i.test(n)||/#\/[^\/]+\.[^\/]+\/s\/.+/i.test(a)}catch{return!1}}window._moize=yn;function Ye(t,n={}){return yn(t,{...n,maxSize:50,isDeepEqual:!0})}function Wt(t,n={}){return Ye(t,{isPromise:!0,...n})}function Wo(t,n){let a=[],o=!1;function r(){if(a.length===0){o=!1;return}a.shift()(),setTimeout(r,n)}return function(...s){const c=()=>t.apply(this,s);a.push(c),o||(o=!0,setTimeout(r,n))}}const Yo=va({limit:1,interval:1e3}),Jo=/(twitter|github)\.com/i,Zn={};function Zo(t,n){var b;const a=lo(M);if(Jo.test(n)||Zn[n])return;if(new RegExp(t+"/").test((b=a.unfurledLinks[n])==null?void 0:b.url))return Promise.resolve(a.unfurledLinks[n]);let r,s=n;/\/\/elk\.[^\/]+\/[^\/]+\.[^\/]+/i.test(s)&&(s=s.replace(/elk\.[^\/]+\//i,"")),/\/\/trunks\.[^\/]+\/status\/[^\/]+\.[^\/]+/i.test(s)&&(s=s.replace(/trunks\.[^\/]+\/status\//i,"")),/\/#\/[^\/]+\.[^\/]+\/s\/.+/i.test(s)&&(s=`https://${s.split("/#/")[1].replace(/\/s\//i,"/@fakeUsername/")}`);let c;try{c=new URL(s)}catch{return}const u=c.hostname,d=c.pathname,p=/\/@([^@\/]+)@?([^\/]+)?\/(\d+)$/i.exec(d);if(p){const k=p[3],{masto:E}=Ge({instance:u});r=E.v1.statuses.$select(k).fetch().then(w=>{if(w!=null&&w.id)return{status:w,instance:u};throw new Error("No results")})}const{masto:m}=Ge({instance:t}),h=m.v2.search.fetch({q:s,type:"statuses",resolve:!0,limit:1}).then(k=>{if(k.statuses.length>0)return{status:k.statuses[0],instance:t};throw new Error("No results")});function g(k){const{status:E,instance:w}=k,{id:y}=E,L=`/${w}/s/${y}`,F={id:y,instance:w,url:L};return M.unfurledLinks[n]=F,Me(E,w,{skipThreading:!0}),F}function v(k){Zn[n]=!0}return r?Promise.race([h,new Promise((E,w)=>setTimeout(w,3e3))]).catch(()=>r.catch(()=>h)).then(g).catch(v):h.then(g).catch(v)}const Ca=Yo(Zo),te=uo({appVersion:{},prevLocation:null,currentLocation:null,statuses:{},statusThreadNumber:{},home:[],homeNew:[],homeLast:null,homeLastFetchTime:null,notifications:[],notificationsLast:null,notificationsNew:[],notificationsShowNew:!1,notificationsLastFetchTime:null,reloadStatusPage:0,reloadGenericAccounts:{id:null,counter:0},spoilers:{},spoilersMedia:{},scrollPositions:{},unfurledLinks:{},statusQuotes:{},statusFollowedTags:{},statusReply:{},accounts:{},routeNotification:null,showCompose:!1,showSettings:!1,showAccount:!1,showAccounts:!1,showDrafts:!1,showMediaModal:!1,showShortcutsSettings:!1,showKeyboardShortcutsHelp:!1,showGenericAccounts:!1,showMediaAlt:!1,showEmbedModal:!1,showReportModal:!1,shortcuts:[],settings:{autoRefresh:!1,shortcutsViewMode:null,shortcutsColumnsMode:!1,boostsCarousel:!0,contentTranslation:!0,contentTranslationTargetLanguage:null,contentTranslationHideLanguages:[],contentTranslationAutoInline:!1,shortcutSettingsCloudImportExport:!1,mediaAltGenerator:!1,cloakMode:!1}}),M=te;function Or(){te.notificationsLast=z.account.get("notificationsLast")||null,te.shortcuts=z.account.get("shortcuts")??[],te.settings.autoRefresh=z.account.get("settings-autoRefresh")??!1,te.settings.shortcutsViewMode=z.account.get("settings-shortcutsViewMode")??null,z.account.get("settings-shortcutsColumnsMode")&&(te.settings.shortcutsColumnsMode=!0),te.settings.boostsCarousel=z.account.get("settings-boostsCarousel")??!0,te.settings.contentTranslation=z.account.get("settings-contentTranslation")??!0,te.settings.contentTranslationTargetLanguage=z.account.get("settings-contentTranslationTargetLanguage")||null,te.settings.contentTranslationHideLanguages=z.account.get("settings-contentTranslationHideLanguages")||[],te.settings.contentTranslationAutoInline=z.account.get("settings-contentTranslationAutoInline")??!1,te.settings.shortcutSettingsCloudImportExport=z.account.get("settings-shortcutSettingsCloudImportExport")??!1,te.settings.mediaAltGenerator=z.account.get("settings-mediaAltGenerator")??!1,te.settings.cloakMode=z.account.get("settings-cloakMode")??!1}ba(te,"notificationsLast",t=>{z.account.set("notificationsLast",te.notificationsLast)});mo(te,t=>{for(const[n,a,o,r]of t)a.join(".")==="settings.autoRefresh"&&z.account.set("settings-autoRefresh",!!o),a.join(".")==="settings.boostsCarousel"&&z.account.set("settings-boostsCarousel",!!o),a.join(".")==="settings.shortcutsViewMode"&&z.account.set("settings-shortcutsViewMode",o),a.join(".")==="settings.contentTranslation"&&z.account.set("settings-contentTranslation",!!o),a.join(".")==="settings.contentTranslationAutoInline"&&z.account.set("settings-contentTranslationAutoInline",!!o),a.join(".")==="settings.shortcutSettingsCloudImportExport"&&z.account.set("settings-shortcutSettingsCloudImportExport",!!o),a.join(".")==="settings.contentTranslationTargetLanguage"&&z.account.set("settings-contentTranslationTargetLanguage",o),/^settings\.contentTranslationHideLanguages/i.test(a.join("."))&&z.account.set("settings-contentTranslationHideLanguages",te.settings.contentTranslationHideLanguages),a.join(".")==="settings.mediaAltGenerator"&&z.account.set("settings-mediaAltGenerator",!!o),(a==null?void 0:a[0])==="shortcuts"&&z.account.set("shortcuts",te.shortcuts),a.join(".")==="settings.cloakMode"&&z.account.set("settings-cloakMode",!!o)});function $e(t,n){if(t)return n?`${n}/${t}`:t}function kn(t,n){if(n){const a=$e(t,n);return te.statuses[a]}return te.statuses[t]}function Me(t,n,a){typeof n=="object"&&(a=n,n=null);const{override:o=!0,skipThreading:r=!1,skipUnfurling:s=!1}=a||{};if(!t)return;const c=kn(t.id,n);!o&&c||ya(t,c)||(queueMicrotask(()=>{var d,f;const u=$e(t.id,n);if(c!=null&&c._pinned&&(t._pinned=c._pinned),te.statuses[u]=t,(d=t.reblog)!=null&&d.id){const p=$e(t.reblog.id,n);te.statuses[p]=t.reblog}if((f=t.quote)!=null&&f.id){const p=$e(t.quote.id,n);te.statuses[p]=t.quote,te.statusQuotes[u]=[{id:t.quote.id,instance:n}]}}),r||queueMicrotask(()=>{Qo(t.reblog||t,n)}),s||queueMicrotask(()=>{ei(t.reblog||t,n)}))}function Xo(t,n){const{masto:a,instance:o}=Ge({instance:n});let r=0;async function s(c,u=0){const{inReplyToId:d,inReplyToAccountId:f}=c;if(!d||f!==c.account.id)return[c];if(d&&f!==c.account.id)throw"Not a thread";const p=$e(d,o);let m=te.statuses[p];if(!m){if(r++>3)throw"Too many fetches for thread";await new Promise(h=>setTimeout(h,500*r)),m=await ti(d,a),Me(m,o,{skipThreading:!0})}return[...await s(m,++u),c]}return s(t).then(c=>{c.length>1&&c.forEach((u,d)=>{const f=$e(u.id,o);te.statusThreadNumber[f]=d+1})}).catch(c=>{})}const Qo=Wo(Xo,100),Xn=document.createElement("div");function ei(t,n){const{instance:a}=Ge(),o=t==null?void 0:t.content;if(/<a/i.test(o)){const s=$e(t==null?void 0:t.id,n);Xn.innerHTML=o,[...Xn.querySelectorAll("a[href]:not(.u-url):not(.mention):not(.hashtag)")].filter(u=>{const d=u.href;return!(d===t.url||d===t.uri)&&Aa(d)}).forEach((u,d)=>{Ca(a,u.href).then(f=>{f&&s&&(Array.isArray(te.statusQuotes[s])||(te.statusQuotes[s]=[]),te.statusQuotes[s][d]||te.statusQuotes[s].splice(d,0,f))})})}}const ti=Wt((t,n)=>n.v1.statuses.$select(t).fetch());function ni(t,n,a,o){const r=Q(t);ge(()=>{r.current=t},[t,a]),ge(()=>{!o||n===null||n===!1||r.current()},[o]),ge(()=>{if(n===null||n===!1)return;const c=setInterval(()=>r.current(),n);return()=>clearInterval(c)},[n])}function Sa(t){const n=new URL("/compose/",window.location),{width:a,height:o}=window.screen,r=Math.max(0,(a-600)/2),s=Math.max(0,(o-450)/2),c=Math.min(a,600),u=Math.min(o,450),d=(t==null?void 0:t.uid)||Math.random(),f=window.open(n,"compose"+d,`width=${c},height=${u},left=${r},top=${s}`);return f?f.__COMPOSE__=t:alert("Looks like your browser is blocking popups."),f}const ai="modulepreload",oi=function(t,n){return new URL(t,n).href},Qn={},_=function(n,a,o){let r=Promise.resolve();if(a&&a.length>0){const s=document.getElementsByTagName("link");r=Promise.all(a.map(c=>{if(c=oi(c,o),c in Qn)return;Qn[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!o)for(let m=s.length-1;m>=0;m--){const h=s[m];if(h.href===c&&(!u||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":ai,u||(p.as="script",p.crossOrigin=""),p.href=c,document.head.appendChild(p),u)return new Promise((m,h)=>{p.addEventListener("load",m),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}return r.then(()=>n()).catch(s=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s})},Fa={x:()=>_(()=>import("./icons/close-line-YTE7hIJE.js"),__vite__mapDeps([]),import.meta.url),heart:()=>_(()=>import("./icons/heart-line-VwvWYh8h.js"),__vite__mapDeps([]),import.meta.url),bookmark:()=>_(()=>import("./icons/bookmark-line-D6jQ7QFs.js"),__vite__mapDeps([]),import.meta.url),"check-circle":()=>_(()=>import("./icons/check-circle-line-sE41WGxF.js"),__vite__mapDeps([]),import.meta.url),"x-circle":()=>_(()=>import("./icons/close-circle-line-qd3g541O.js"),__vite__mapDeps([]),import.meta.url),transfer:()=>_(()=>import("./icons/transfer-4-line-Q9QJoxz3.js"),__vite__mapDeps([]),import.meta.url),rocket:()=>_(()=>import("./icons/rocket-line-rZbVYYCZ.js"),__vite__mapDeps([]),import.meta.url),"arrow-left":()=>_(()=>import("./icons/arrow-left-line-_YC6-XGG.js"),__vite__mapDeps([]),import.meta.url),"arrow-right":()=>_(()=>import("./icons/arrow-right-line-PypiEqpu.js"),__vite__mapDeps([]),import.meta.url),"arrow-up":()=>_(()=>import("./icons/arrow-up-line-fcuKqhVE.js"),__vite__mapDeps([]),import.meta.url),"arrow-down":()=>_(()=>import("./icons/arrow-down-line-0TRJUP_K.js"),__vite__mapDeps([]),import.meta.url),earth:()=>_(()=>import("./icons/earth-line-t1Um8wpQ.js"),__vite__mapDeps([]),import.meta.url),lock:()=>_(()=>import("./icons/lock-line-0jNHqZpm.js"),__vite__mapDeps([]),import.meta.url),unlock:()=>_(()=>import("./icons/unlock-line-w3piJMVb.js"),__vite__mapDeps([]),import.meta.url),"eye-close":()=>_(()=>import("./icons/eye-close-line-lBiePPv9.js"),__vite__mapDeps([]),import.meta.url),"eye-open":()=>_(()=>import("./icons/eye-2-line-vz_Kw-rK.js"),__vite__mapDeps([]),import.meta.url),message:()=>_(()=>import("./icons/mail-line-5XLS6FEo.js"),__vite__mapDeps([]),import.meta.url),comment:()=>_(()=>import("./icons/chat-3-line-F0xcdpXY.js"),__vite__mapDeps([]),import.meta.url),comment2:()=>_(()=>import("./icons/comment-2-line-xEXuT-Ip.js"),__vite__mapDeps([]),import.meta.url),home:()=>_(()=>import("./icons/home-3-line-qJiZhXUH.js"),__vite__mapDeps([]),import.meta.url),notification:()=>_(()=>import("./icons/notification-line-olNPLtgS.js"),__vite__mapDeps([]),import.meta.url),follow:()=>_(()=>import("./icons/user-follow-line-k_GCWTtp.js"),__vite__mapDeps([]),import.meta.url),"follow-add":()=>_(()=>import("./icons/user-add-line-zzW9OULB.js"),__vite__mapDeps([]),import.meta.url),poll:[()=>_(()=>import("./icons/chart-bar-line-5r_DfN2w.js"),__vite__mapDeps([]),import.meta.url),"90deg"],pencil:()=>_(()=>import("./icons/pencil-line-bKXqElLR.js"),__vite__mapDeps([]),import.meta.url),quill:()=>_(()=>import("./icons/quill-pen-line-h_5-FsGz.js"),__vite__mapDeps([]),import.meta.url),at:()=>_(()=>import("./icons/at-line-9vJS_Hnl.js"),__vite__mapDeps([]),import.meta.url),attachment:()=>_(()=>import("./icons/attachment-line-C2PUa1Ke.js"),__vite__mapDeps([]),import.meta.url),upload:()=>_(()=>import("./icons/upload-3-line-Qsjvubiw.js"),__vite__mapDeps([]),import.meta.url),gear:()=>_(()=>import("./icons/settings-3-line-kt4MSpRv.js"),__vite__mapDeps([]),import.meta.url),more:()=>_(()=>import("./icons/more-3-line-wUD-Yhmj.js"),__vite__mapDeps([]),import.meta.url),more2:()=>_(()=>import("./icons/more-1-fill-je1-slyh.js"),__vite__mapDeps([]),import.meta.url),external:()=>_(()=>import("./icons/external-link-line-8nOOkmFu.js"),__vite__mapDeps([]),import.meta.url),popout:()=>_(()=>import("./icons/external-link-line-8nOOkmFu.js"),__vite__mapDeps([]),import.meta.url),popin:[()=>_(()=>import("./icons/external-link-line-8nOOkmFu.js"),__vite__mapDeps([]),import.meta.url),"180deg"],plus:()=>_(()=>import("./icons/add-circle-line--O-MfyNy.js"),__vite__mapDeps([]),import.meta.url),"chevron-left":()=>_(()=>import("./icons/left-line-Jck0yVmC.js"),__vite__mapDeps([]),import.meta.url),"chevron-right":()=>_(()=>import("./icons/right-line-7VBoqLdz.js"),__vite__mapDeps([]),import.meta.url),"chevron-down":()=>_(()=>import("./icons/down-line-9PeS5YhF.js"),__vite__mapDeps([]),import.meta.url),reply:[()=>_(()=>import("./icons/share-forward-line-4jL-2Q4u.js"),__vite__mapDeps([]),import.meta.url),"180deg","horizontal"],thread:()=>_(()=>import("./icons/route-line-2YYy3958.js"),__vite__mapDeps([]),import.meta.url),group:()=>_(()=>import("./icons/group-line-JvhJklhQ.js"),__vite__mapDeps([]),import.meta.url),bot:()=>_(()=>import("./icons/android-2-line-uPwvVubH.js"),__vite__mapDeps([]),import.meta.url),menu:()=>_(()=>import("./icons/rows-4-line-SxGPYpTa.js"),__vite__mapDeps([]),import.meta.url),list:()=>_(()=>import("./icons/list-check-line-qNqx9Mm4.js"),__vite__mapDeps([]),import.meta.url),search:()=>_(()=>import("./icons/search-2-line-G39AynEw.js"),__vite__mapDeps([]),import.meta.url),hashtag:()=>_(()=>import("./icons/hashtag-line-SS3QMu1R.js"),__vite__mapDeps([]),import.meta.url),info:()=>_(()=>import("./icons/information-line-8SOch6cR.js"),__vite__mapDeps([]),import.meta.url),shortcut:()=>_(()=>import("./icons/lightning-line-JMYUlCZM.js"),__vite__mapDeps([]),import.meta.url),user:()=>_(()=>import("./icons/user-4-line-zT_bpOrS.js"),__vite__mapDeps([]),import.meta.url),following:()=>_(()=>import("./icons/walk-line-CF7a5s4t.js"),__vite__mapDeps([]),import.meta.url),pin:()=>_(()=>import("./icons/pin-line-ULyRQyWZ.js"),__vite__mapDeps([]),import.meta.url),unpin:[()=>_(()=>import("./icons/pin-line-ULyRQyWZ.js"),__vite__mapDeps([]),import.meta.url),"180deg"],bus:()=>_(()=>import("./icons/bus-2-line-XuQdDZ_w.js"),__vite__mapDeps([]),import.meta.url),link:()=>_(()=>import("./icons/link-2-line-BUqp1EwN.js"),__vite__mapDeps([]),import.meta.url),history:()=>_(()=>import("./icons/history-line-yoG7K8wL.js"),__vite__mapDeps([]),import.meta.url),share:()=>_(()=>import("./icons/share-2-line-PYo-zN94.js"),__vite__mapDeps([]),import.meta.url),sparkles:()=>_(()=>import("./icons/sparkles-line-wjZWGZ1a.js"),__vite__mapDeps([]),import.meta.url),sparkles2:()=>_(()=>import("./icons/sparkles-2-line-g2FqdZ0R.js"),__vite__mapDeps([]),import.meta.url),exit:()=>_(()=>import("./icons/exit-line-l-1uUgI7.js"),__vite__mapDeps([]),import.meta.url),translate:()=>_(()=>import("./icons/translate-line-HpDtlqS2.js"),__vite__mapDeps([]),import.meta.url),play:()=>_(()=>import("./icons/play-fill-Ey-zv2eL.js"),__vite__mapDeps([]),import.meta.url),trash:()=>_(()=>import("./icons/delete-2-line-pjUduCFs.js"),__vite__mapDeps([]),import.meta.url),mute:()=>_(()=>import("./icons/volume-mute-line-WthBoXru.js"),__vite__mapDeps([]),import.meta.url),unmute:()=>_(()=>import("./icons/volume-line-PZujbN8h.js"),__vite__mapDeps([]),import.meta.url),block:()=>_(()=>import("./icons/forbid-circle-line-3FxopGoP.js"),__vite__mapDeps([]),import.meta.url),unblock:[()=>_(()=>import("./icons/forbid-circle-line-3FxopGoP.js"),__vite__mapDeps([]),import.meta.url),"180deg"],flag:()=>_(()=>import("./icons/flag-1-line-xvcg7G7Q.js"),__vite__mapDeps([]),import.meta.url),time:()=>_(()=>import("./icons/time-line-ThP0kTRr.js"),__vite__mapDeps([]),import.meta.url),refresh:()=>_(()=>import("./icons/refresh-2-line-t42qqclb.js"),__vite__mapDeps([]),import.meta.url),emoji2:()=>_(()=>import("./icons/emoji-2-line--uNVc2IC.js"),__vite__mapDeps([]),import.meta.url),filter:()=>_(()=>import("./icons/filter-2-line-KyjbFYlO.js"),__vite__mapDeps([]),import.meta.url),chart:()=>_(()=>import("./icons/chart-line-line-pHaLt6yC.js"),__vite__mapDeps([]),import.meta.url),react:()=>_(()=>import("./icons/react-line-YfZPqZem.js"),__vite__mapDeps([]),import.meta.url),layout4:()=>_(()=>import("./icons/layout-4-line-FOdnyEcZ.js"),__vite__mapDeps([]),import.meta.url),layout5:()=>_(()=>import("./icons/layout-5-line-9Kks7dle.js"),__vite__mapDeps([]),import.meta.url),announce:()=>_(()=>import("./icons/announcement-line-MSlAmDH1.js"),__vite__mapDeps([]),import.meta.url),alert:()=>_(()=>import("./icons/alert-line-zyc6hy8V.js"),__vite__mapDeps([]),import.meta.url),round:()=>_(()=>import("./icons/round-fill-a0rplSmV.js"),__vite__mapDeps([]),import.meta.url),"arrow-up-circle":()=>_(()=>import("./icons/arrow-up-circle-line-e3kZqEZN.js"),__vite__mapDeps([]),import.meta.url),"arrow-down-circle":()=>_(()=>import("./icons/arrow-down-circle-line-mpqFtRtO.js"),__vite__mapDeps([]),import.meta.url),clipboard:()=>_(()=>import("./icons/clipboard-line-9F_Yeo71.js"),__vite__mapDeps([]),import.meta.url),"account-edit":()=>_(()=>import("./icons/user-edit-line-9VnWCh0X.js"),__vite__mapDeps([]),import.meta.url),"account-warning":()=>_(()=>import("./icons/user-warning-line-gL3RGb1N.js"),__vite__mapDeps([]),import.meta.url),keyboard:()=>_(()=>import("./icons/keyboard-line-10AZQcVH.js"),__vite__mapDeps([]),import.meta.url),cloud:()=>_(()=>import("./icons/cloud-line-abe0HgFS.js"),__vite__mapDeps([]),import.meta.url),month:()=>_(()=>import("./icons/calendar-month-line-VoXZVWAe.js"),__vite__mapDeps([]),import.meta.url),media:()=>_(()=>import("./icons/photo-album-line--GdJqjfq.js"),__vite__mapDeps([]),import.meta.url),speak:()=>_(()=>import("./icons/radar-line-ndI8IhOG.js"),__vite__mapDeps([]),import.meta.url),building:()=>_(()=>import("./icons/building-5-line-ew7lu83B.js"),__vite__mapDeps([]),import.meta.url),history:()=>_(()=>import("./icons/history-2-line-3yIVzoWo.js"),__vite__mapDeps([]),import.meta.url),document:()=>_(()=>import("./icons/document-line--D6ooZg1.js"),__vite__mapDeps([]),import.meta.url),"arrows-right":()=>_(()=>import("./icons/arrows-right-line-HF4HILdT.js"),__vite__mapDeps([]),import.meta.url)},ii={s:12,m:16,l:20,xl:24,xxl:32},ea={},ri=yn(function({width:t,height:n,body:a,rotate:o,flip:r}){return e("svg",{viewBox:`0 0 ${t} ${n}`,dangerouslySetInnerHTML:{__html:a},style:{transform:`${o?`rotate(${o})`:""} ${r?"scaleX(-1)":""}`}})},{isShallowEqual:!0,maxSize:Object.keys(Fa).length,matchesArg:(t,n)=>t.icon===n.icon&&t.body===n.body});function T({icon:t,size:n="m",alt:a,title:o,class:r="",style:s={}}){if(!t)return null;const c=ii[n];let u=Fa[t];if(!u)return null;let d,f;Array.isArray(u)&&([u,d,f]=u);const[p,m]=X(ea[t]),h=Q(t);return ge(()=>{p&&h.current===t||((async()=>{const g=await u();m(g.default),ea[t]=g.default})(),h.current=t)},[t]),e("span",{class:`icon ${r}`,title:o||a,style:{width:`${c}px`,height:`${c}px`,...s},children:p&&e(ri,{icon:t,width:p.width,height:p.height,body:p.body,rotate:d,flip:f})})}function si(t,n=[]){!t||typeof t!="function"||ge(()=>{const a=new CloseWatcher;return a.addEventListener("close",t),()=>{a.destroy()}},n)}const Pa=window.CloseWatcher?si:()=>{},ci=document.getElementById("modal-container");function Yt({children:t,onClose:n,onClick:a,class:o}){if(!t)return null;const r=Q();ge(()=>{let d=setTimeout(()=>{var p;const f=(p=r.current)==null?void 0:p.querySelector('[tabindex="-1"]');f&&f.focus()},100);return()=>clearTimeout(d)},[]);const s=window.CloseWatcher,c=je("esc",()=>{setTimeout(()=>{n==null||n()},0)},{enabled:!s&&!!n,keydown:!1,keyup:!0},[n]);Pa(n,[n]);const u=e("div",{ref:d=>{var f;r.current=d,c.current=((f=d==null?void 0:d.querySelector)==null?void 0:f.call(d,'[tabindex="-1"]'))||d},className:o,onClick:d=>{a==null||a(d),d.target===d.currentTarget&&(n==null||n(d))},tabIndex:"-1",onFocus:d=>{var f,p;try{if(d.target===d.currentTarget){const m=(f=r.current)==null?void 0:f.querySelector('[tabindex="-1"]'),h=((p=getComputedStyle(m))==null?void 0:p.pointerEvents)!=="none";m&&h&&m.focus()}}catch{}},children:t});return ho(u,ci)}function Jt({abrupt:t,hidden:n,...a}){return e("span",{...a,class:`loader-container ${t?"abrupt":""} ${n?"hidden":""}`,children:e("span",{class:"loader"})})}const ta={s:16,m:20,l:24,xl:32,xxl:50,xxxl:64},gt={},bt=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas"),rn=bt.getContext("2d",{willReadFrequently:!0});function li({url:t,size:n,alt:a="",squircle:o,...r}){n=ta[n]||n||ta.m;const s=Q(),c=/missing\.png$/.test(t);return e("span",{ref:s,class:`avatar ${o?"squircle":""} ${gt[t]?"has-alpha":""}`,style:{width:n,height:n},title:a,...r,children:!!t&&e("img",{src:t,width:n,height:n,alt:a,loading:"lazy",decoding:"async",crossOrigin:gt[t]===void 0&&!c?"anonymous":void 0,onError:u=>{u.target.crossOrigin&&(u.target.crossOrigin=null,u.target.src=t)},onLoad:u=>{s.current&&(s.current.dataset.loaded=!0),gt[t]===void 0&&(c||queueMicrotask(()=>{try{const{width:d,height:f}=u.target;bt.width!==d&&(bt.width=d),bt.height!==f&&(bt.height=f),rn.drawImage(u.target,0,0);const p=rn.getImageData(0,0,d,f),m=p.data.filter((h,g)=>g%4===3&&h<=128).length/(p.data.length/4)>.1;m&&s.current.classList.add("has-alpha"),gt[t]=m,rn.clearRect(0,0,d,f)}catch{gt[t]=!1}}))}})})}const We=Ye(li),ot=_a((t,n)=>{let a;try{a=po()}catch{}let o=(location.hash||"").replace(/^#/,"").trim();o===""&&(o="/");const{to:r,...s}=t;if(o&&o!=="/"&&o.includes("?"))try{const u=new URL(o,location.origin);if(u.searchParams.size){const d=Array.from(u.searchParams.entries()).map(([f,p])=>`${f}=${encodeURIComponent(p)}`).join("&");o=u.pathname+"?"+d}}catch{}const c=o===r||decodeURIComponent(o)===r;return e("a",{ref:n,href:`#${r}`,...s,class:`${t.class||""} ${c?"is-active":""}`,onClick:u=>{var d,f,p;(f=(d=u.currentTarget)==null?void 0:d.parentNode)!=null&&f.closest("a")&&u.stopPropagation(),a&&(M.prevLocation=a),(p=t.onClick)==null||p.call(t,u)}})}),ui=document.documentElement,Bt=getComputedStyle(ui),di=8;let Ia=[0,0,0,0];function $a(){const t=Bt.getPropertyValue("--sai-top"),n=Bt.getPropertyValue("--sai-right"),a=Bt.getPropertyValue("--sai-bottom"),o=Bt.getPropertyValue("--sai-left");Ia=[Math.max(0,parseInt(t,10)),Math.max(0,parseInt(n,10)),Math.max(0,parseInt(a,10)),Math.max(0,parseInt(o,10))]}requestAnimationFrame($a);function Ra(t=[]){return Ia.map((a,o)=>(a||di)+(t[o]||0)).join(" ")}CSS.supports("top: env(safe-area-inset-top)")&&window.addEventListener("resize",$a,{passive:!0});function wn(t){const{containerProps:n,instanceRef:a}=t,o=fo(),r=a!=null&&a.current?a:Q();return e(go,{boundingBoxPadding:Ra(),repositionFlag:`${o.width}x${o.height}`,unmountOnClose:!0,...t,instanceRef:r,containerProps:{onClick:s=>{var c,u,d;s.target===s.currentTarget&&((u=(c=r.current)==null?void 0:c.closeMenu)==null||u.call(c)),(d=n==null?void 0:n.onClick)==null||d.call(n,s)},...n}})}function sn({subMenu:t=!1,confirm:n=!0,confirmLabel:a,menuItemClassName:o,menuFooter:r,...s}){const{children:c,onClick:u,...d}=s;if(!n)return t?e(we,{...s}):u?vo(c,{onClick:u}):c;const f=t?bo:wn,p=Q();return e(f,{instanceRef:p,openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",...d,menuButton:t?void 0:c,label:t?c:void 0,itemProps:{onPointerMove:m=>{var h,g;m.pointerType==="touch"&&((g=(h=p.current)==null?void 0:h.openMenu)==null||g.call(h))},onPointerLeave:m=>{var h,g;m.pointerType==="touch"&&((g=(h=p.current)==null?void 0:h.openMenu)==null||g.call(h))}},children:[e(we,{className:o,onClick:u,children:a}),r]})}function mi({text:t,emojis:n}){if(!t)return"";if(!(n!=null&&n.length)||t.indexOf(":")===-1)return t;const a=new RegExp(`:(${n.map(r=>r.shortcode).join("|")}):`,"g");return t.split(a).map(r=>{const s=n.find(c=>c.shortcode===r);if(s){const{url:c,staticUrl:u}=s;return e("picture",{children:[e("source",{srcset:u,media:"(prefers-reduced-motion: reduce)"}),e("img",{src:c,alt:r,class:"shortcode-emoji emoji",width:"16",height:"16",loading:"lazy",decoding:"async"},r)]})}return r})}const xt=At(mi,(t,n)=>{var a,o;return t.text===n.text&&((a=t.emojis)==null?void 0:a.length)===((o=n.emojis)==null?void 0:o.length)}),hi=new Intl.Collator("en",{sensitivity:"base"});function pi({account:t,instance:n,showAvatar:a,showAcct:o,short:r,external:s,onClick:c}){const{acct:u,avatar:d,avatarStatic:f,id:p,url:m,displayName:h,emojis:g,bot:v}=t;let{username:b}=t;const[k,E,w]=u.match(/([^@]+)(@.+)/i)||[,u],y=b.toLowerCase().trim(),L=(h||"").toLowerCase().trim(),F=L.replace(/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,"").replace(/\s+/g,""),D=F.replace(/[^a-z0-9]/gi,"");return!r&&(y===L||y===F||y===D||hi.compare(y,F)===0)&&(b=null),e("a",{class:`name-text ${o?"show-acct":""} ${r?"short":""}`,href:m,target:s?"_blank":null,title:`${h?`${h} `:""}@${u}`,onClick:P=>{if(!s){if(P.preventDefault(),P.stopPropagation(),c)return c(P);M.showAccount={account:t,instance:n}}},children:[a&&e(j,{children:[e(We,{url:f||d,squircle:v})," "]}),h&&!r?e(j,{children:[e("b",{children:e(xt,{text:h,emojis:g})}),!o&&b&&e(j,{children:[" ",e("i",{children:["@",b]})]})]}):r?e("i",{children:b}):e("b",{children:b}),o&&e(j,{children:[e("br",{}),e("i",{children:["@",E,e("span",{class:"ib",children:w})]})]})]})}const yt=At(pi,(t,n)=>{const{account:a}=t,{account:o}=n;return(a==null?void 0:a.acct)===(o==null?void 0:o.acct)});Et.extend(yo);Et.extend(_o);Et.extend(ko);const fi=new Intl.DateTimeFormat;function Tt({datetime:t,format:n}){if(!t)return null;const a=Ee(()=>Et(t),[t]),o=Ee(()=>{if(n==="micro"){const c=Et();return c.diff(a,"day")<=1||c.year()===a.year()?a.twitter():fi.format(a.toDate())}return a.fromNow()},[a,n]),r=Ee(()=>a.toISOString(),[a]),s=Ee(()=>a.format("LLLL"),[a]);return e("time",{datetime:r,title:s,children:o})}const gi=[{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"zh_HANT",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];function vi(...t){try{return wo(...t)}catch{return t[2]||!1}}const Kt=Ye(vi),bi=[new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],yi=Kt(bi,gi.map(t=>t.code.replace("_","-")),"en");function Da(t=!1){if(t){const{contentTranslationTargetLanguage:n}=M.settings;if(n)return n}return yi}function cn(t){try{return new Intl.DisplayNames(navigator.languages,{type:"language"}).of(t)}catch{return null}}function En(t,n=[]){return t?(!n.length||t.indexOf(":")===-1||n.forEach(a=>{const{shortcode:o,staticUrl:r,url:s}=a;t=t.replace(new RegExp(`:${o}:`,"g"),`<picture><source srcset="${r}" media="(prefers-reduced-motion: reduce)"></source><img class="shortcode-emoji emoji" src="${s}" alt=":${o}:" width="16" height="16" loading="lazy" decoding="async" /></picture>`)}),t):""}const nt=document.createElement("div"),_i=["u-url","mention","hashtag"];function ki(t,n={}){const{emojis:a,postEnhanceDOM:o=()=>{}}=n;let r=t;const s=document.createElement("div");s.innerHTML=r;const c=/<a/i.test(r),u=r.includes("```");if(c&&(s.querySelectorAll('a:not([target="_blank"])').forEach(m=>{m.setAttribute("target","_blank")}),s.querySelectorAll("a[class]").forEach(m=>{m.classList.forEach(h=>{_i.includes(h)||m.classList.remove(h)})})),c&&s.querySelectorAll("a[href]").forEach(p=>{/^https?:\/\//i.test(p.textContent.trim())&&(p.classList.add("has-url-text"),Ti(p))}),c){const f=s.querySelectorAll("a[href]"),p=[];f.forEach(m=>{const h=m.innerText.trim(),g=m.querySelector("*");if(/^@[^@]+(@[^@]+)?$/g.test(h)){const[v,b,k]=h.split("@");g||(!p.some(([E])=>E===b)||p.some(([E,w])=>E===b&&w===k)?(m.innerHTML=`@<span>${b}</span>`,p.push([b,k])):m.innerHTML=`@<span>${b}@${k}</span>`),m.classList.add("mention")}/^#[^#]+$/g.test(h)&&(g||(m.innerHTML=`#<span>${h.slice(1)}</span>`),m.classList.add("mention","hashtag"))})}let d;if(r.includes(":")&&(d=un(s),d.forEach(f=>{let p=f.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a&&(p=En(p,a)),nt.innerHTML=p,f.replaceWith(...nt.childNodes)})),u&&[...s.querySelectorAll("p")].filter(p=>/^```[^]+```$/g.test(p.innerText.trim())).forEach(p=>{const m=document.createElement("pre");p.querySelectorAll("br").forEach(h=>h.replaceWith(`
`)),m.innerHTML=`<code>${p.innerHTML.trim()}</code>`,p.replaceWith(m)}),u&&[...s.querySelectorAll("p")].filter(m=>/^```/g.test(m.innerText)).forEach(m=>{const h=[m];let g=!1,v=m;for(;v.nextElementSibling;){const b=v.nextElementSibling;if(b&&b.tagName==="P")if(/```$/g.test(b.innerText)){h.push(b),g=!0;break}else h.push(b);else break;v=b}if(g){const b=document.createElement("pre");h.forEach(E=>{E.querySelectorAll("br").forEach(w=>w.replaceWith(`
`))});const k=h.map(E=>E.innerHTML).join(`

`);b.innerHTML=`<code tabindex="0">${k}</code>`,m.replaceWith(b),h.forEach(E=>E.remove())}}),r.includes("`")&&(d=un(s),d.forEach(f=>{let p=f.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/`[^`]+`/g.test(p)&&(p=p.replaceAll(/(`[^]+?`)/g,"<code>$1</code>")),nt.innerHTML=p,f.replaceWith(...nt.childNodes)})),/twitter\.com/i.test(r)&&(d=un(s,{rejectFilter:["A"]}),d.forEach(f=>{let p=f.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/@[a-zA-Z0-9_]+@twitter\.com/g.test(p)&&(p=p.replaceAll(/(@([a-zA-Z0-9_]+)@twitter\.com)/g,'<a href="https://twitter.com/$2" rel="nofollow noopener noreferrer" target="_blank">$1</a>')),nt.innerHTML=p,f.replaceWith(...nt.childNodes)})),r.includes("#")){let f=null;const p=[...s.querySelectorAll("p")].filter((m,h)=>{let g=0;for(let v=0;v<m.childNodes.length;v++){const b=m.childNodes[v];if(b.nodeType===Node.TEXT_NODE){if(b.textContent.trim()!=="")return!1}else if(b.tagName!=="BR")if(b.tagName==="A"){const k=b.textContent.trim();if(!k||!k.startsWith("#"))return!1;g++}else return!1}if(g>3||g>1&&f&&h===f+1)return f=h,!0});p!=null&&p.length&&p.forEach(m=>{m.classList.add("hashtag-stuffing"),m.title=m.innerText})}return o&&queueMicrotask(()=>o(s)),r=s.innerHTML,r}const Ma=Ye(ki),wi=["STYLE","IMG","VIDEO","AUDIO","AREA","MAP","TRACK","EMBED","IFRAME","OBJECT","PICTURE","PORTAL","SOURCE","SVG","MATH","CANVAS","NOSCRIPT","SCRIPT","INPUT","OPTION","TEXTAREA","SLOT","TEMPLATE"],Ei=Object.fromEntries(wi.map(t=>[t,!0])),xi=/^(https?:\/\/(www\.)?|xmpp:)/,ln=30;function Ti(t){var n;if(!(!t||(n=t.querySelector)!=null&&n.call(t,"*")))try{const a=t.innerText.trim(),o=(a.match(xi)||[])[0]||"";if(!o)return;const r=a.slice(o.length,o.length+ln),s=a.slice(o.length+ln),c=a.slice(o.length).length>ln;t.innerHTML=`<span class="invisible">${o}</span><span class=${c?"ellipsis":""}>${r}</span><span class="invisible">${s}</span>`}catch{}}function un(t,n={}){var c;const a=[],o=Object.assign({},Ei,(c=n.rejectFilter)==null?void 0:c.reduce((u,d)=>(u[d]=!0,u),{})),r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode(u){return o[u.parentNode.nodeName]?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let s;for(;s=r.nextNode();)a.push(s);return a}const vt=document.createElement("div");function Li(t){return t?(vt.innerHTML=t.replace(/<\/p>/g,`</p>

`).replace(/<\/li>/g,`</li>
`),vt.querySelectorAll("br").forEach(n=>{n.replaceWith(`
`)}),vt.querySelectorAll(".invisible").forEach(n=>{n.remove()}),vt.querySelectorAll(".ellipsis").forEach(n=>{n.append("...")}),vt.innerText.replace(/[\r\n]{3,}/g,`

`).trim()):""}const xn=Ye(Li);function Ai(t){const{mentions:n=[],instance:a,previewMode:o,statusURL:r}=t||{};return s=>{var p,m;let{target:c}=s;if(c=c.closest("a"),!c||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey||s.which===2)return;const u=(p=c.previousSibling)==null?void 0:p.textContent,d=u==null?void 0:u.endsWith("@"),f=c.innerText.startsWith("@");if(c.classList.contains("u-url")&&f||d&&!f){const h=(c.querySelector("span")||c).innerText.trim(),g=h.replace(/^@/,""),v=c.getAttribute("href"),b=n.find(k=>k.username===g||k.acct===g||k.url===v);if(b)s.preventDefault(),s.stopPropagation(),M.showAccount={account:b.acct,instance:a};else if(!/^http/i.test(h)){s.preventDefault(),s.stopPropagation();const k=c.getAttribute("href");M.showAccount={account:k,instance:a}}}else if(!o){const h=u==null?void 0:u.endsWith("#");if(c.classList.contains("hashtag")||h){s.preventDefault(),s.stopPropagation();const g=c.innerText.replace(/^#/,"").trim(),v=a?`#/${a}/t/${g}`:`#/t/${g}`;location.hash=v}else(m=M.unfurledLinks[c.href])!=null&&m.url&&r!==c.href&&(s.preventDefault(),s.stopPropagation(),M.prevLocation={pathname:location.hash.replace(/^#/,"")},location.hash=`#${M.unfurledLinks[c.href].url}`)}}}const{locale:Ci}=new Intl.DateTimeFormat().resolvedOptions(),Si=t=>{const{dateYear:n,hideTime:a,formatOpts:o}=t||{},r=new Date().getFullYear();return Intl.DateTimeFormat(Ci,{year:n===r?void 0:"numeric",month:"short",day:"numeric",hour:a?void 0:"numeric",minute:a?void 0:"numeric",...o})},Fi=Ye(Si);function Lt(t,n){return t instanceof Date||(t=new Date(t)),Fi({dateYear:t.getFullYear(),...n}).format(t)}const{locale:Pi}=Intl.NumberFormat().resolvedOptions(),qe=Intl.NumberFormat(Pi,{notation:"compact"}).format;function Ii({skeleton:t,account:n,avatarSize:a="xl",useAvatarStatic:o=!1,instance:r,external:s,internal:c,onClick:u,showActivity:d=!1,showStats:f=!1,accountInstance:p,hideDisplayName:m=!1,relationship:h={},excludeRelationshipAttrs:g=[]}){if(t)return e("div",{class:"account-block skeleton",children:[e(We,{size:a}),e("span",{children:[e("b",{children:"████████"}),e("br",{}),e("span",{class:"account-block-acct",children:"@██████"})]})]});if(!n)return null;const{id:v,acct:b,avatar:k,avatarStatic:E,displayName:w,username:y,emojis:L,url:F,statusesCount:D,lastStatusAt:P,bot:C,fields:I,note:B,group:N,followersCount:q,createdAt:K}=n;let[fe,le,ie]=b.match(/([^@]+)(@.+)/i)||[,b];p&&(ie=`@${p}`);const ee=I==null?void 0:I.find(A=>!!A.verifiedAt&&!!A.value),se={};for(const A in h)g.includes(A)||(se[A]=h[A]);const me=se.following||se.followedBy||se.requested;return e("a",{class:"account-block",href:F,target:s?"_blank":null,title:`@${b}`,onClick:A=>{if(!s){if(A.preventDefault(),u)return u(A);c?location.hash=`/${r}/a/${v}`:M.showAccount={account:n,instance:r}}},children:[e(We,{url:o?E:k||E,size:a,squircle:C}),e("span",{class:"account-block-content",children:[!m&&e(j,{children:w?e("b",{children:e(xt,{text:w,emojis:L})}):e("b",{children:y})})," ",e("span",{class:"account-block-acct",children:["@",le,e("wbr",{}),ie]}),d&&e(j,{children:[e("br",{}),e("small",{class:"last-status-at insignificant",children:["Posts: ",D,!!P&&e(j,{children:[" ","· Last posted:"," ",Lt(P,{hideTime:!0})]})]})]}),f&&e("div",{class:"account-block-stats",children:[C&&e(j,{children:e("span",{class:"tag collapsed",children:[e(T,{icon:"bot"})," Automated"]})}),!!N&&e(j,{children:e("span",{class:"tag collapsed",children:[e(T,{icon:"group"})," Group"]})}),me&&e("div",{class:"shazam-container-horizontal",children:e("div",{class:"shazam-container-inner",children:se.following&&se.followedBy?e("span",{class:"tag minimal",children:"Mutual"}):se.requested?e("span",{class:"tag minimal",children:"Requested"}):se.following?e("span",{class:"tag minimal",children:"Following"}):se.followedBy?e("span",{class:"tag minimal",children:"Follows you"}):null})},h.id),!!q&&e("span",{class:"ib",children:[qe(q)," ",q===1?"follower":"followers"]}),!!ee&&e("span",{class:"verified-field",children:[e(T,{icon:"check-circle",size:"s"})," ",e("span",{dangerouslySetInnerHTML:{__html:Ma(ee.value,{emojis:L})}})]}),!C&&!N&&!me&&!q&&!ee&&!!K&&e("span",{class:"created-at",children:["Joined"," ",e("time",{datetime:K,children:Lt(K,{hideTime:!0})})]})]})]})]})}const $i={"@mastodon/edit-media-attributes":">=4.1","@mastodon/list-exclusive":">=4.2"},dn={};function Na(t){try{const{version:n,domain:a}=La(),o=`${a}-${t}`;if(dn[o])return dn[o];const r=$i[t];return r?dn[o]=Eo(n,r,{includePrerelease:!0,loose:!0}):!1}catch{return!1}}const Ri=[{code:"auto",name:"Detect"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];var Di={PHANPY_CLIENT_NAME:"Phanpy",PHANPY_WEBSITE:"https://phanpy.social",PHANPY_LINGVA_INSTANCES:"lingva.phanpy.social lingva.lunar.icu lingva.garudalinux.org translate.plausibility.cloud",PHANPY_PRIVACY_POLICY_URL:"https://mastodon.blaede.family/privacy-policy",VITE_APP_ENV:"production",PHANPY_DEFAULT_INSTANCE:"mastodon.blaede.family",PHANPY_DEFAULT_INSTANCE_REGISTRATION_URL:"https://mastodon.blaede.family/auth/sign_up",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{PHANPY_LINGVA_INSTANCES:na}=Di,wt=na?na.split(/\s+/):[],Mi=va({limit:1,interval:2e3});let mn=0;function Ni(t,n,a){return xo(()=>{let r=wt[mn];return fetch(`https://${r}/api/v1/${n}/${a}/${encodeURIComponent(t)}`).then(s=>{if(!s.ok)throw new Error(s.statusText);return s.json()}).then(s=>{var c;return{provider:"lingva",content:s.translation,detectedSourceLanguage:(c=s.info)==null?void 0:c.detectedSource,info:s.info}})},{retries:3,onFailedAttempt:r=>{mn=(mn+1)%wt.length}})}const Oa=1e3*60*60,za=Wt(Ni,{maxAge:Oa}),Oi=Wt(Mi(za),{maxAge:Oa});function zi({forceTranslate:t,sourceLanguage:n,onTranslate:a,text:o="",mini:r}){const s=Da(!0),[c,u]=X("default"),[d,f]=X(null),[p,m]=X(null),[h,g]=X(null),v=Q(),b=n?cn(n):null,k=cn(s),E=Q("auto");a||(a=r?Oi:za);const w=async()=>{var y,L;u("loading");try{const{content:F,detectedSourceLanguage:D,provider:P,error:C,...I}=await a(o,E.current,s);if(F){if(D){const B=cn(D);g(B)}if(P==="lingva"){const B=(L=(y=I==null?void 0:I.info)==null?void 0:y.pronunciation)==null?void 0:L.query;B&&f(B)}m(F),u("default"),!r&&F.trim()!==o.trim()&&(v.current.open=!0,v.current.scrollIntoView({behavior:"smooth",block:"nearest"}))}else u("error")}catch{u("error")}};return ge(()=>{t&&w()},[t]),r?p&&p.trim()!==o.trim()&&h!==k?e("div",{class:"shazam-container",children:e("div",{class:"shazam-container-inner",children:e("div",{class:"status-translation-block-mini",children:[e(T,{icon:"translate",alt:`Auto-translated from ${b}`}),e("output",{lang:s,dir:"auto",title:d||"",children:p})]})})}):null:e("div",{class:"status-translation-block",onClick:y=>{y.preventDefault()},children:e("details",{ref:v,children:[e("summary",{children:e("button",{type:"button",onClick:async y=>{y.preventDefault(),y.stopPropagation(),v.current.open=!v.current.open,c!=="loading"&&(p||w())},children:[e(T,{icon:"translate"})," ",e("span",{children:c==="loading"?"Translating…":n&&b&&!h?`Translate from ${b}`:"Translate"})]})}),e("div",{class:"translated-block",children:[e("div",{class:"translation-info insignificant",children:[e("select",{class:"translated-source-select",disabled:c==="loading",onChange:y=>{E.current=y.target.value,w()},children:Ri.map(y=>e("option",{value:y.code,children:y.code==="auto"?`Auto (${h??"…"})`:y.name}))})," ",e("span",{children:["→ ",k]}),e(Jt,{abrupt:!0,hidden:c!=="loading"})]}),c==="error"?e("p",{class:"ui-state",children:"Failed to translate"}):!!p&&e(j,{children:[e("output",{class:"translated-content",lang:s,dir:"auto",children:p}),!!d&&e("output",{class:"translated-pronunciation-content",tabIndex:-1,onClick:y=>{y.target.classList.toggle("expand")},children:d})]})]})]})})}const Bi=wt!=null&&wt.length?zi:()=>null,Tn=[["aa","Afar","Afaraf"],["ab","Abkhaz","аҧсуа бызшәа"],["ae","Avestan","avesta"],["af","Afrikaans","Afrikaans"],["ak","Akan","Akan"],["am","Amharic","አማርኛ"],["an","Aragonese","aragonés"],["ar","Arabic","اللغة العربية"],["as","Assamese","অসমীয়া"],["av","Avaric","авар мацӀ"],["ay","Aymara","aymar aru"],["az","Azerbaijani","azərbaycan dili"],["ba","Bashkir","башҡорт теле"],["be","Belarusian","беларуская мова"],["bg","Bulgarian","български език"],["bh","Bihari","भोजपुरी"],["bi","Bislama","Bislama"],["bm","Bambara","bamanankan"],["bn","Bengali","বাংলা"],["bo","Tibetan","བོད་ཡིག"],["br","Breton","brezhoneg"],["bs","Bosnian","bosanski jezik"],["ca","Catalan","Català"],["ce","Chechen","нохчийн мотт"],["ch","Chamorro","Chamoru"],["co","Corsican","corsu"],["cr","Cree","ᓀᐦᐃᔭᐍᐏᐣ"],["cs","Czech","čeština"],["cu","Old Church Slavonic","ѩзыкъ словѣньскъ"],["cv","Chuvash","чӑваш чӗлхи"],["cy","Welsh","Cymraeg"],["da","Danish","dansk"],["de","German","Deutsch"],["dv","Divehi","Dhivehi"],["dz","Dzongkha","རྫོང་ཁ"],["ee","Ewe","Eʋegbe"],["el","Greek","Ελληνικά"],["en","English","English"],["eo","Esperanto","Esperanto"],["es","Spanish","Español"],["et","Estonian","eesti"],["eu","Basque","euskara"],["fa","Persian","فارسی"],["ff","Fula","Fulfulde"],["fi","Finnish","suomi"],["fj","Fijian","Vakaviti"],["fo","Faroese","føroyskt"],["fr","French","Français"],["fy","Western Frisian","Frysk"],["ga","Irish","Gaeilge"],["gd","Scottish Gaelic","Gàidhlig"],["gl","Galician","galego"],["gu","Gujarati","ગુજરાતી"],["gv","Manx","Gaelg"],["ha","Hausa","هَوُسَ"],["he","Hebrew","עברית"],["hi","Hindi","हिन्दी"],["ho","Hiri Motu","Hiri Motu"],["hr","Croatian","Hrvatski"],["ht","Haitian","Kreyòl ayisyen"],["hu","Hungarian","magyar"],["hy","Armenian","Հայերեն"],["hz","Herero","Otjiherero"],["ia","Interlingua","Interlingua"],["id","Indonesian","Bahasa Indonesia"],["ie","Interlingue","Interlingue"],["ig","Igbo","Asụsụ Igbo"],["ii","Nuosu","ꆈꌠ꒿ Nuosuhxop"],["ik","Inupiaq","Iñupiaq"],["io","Ido","Ido"],["is","Icelandic","Íslenska"],["it","Italian","Italiano"],["iu","Inuktitut","ᐃᓄᒃᑎᑐᑦ"],["ja","Japanese","日本語"],["jv","Javanese","basa Jawa"],["ka","Georgian","ქართული"],["kg","Kongo","Kikongo"],["ki","Kikuyu","Gĩkũyũ"],["kj","Kwanyama","Kuanyama"],["kk","Kazakh","қазақ тілі"],["kl","Kalaallisut","kalaallisut"],["km","Khmer","ខេមរភាសា"],["kn","Kannada","ಕನ್ನಡ"],["ko","Korean","한국어"],["kr","Kanuri","Kanuri"],["ks","Kashmiri","कश्मीरी"],["ku","Kurmanji (Kurdish)","Kurmancî"],["kv","Komi","коми кыв"],["kw","Cornish","Kernewek"],["ky","Kyrgyz","Кыргызча"],["la","Latin","latine"],["lb","Luxembourgish","Lëtzebuergesch"],["lg","Ganda","Luganda"],["li","Limburgish","Limburgs"],["ln","Lingala","Lingála"],["lo","Lao","ລາວ"],["lt","Lithuanian","lietuvių kalba"],["lu","Luba-Katanga","Tshiluba"],["lv","Latvian","latviešu valoda"],["mg","Malagasy","fiteny malagasy"],["mh","Marshallese","Kajin M̧ajeļ"],["mi","Māori","te reo Māori"],["mk","Macedonian","македонски јазик"],["ml","Malayalam","മലയാളം"],["mn","Mongolian","Монгол хэл"],["mr","Marathi","मराठी"],["ms","Malay","Bahasa Melayu"],["mt","Maltese","Malti"],["my","Burmese","ဗမာစာ"],["na","Nauru","Ekakairũ Naoero"],["nb","Norwegian Bokmål","Norsk bokmål"],["nd","Northern Ndebele","isiNdebele"],["ne","Nepali","नेपाली"],["ng","Ndonga","Owambo"],["nl","Dutch","Nederlands"],["nn","Norwegian Nynorsk","Norsk Nynorsk"],["no","Norwegian","Norsk"],["nr","Southern Ndebele","isiNdebele"],["nv","Navajo","Diné bizaad"],["ny","Chichewa","chiCheŵa"],["oc","Occitan","occitan"],["oj","Ojibwe","ᐊᓂᔑᓈᐯᒧᐎᓐ"],["om","Oromo","Afaan Oromoo"],["or","Oriya","ଓଡ଼ିଆ"],["os","Ossetian","ирон æвзаг"],["pa","Panjabi","ਪੰਜਾਬੀ"],["pi","Pāli","पाऴि"],["pl","Polish","Polski"],["ps","Pashto","پښتو"],["pt","Portuguese","Português"],["qu","Quechua","Runa Simi"],["rm","Romansh","rumantsch grischun"],["rn","Kirundi","Ikirundi"],["ro","Romanian","Română"],["ru","Russian","Русский"],["rw","Kinyarwanda","Ikinyarwanda"],["sa","Sanskrit","संस्कृतम्"],["sc","Sardinian","sardu"],["sd","Sindhi","सिन्धी"],["se","Northern Sami","Davvisámegiella"],["sg","Sango","yângâ tî sängö"],["si","Sinhala","සිංහල"],["sk","Slovak","slovenčina"],["sl","Slovenian","slovenščina"],["sn","Shona","chiShona"],["so","Somali","Soomaaliga"],["sq","Albanian","Shqip"],["sr","Serbian","српски језик"],["ss","Swati","SiSwati"],["st","Southern Sotho","Sesotho"],["su","Sundanese","Basa Sunda"],["sv","Swedish","Svenska"],["sw","Swahili","Kiswahili"],["ta","Tamil","தமிழ்"],["te","Telugu","తెలుగు"],["tg","Tajik","тоҷикӣ"],["th","Thai","ไทย"],["ti","Tigrinya","ትግርኛ"],["tk","Turkmen","Türkmen"],["tl","Tagalog","Wikang Tagalog"],["tn","Tswana","Setswana"],["to","Tonga","faka Tonga"],["tr","Turkish","Türkçe"],["ts","Tsonga","Xitsonga"],["tt","Tatar","татар теле"],["tw","Twi","Twi"],["ty","Tahitian","Reo Tahiti"],["ug","Uyghur","ئۇيغۇرچە‎"],["uk","Ukrainian","Українська"],["ur","Urdu","اردو"],["uz","Uzbek","Ўзбек"],["ve","Venda","Tshivenḓa"],["vi","Vietnamese","Tiếng Việt"],["vo","Volapük","Volapük"],["wa","Walloon","walon"],["wo","Wolof","Wollof"],["xh","Xhosa","isiXhosa"],["yi","Yiddish","ייִדיש"],["yo","Yoruba","Yorùbá"],["za","Zhuang","Saɯ cueŋƅ"],["zh","Chinese","中文"],["zu","Zulu","isiZulu"],["zh-CN","Chinese (China)","简体中文"],["zh-HK","Chinese (Hong Kong)","繁體中文（香港）"],["zh-TW","Chinese (Taiwan)","繁體中文（臺灣）"],["zh-YUE","Cantonese","廣東話"],["ast","Asturian","Asturianu"],["chr","Cherokee","ᏣᎳᎩ ᎦᏬᏂᎯᏍᏗ"],["ckb","Sorani (Kurdish)","سۆرانی"],["cnr","Montenegrin","crnogorski"],["jbo","Lojban","la .lojban."],["kab","Kabyle","Taqbaylit"],["ldn","Láadan","Láadan"],["lfn","Lingua Franca Nova","lingua franca nova"],["sco","Scots","Scots"],["sma","Southern Sami","Åarjelsaemien Gïele"],["smj","Lule Sami","Julevsámegiella"],["szl","Silesian","ślůnsko godka"],["tok","Toki Pona","toki pona"],["xal","Kalmyk","Хальмг келн"],["zba","Balaibalan","باليبلن"],["zgh","Standard Moroccan Tamazight","ⵜⴰⵎⴰⵣⵉⵖⵜ"]],Ui="(((?:[^A-Za-z0-9@＠$#＃\\uFFFE\\uFEFF\\uFFFF]|[\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069]|^))((https?:\\/\\/)((?:(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:[_-]|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)*(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:-|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)(?:(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|招聘|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|llp|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|gay|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|charity|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@+-]|$))|(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ລາວ|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|موريتانيا|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|البحرين|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ευ|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@+-]|$))|(?:xn--[\\-0-9a-z]+))))(?::([0-9]+))?(\\/(?:(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*)*[\\+\\-a-z\\u0400-\\u04FF0-9=_#\\/\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]|(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)))|(?:@[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\/))*)?(\\?[a-z0-9!?\\*'@\\(\\);:&=\\+\\$\\/%#\\[\\]\\-_\\.,~|]*[a-z0-9\\-_&=#\\/])?))",Vi="gi",aa={source:Ui,flags:Vi};function oa(t,n){const a=To(t,n);return{set:(o,r)=>Lo(o,r,a),get:o=>Ao(o,a),getMany:o=>Co(o,a),del:o=>So(o,a),delMany:o=>Fo(o,a),clear:()=>Po(a),keys:()=>Io(a)}}const ia={drafts:oa("drafts-db","drafts-store"),catchup:oa("catchup-db","catchup-store")},qt={public:"earth",unlisted:"group",private:"lock",direct:"message"};function ji({poll:t,lang:n,readOnly:a,refresh:o=()=>{},votePoll:r=()=>{}}){const[s,c]=X("default"),{expired:u,expiresAt:d,id:f,multiple:p,options:m,ownVotes:h,voted:g,votersCount:v,votesCount:b,emojis:k}=t,E=!!d&&new Date(d),w=v||b;let y=0;w<=1e3?y=0:w<=1e4?y=1:w<=1e5&&(y=2);const[L,F]=X(!1),D=m.every(P=>P.votesCount!==null);return e("div",{lang:n,dir:"auto",class:`poll ${a?"read-only":""} ${s==="loading"?"loading":""}`,children:[L&&D||g||u?e(j,{children:[e("div",{class:"poll-options",children:m.map((P,C)=>{const{title:I,votesCount:B}=P,N=w?(B/w*100).toFixed(y):0,q=B>0&&B===Math.max(...m.map(K=>K.votesCount));return e("div",{class:`poll-option poll-result ${q?"poll-option-leading":""}`,style:{"--percentage":`${N}%`},children:[e("div",{class:"poll-option-title",children:[e("span",{children:e(xt,{text:I,emojis:k})}),g&&h.includes(C)&&e(j,{children:[" ",e(T,{icon:"check-circle"})]})]}),e("div",{class:"poll-option-votes",title:`${B} vote${B===1?"":"s"}`,children:[N,"%"]})]},`${C}-${I}-${B}`)})}),!u&&!g&&e("button",{class:"poll-vote-button plain2",disabled:s==="loading",onClick:P=>{P.preventDefault(),F(!1)},children:[e(T,{icon:"arrow-left",size:"s"})," Hide results"]})]}):e("form",{onSubmit:async P=>{P.preventDefault();const C=P.target,I=new FormData(C),B=[];I.forEach((N,q)=>{q==="poll"&&B.push(N)}),B.length&&(c("loading"),await r(B),c("default"))},children:[e("div",{class:"poll-options",children:m.map((P,C)=>{const{title:I}=P;return e("div",{class:"poll-option",children:e("label",{class:"poll-label",children:[e("input",{type:p?"checkbox":"radio",name:"poll",value:C,disabled:s==="loading",readOnly:a}),e("span",{class:"poll-option-title",children:e(xt,{text:I,emojis:k})})]})})})}),!a&&e("button",{class:"poll-vote-button",type:"submit",disabled:s==="loading",children:"Vote"})]}),e("p",{class:"poll-meta",children:[!u&&!a&&e("button",{type:"button",class:"plain small",disabled:s==="loading",style:{marginLeft:-8},onClick:P=>{P.preventDefault(),c("loading"),(async()=>(await o(),c("default")))()},title:"Refresh",children:e(T,{icon:"refresh",alt:"Refresh"})}),!g&&!u&&!a&&D&&e("button",{type:"button",class:"plain small",disabled:s==="loading",onClick:P=>{P.preventDefault(),F(!L)},title:L?"Hide results":"Show results",children:[e(T,{icon:L?"eye-open":"eye-close",alt:L?"Hide results":"Show results"})," "]}),!u&&!a&&" ",e("span",{title:b,children:qe(b)})," vote",b===1?"":"s",!!v&&v!==b&&e(j,{children:[" ","• ",e("span",{title:v,children:qe(v)})," ","voter",v===1?"":"s"]})," ","• ",u?"Ended":"Ending"," ",!!E&&e(Tt,{datetime:E})]})," "]})}const Ba=$o();function Hi(t,n){if(!(t!=null&&t.length))return!1;const a=t.filter(s=>{const{filter:c}=s,u=c.context.includes(n);return u?c.expiresAt?new Date(c.expiresAt)>new Date:u:!1});if(!a.length)return!1;if(a.some(s=>s.filter.filterAction==="hide"))return{action:"hide"};if(a.some(s=>s.filter.filterAction==="warn")){const s=a.map(c=>c.filter.title);return{action:"warn",titles:s,titlesStr:s.join(" • ")}}return!1}const Ln=Ye(Hi);function Ki(t,n,a){var c;const{filtered:o}=t;if(!(o!=null&&o.length)||a&&((c=t.account)==null?void 0:c.id)===a)return!0;const s=Ln(o,n);return s?s.action!=="hide":!0}function zr(t,n){if(!(t!=null&&t.length))return[];if(!n)return t;const a=z.session.get("currentAccount");return t.filter(o=>Ki(o,n,a))}const hn=document.createElement("div");function pn(t){return t?(hn.innerHTML=t,hn.querySelectorAll(".invisible").forEach(n=>{n.remove()}),hn.innerText.length):0}const _t="speechSynthesis"in window;function ra(t,n){if(_t)try{speechSynthesis.speaking&&speechSynthesis.cancel();const a=new SpeechSynthesisUtterance(t);n&&(a.lang=n),speechSynthesis.speak(a)}catch(a){alert(a)}}function Ua(t){const{spoilerText:n,content:a,poll:o,mediaAttachments:r}=t;let s="";return n!=null&&n.trim()?s+=n:s+=xn(a),s=s.trim(),o&&(s+=" 📊"),r!=null&&r.length&&(s+=" "+r.map(c=>({image:"🖼️",gifv:"🎞️",video:"📹",audio:"🎵",unknown:""})[c.type]||"").join("")),s}function jt({className:t="truncated"}={}){const n=Q(),a=ka(({height:o})=>{if(n.current){const{scrollHeight:r}=n.current;let s=r>o;if(s){const{height:c,maxHeight:u}=getComputedStyle(n.current),d=parseInt(u||c,10);s=r>d}n.current.classList.toggle(t,s)}},300);return Ro({ref:n,box:"border-box",onResize:a}),n}const qi=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Gi="ALT",fn=t=>{const{alt:n,lang:a,index:o,...r}=t;return!n||!n.trim()?null:e("button",{type:"button",class:"alt-badge clickable",...r,onClick:s=>{s.stopPropagation(),s.preventDefault(),M.showMediaAlt={alt:n,lang:a}},title:"Media description",children:[Gi,!!o&&e("sup",{children:o})]})},Wi=140,Yi=280,Va=Ye(t=>t!=null&&t.length?t.length>Wi||/[\n\r].*[\n\r]/.test(t.trim()):!1);function Ji({class:t="",media:n,to:a,lang:o,showOriginal:r,autoAnimate:s,showCaption:c,allowLongerCaption:u,altIndex:d,onClick:f=()=>{}}){const{blurhash:p,description:m,meta:h,previewRemoteUrl:g,previewUrl:v,remoteUrl:b,url:k,type:E}=n,{original:w={},small:y,focus:L}=h||{},F=r?w==null?void 0:w.width:y==null?void 0:y.width,D=r?w==null?void 0:w.height:y==null?void 0:y.height,P=r?k:v||k,C=r?b:g||b,I=F>=D?"landscape":"portrait",B=p?wa(p):null,N=Q();let q;if(L){const Z=(L.x+1)/2*100,ne=(1-L.y)/2*100;q=`${Z.toFixed(0)}% ${ne.toFixed(0)}%`}const K=Q(),fe=_n(({x:Z,y:ne,scale:J})=>{const{current:Te}=K;if(Te){const he=Do({x:Z,y:ne,scale:J});J===1?Te.style.removeProperty("transform"):Te.style.setProperty("transform",he),Te.closest(".media-zoom").style.touchAction=J<=1.01?"pan-x":""}},[]),[le,ie]=X(!1),ee={enabled:le,draggableUnZoomed:!1,inertiaFriction:.9,doubleTapZoomOutOnMaxScale:!0,containerProps:{className:"media-zoom",style:{overflow:"visible"}},onUpdate:fe},se=Ee(()=>a?Z=>e(ot,{to:a,...Z}):"div",[a]),me=C?new URL(C):null,A=E==="unknown"&&me&&/\.(mp4|m4r|m4v|mov|webm)$/i.test(me.pathname),re=E==="unknown"&&me&&/\.(mp3|ogg|wav|m4a|m4p|m4b)$/i.test(me.pathname),G=E==="image"||E==="unknown"&&v&&!A&&!re,xe=Q(),[ue,Ne]=X(!1);vn(()=>{if(!G||!r||!xe.current)return;const{offsetWidth:Z,offsetHeight:ne}=xe.current,J=F<Z&&D<ne;J&&Ne(J)},[F,D]);const Pe=window.innerHeight*(I==="portrait"?.45:.33),Ie=I==="portrait"?0:160,Oe={"--average-color":B&&`rgb(${B.join(",")})`},Ce=F&&D?{"--width":`${F}px`,"--height":`${D}px`,"--aspectWidth":`${F/D*Math.max(Ie,Pe)}px`,aspectRatio:`${F} / ${D}`,...Oe}:{...Oe},ye=Va(m);let ae=!!c&&!r&&!!m&&!ye;u&&!ae&&(m==null?void 0:m.length)<=Yi&&(ae=!0);const ce=ae?Z=>{const{children:ne,...J}=Z;return e("figure",{...J,children:[ne,e("figcaption",{class:"media-caption",lang:o,dir:"auto",onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),M.showMediaAlt={alt:m,lang:o}},children:m})]})}:j;if(G)return ee.containerProps.style.display="inherit",vn(()=>{qi&&r&&(async()=>{try{await fetch(P,{mode:"no-cors"}),K.current.src=P}catch{}})()},[P]),e(ce,{children:e(se,{ref:xe,class:`media media-image ${t}`,onClick:f,"data-orientation":I,"data-has-alt":!ae,style:r?{backgroundImage:`url(${v})`,backgroundSize:ue?`${F}px ${D}px`:void 0,...Oe}:Ce,children:r?e(Gn,{...ee,children:e("img",{ref:K,src:P,alt:m,width:F,height:D,"data-orientation":I,loading:"eager",decoding:"sync",onLoad:Z=>{Z.target.closest(".media-image").style.backgroundImage="",Z.target.closest(".media-zoom").style.display="",ie(!0)},onError:Z=>{const{src:ne}=Z.target;ne===P&&P!==C&&(Z.target.src=C)}})}):e(j,{children:[e("img",{src:P,alt:ae?"":m,width:F,height:D,"data-orientation":I,loading:"lazy",style:{objectPosition:q||"center","--anim-duration":`${Math.min(Math.max(Math.max(F,D)/100,5),120)}s`},onLoad:Z=>{Z.target.dataset.loaded=!0},onError:Z=>{const{src:ne}=Z.target;ne===P&&P!==C&&(Z.target.src=C)}}),!ae&&e(fn,{alt:m,lang:o,index:d})]})})});if(E==="gifv"||E==="video"||A){const Z=w.duration<31,ne=E==="gifv"&&Z,J=w.duration<61,Te=la(w.duration),he=!r&&!s&&ne,Le=!r&&s&&ne,_e=w.duration>5,De=`
    <video
      src="${k}"
      poster="${v}"
      width="${F}"
      height="${D}"
      data-orientation="${I}"
      preload="auto"
      autoplay
      muted="${ne}"
      ${ne?"":"controls"}
      playsinline
      loop="${J}"
      ${ne?'ondblclick="this.paused ? this.play() : this.pause()"':""}
      ${ne&&_e?"ontimeupdate=\"this.closest('.media-gif') && this.closest('.media-gif').style.setProperty('--progress', `${~~((this.currentTime / this.duration) * 100)}%`)\"":""}
    ></video>
  `;return e(ce,{children:e(se,{class:`media ${t} media-${ne?"gif":"video"} ${Le?"media-contain":""} ${he?"media-hover-animate":""}`,"data-orientation":I,"data-formatted-duration":r?void 0:Te,"data-label":ne&&!r&&!Le?"GIF":"","data-has-alt":!ae,style:!r&&Ce,onClick:oe=>{if(he)try{N.current.pause()}catch{}f(oe)},onMouseEnter:()=>{if(he)try{N.current.play()}catch{}},onMouseLeave:()=>{if(he)try{N.current.pause()}catch{}},onFocus:()=>{if(he)try{N.current.play()}catch{}},onBlur:()=>{if(he)try{N.current.pause()}catch{}},children:[r||Le?ne&&r?e(Gn,{...ee,enabled:!0,children:e("div",{ref:K,dangerouslySetInnerHTML:{__html:De}})}):e("div",{class:"video-container",dangerouslySetInnerHTML:{__html:De}}):ne?e("video",{ref:N,src:k,poster:v,width:F,height:D,"data-orientation":I,preload:"auto",playsinline:!0,loop:!0,muted:!0,onTimeUpdate:_e?oe=>{const{target:Ae}=oe,x=Ae==null?void 0:Ae.closest(".media-gif");if(x){const S=Ae.currentTime/Ae.duration*100;x.style.setProperty("--progress",`${S}%`)}}:void 0}):e(j,{children:[e("img",{src:v,alt:ae?"":m,width:F,height:D,"data-orientation":I,loading:"lazy"}),e("div",{class:"media-play",children:e(T,{icon:"play",size:"xl"})})]}),!r&&!ae&&e(fn,{alt:m,lang:o,index:d})]})})}else if(E==="audio"||re){const Z=la(w.duration);return e(ce,{children:e(se,{class:`media media-audio ${t}`,"data-formatted-duration":r?void 0:Z,"data-has-alt":!ae,onClick:f,style:!r&&Ce,children:[r?e("audio",{src:b||k,preload:"none",controls:!0,autoplay:!0}):v?e("img",{src:v,alt:ae?"":m,width:F,height:D,"data-orientation":I,loading:"lazy",onError:ne=>{var J,Te;try{(Te=(J=ne.target)==null?void 0:J.remove)==null||Te.call(J)}catch{}}}):null,!r&&e(j,{children:[e("div",{class:"media-play",children:e(T,{icon:"play",size:"xl"})}),!ae&&e(fn,{alt:m,lang:o,index:d})]})]})})}}function sa(t){return e(Mo,{children:({ref:n,closeMenu:a})=>e(ot,{...t,ref:n,onClick:({detail:o})=>a(o===0?"Enter":void 0)})})}const Zi=280,Xi=140;function Qi(t,n){return n.v1.accounts.$select(t).fetch()}const er=Wt(Qi),kt={public:"Public",unlisted:"Unlisted",private:"Followers only",direct:"Private mention"},tr=window.ontouchstart!==void 0&&/iPad|iPhone|iPod/.test(navigator.userAgent),ca=80;function nr(t){var n;return(n=t==null?void 0:t.options)!=null&&n.length?`📊:
${t.options.map(a=>`- ${a.title}${a.votesCount>=0?` (${a.votesCount})`:""}`).join(`
`)}`:""}function gn(t){const{spoilerText:n,content:a,poll:o}=t;return(n?`${n}

`:"")+xn(a)+nr(o)}const ar=At(({post:t,instance:n,previewMode:a})=>{const{content:o,emojis:r,language:s,mentions:c,url:u}=t;return e("div",{lang:s,dir:"auto",class:"inner-content",onClick:Ai({mentions:c,instance:n,previewMode:a,statusURL:u}),dangerouslySetInnerHTML:{__html:Ma(o,{emojis:r,postEnhanceDOM:d=>{d.querySelectorAll('a.u-url[target="_blank"]').forEach(f=>{/http/i.test(f.innerText.trim())||f.removeAttribute("target")})}})}})},(t,n)=>{const{post:a}=t,{post:o}=n;return a.content===o.content});function Xe({statusID:t,status:n,instance:a,size:o="m",contentTextWeight:r,readOnly:s,enableCommentHint:c,withinContext:u,skeleton:d,enableTranslate:f,forceTranslate:p,previewMode:m,onMediaClick:h,quoted:g,onStatusLinkClick:v=()=>{},showFollowedTags:b,allowContextMenu:k,showActionsBar:E,showReplyParent:w}){var jn,Hn,Kn;if(d)return e("div",{class:"status skeleton",children:[e(We,{size:"xxl"}),e("div",{class:"container",children:[e("div",{class:"meta",children:"███ ████████"}),e("div",{class:"content-container",children:e("div",{class:"content",children:e("p",{children:"████ ████████"})})})]})]});const{masto:y,instance:L,authenticated:F}=Ge({instance:a}),{instance:D}=Ge(),P=L===D;let C=$e(t||(n==null?void 0:n.id),L);const I=it(M);if(n||(n=I.statuses[C]||I.statuses[t],C=$e(n==null?void 0:n.id,L)),!n)return null;const{account:{acct:B,avatar:N,avatarStatic:q,id:K,url:fe,displayName:le,username:ie,emojis:ee,bot:se,group:me},id:A,repliesCount:re,reblogged:G,reblogsCount:xe,favourited:ue,favouritesCount:Ne,bookmarked:Pe,poll:Ie,muted:Oe,sensitive:Ce,spoilerText:ye,visibility:ae,language:ce,editedAt:Z,filtered:ne,card:J,createdAt:Te,inReplyToId:he,inReplyToAccountId:Le,content:_e,mentions:De,mediaAttachments:oe,reblog:Ae,uri:x,url:S,emojis:O,tags:$,_deleted:W,_pinned:V}=n,U=Ee(()=>z.session.get("currentAccount"),[]),H=Ee(()=>U&&U===K,[K,U]),pe=Ea(Ba),ke=!H&&!s&&!m&&Ln(ne,pe);if((ke==null?void 0:ke.action)==="hide")return null;const ze=l=>{l.shiftKey};if(o!=="l"&&ke)return e(lr,{status:n,filterInfo:ke,instance:L,containerProps:{onMouseEnter:ze},showFollowedTags:!0});const Se=new Date(Te),Je=new Date(Z);let rt=De==null?void 0:De.find(l=>l.id===Le);!rt&&Le===A&&(rt={url:fe,username:ie,displayName:le});const[Qe,Ct]=X(rt);if(!u&&!Qe&&Le){const l=M.accounts[Le];l?Ct(l):er(Le,y).then(R=>{Ct(R),M.accounts[R.id]=R}).catch(R=>{})}const et=Le===U||(De==null?void 0:De.find(l=>l.id===U)),st=Ee(()=>!!(z.account.get("preferences")||{})["reading:expand:spoilers"],[]),An=Ee(()=>(z.account.get("preferences")||{})["reading:expand:media"]||"default",[]),ct=m||st||!!I.spoilers[A],lt=m||An==="show_all"||!!I.spoilersMedia[A];if(Ae)return me?e("div",{"data-state-post-id":C,class:"status-group",onMouseEnter:ze,children:[e("div",{class:"status-pre-meta",children:[e(T,{icon:"group",size:"l",alt:"Group"})," ",e(yt,{account:n.account,instance:L,showAvatar:!0})]}),e(Xe,{status:t?null:Ae,statusID:t?Ae.id:null,instance:L,size:o,contentTextWeight:r,readOnly:s})]}):e("div",{"data-state-post-id":C,class:"status-reblog",onMouseEnter:ze,children:[e("div",{class:"status-pre-meta",children:[e(T,{icon:"rocket",size:"l"})," ",e(yt,{account:n.account,instance:L,showAvatar:!0})," ",e("span",{children:"boosted"})]}),e(Xe,{status:t?null:Ae,statusID:t?Ae.id:null,instance:L,size:o,contentTextWeight:r,readOnly:s,enableCommentHint:!0})]});if(b&&((jn=I.statusFollowedTags[C])!=null&&jn.length))return e("div",{"data-state-post-id":C,class:"status-followed-tags",onMouseEnter:ze,children:[e("div",{class:"status-pre-meta",children:[e(T,{icon:"hashtag",size:"l"})," ",I.statusFollowedTags[C].slice(0,3).map(l=>e(ot,{to:L?`/${L}/t/${l}`:`/t/${l}`,class:"status-followed-tag-item",children:l},l))]}),e(Xe,{status:t?null:n,statusID:t?n.id:null,instance:L,size:o,contentTextWeight:r,readOnly:s,enableCommentHint:!0})]});const ve=o==="l",[Zt,Ka]=X(p),Cn=Da(!0),qa=I.settings.contentTranslationHideLanguages||[],{contentTranslation:Xt,contentTranslationAutoInline:Sn}=I.settings;Xt||(f=!1);const Fn=Ee(()=>{if(!Xt||!Sn||s||u&&!ve||m||ye||Ce||Ie||J||oe!=null&&oe.length)return!1;const l=pn(_e);return l>0&&l<=Xi},[Xt,Sn,s,u,ve,m,ye,Ce,Ie,J,oe,_e]),[Qt,St]=X(!1),Ga=jt(),Wa=jt(),Ya=jt(),Pn="Read more →",tt=Q(null),ut="Sorry, your current logged-in instance can't interact with this post from another instance.",In=_n(()=>Math.max(Math.round((ye.length+pn(_e))/140)||1,1),[ye,_e]),$n=Lt(Se),Rn=Z&&Lt(Je);let dt=F&&ae!=="direct"&&ae!=="private";ae==="private"&&H&&(dt=!0);const Ft=l=>{var R;if(!P||!F)return alert(ut);(l!=null&&l.shiftKey||(R=l==null?void 0:l.syntheticEvent)!=null&&R.shiftKey)&&Sa({replyToStatus:n})||(M.showCompose={replyToStatus:n})},en=Ee(()=>oe.some(l=>{var R,Y;return!((Y=(R=l.description)==null?void 0:R.trim)!=null&&Y.call(R))}),[oe]),Ir=async()=>{if(!P||!F)return alert(ut),!1;try{if(!G){let l="Boost this post?";if(en&&(l+=`

⚠️ Some media have no descriptions.`),!confirm(l))return!1}if(M.statuses[C]={...n,reblogged:!G,reblogsCount:xe+(G?-1:1)},G){const l=await y.v1.statuses.$select(A).unreblog();return Me(l,L),!0}else{const l=await y.v1.statuses.$select(A).reblog();return Me(l,L),!0}}catch{return M.statuses[C]=n,!1}},tn=async()=>{if(!P||!F)return alert(ut),!1;try{if(M.statuses[C]={...n,reblogged:!G,reblogsCount:xe+(G?-1:1)},G){const l=await y.v1.statuses.$select(A).unreblog();Me(l,L)}else{const l=await y.v1.statuses.$select(A).reblog();Me(l,L)}return!0}catch{return M.statuses[C]=n,!1}},Dn=async()=>{if(!P||!F)return alert(ut),!1;try{if(M.statuses[C]={...n,favourited:!ue,favouritesCount:Ne+(ue?-1:1)},ue){const l=await y.v1.statuses.$select(A).unfavourite();Me(l,L)}else{const l=await y.v1.statuses.$select(A).favourite();Me(l,L)}return!0}catch{return M.statuses[C]=n,!1}},nn=async()=>{try{const l=await Dn();!ve&&l&&Fe(ue?`Unliked @${ie||B}'s post`:`Liked @${ie||B}'s post`)}catch{}},Mn=async()=>{if(!P||!F)return alert(ut),!1;try{if(M.statuses[C]={...n,bookmarked:!Pe},Pe){const l=await y.v1.statuses.$select(A).unbookmark();Me(l,L)}else{const l=await y.v1.statuses.$select(A).bookmark();Me(l,L)}return!0}catch{return M.statuses[C]=n,!1}},Nn=async()=>{try{const l=await Mn();!ve&&l&&Fe(Pe?`Unbookmarked @${ie||B}'s post`:`Bookmarked @${ie||B}'s post`)}catch{}},Pt=!!ce&&ce!==Cn&&!Kt([ce],[Cn])&&!qa.find(l=>ce===l||Kt([ce],[l])),On=Q(),zn=Q();async function Ja(l){var de,Be,zt,qn;l&&(On.current=y.v1.statuses.$select(t).rebloggedBy.list({limit:ca}),zn.current=y.v1.statuses.$select(t).favouritedBy.list({limit:ca}));const[{value:R},{value:Y}]=await Promise.allSettled([On.current.next(),zn.current.next()]);if((de=R.value)!=null&&de.length||(Be=Y.value)!=null&&Be.length){const an=[];return(zt=R.value)!=null&&zt.length&&an.push(...R.value.map(pt=>(pt._types=["reblog"],pt))),(qn=Y.value)!=null&&qn.length&&an.push(...Y.value.map(pt=>(pt._types=["favourite"],pt))),{value:an,done:R.done&&Y.done}}return{value:[],done:!0}}const Za=Q(),Bn=e(j,{children:[ve&&e(j,{children:e(we,{onClick:()=>{M.showGenericAccounts={heading:"Boosted/Liked by…",fetchAccounts:Ja,instance:L,showReactions:!0}},children:[e(T,{icon:"react"}),e("span",{children:["Boosted/Liked by",e("span",{class:"more-insignificant",children:"…"})]})]})}),!ve&&P&&e(j,{children:e("div",{class:"menu-control-group-horizontal status-menu",children:[e(we,{onClick:Ft,children:[e(T,{icon:"comment"}),e("span",{children:re>0?qe(re):"Reply"})]}),e(sn,{subMenu:!0,confirmLabel:e(j,{children:[e(T,{icon:"rocket"}),e("span",{children:G?"Unboost?":"Boost to everyone?"})]}),className:`menu-reblog ${G?"checked":""}`,menuFooter:en&&!G&&e("div",{class:"footer",children:[e(T,{icon:"alert"}),"Some media have no descriptions."]}),disabled:!dt,onClick:async()=>{try{const l=await tn();!ve&&l&&Fe(G?`Unboosted @${ie||B}'s post`:`Boosted @${ie||B}'s post`)}catch{}},children:[e(T,{icon:"rocket"}),e("span",{children:xe>0?qe(xe):G?"Unboost":"Boost…"})]}),e(we,{onClick:nn,className:`menu-favourite ${ue?"checked":""}`,children:[e(T,{icon:"heart"}),e("span",{children:Ne>0?qe(Ne):ue?"Unlike":"Like"})]}),e(we,{onClick:Nn,className:`menu-bookmark ${Pe?"checked":""}`,children:[e(T,{icon:"bookmark"}),e("span",{children:Pe?"Unbookmark":"Bookmark"})]})]})}),(f||!ce||Pt)&&e(ft,{}),f?e("div",{class:_t?"menu-horizontal":"",children:[e(we,{disabled:Zt,onClick:()=>{Ka(!0)},children:[e(T,{icon:"translate"}),e("span",{children:"Translate"})]}),_t&&e(we,{onClick:()=>{const l=gn(n);l&&ra(l,ce)},children:[e(T,{icon:"speak"}),e("span",{children:"Speak"})]})]}):(!ce||Pt)&&e("div",{class:_t?"menu-horizontal":"",children:[e(sa,{to:`${L?`/${L}`:""}/s/${A}?translate=1`,children:[e(T,{icon:"translate"}),e("span",{children:"Translate"})]}),_t&&e(we,{onClick:()=>{const l=gn(n);l&&ra(l,ce)},children:[e(T,{icon:"speak"}),e("span",{children:"Speak"})]})]}),!ve||(f||!ce||Pt)&&e(ft,{}),!ve&&e(j,{children:[e(ft,{}),e(sa,{to:L?`/${L}/s/${A}`:`/s/${A}`,onClick:l=>{v(l,n)},children:[e(T,{icon:"arrows-right"}),e("small",{children:["View post by @",ie||B,e("br",{}),e("span",{class:"more-insignificant",children:[kt[ae]," • ",$n]})]})]})]}),!!Z&&e(j,{children:e(we,{onClick:()=>{St(A)},children:[e(T,{icon:"history"}),e("small",{children:["Show Edit History",e("br",{}),e("span",{class:"more-insignificant",children:["Edited: ",Rn]})]})]})}),e(we,{href:S,target:"_blank",children:[e(T,{icon:"external"}),e("small",{class:"menu-double-lines",children:sr(S)})]}),e("div",{class:"menu-horizontal",children:[e(we,{onClick:()=>{try{navigator.clipboard.writeText(S),Fe("Link copied")}catch{Fe("Unable to copy link")}},children:[e(T,{icon:"link"}),e("span",{children:"Copy"})]}),(navigator==null?void 0:navigator.share)&&((Hn=navigator==null?void 0:navigator.canShare)==null?void 0:Hn.call(navigator,{url:S}))&&e(we,{onClick:()=>{try{navigator.share({url:S})}catch{alert("Sharing doesn't seem to work.")}},children:[e(T,{icon:"share"}),e("span",{children:"Share…"})]})]}),(H||et)&&e(ft,{}),(H||et)&&e(we,{onClick:async()=>{try{const l=await y.v1.statuses.$select(A)[Oe?"unmute":"mute"]();Me(l,L),Fe(Oe?"Conversation unmuted":"Conversation muted")}catch{Fe(Oe?"Unable to unmute conversation":"Unable to mute conversation")}},children:Oe?e(j,{children:[e(T,{icon:"unmute"}),e("span",{children:"Unmute conversation"})]}):e(j,{children:[e(T,{icon:"mute"}),e("span",{children:"Mute conversation"})]})}),H&&/(public|unlisted|private)/i.test(ae)&&e(we,{onClick:async()=>{try{const l=await y.v1.statuses.$select(A)[V?"unpin":"pin"]();Fe(V?"Post unpinned from profile":"Post pinned to profile")}catch{Fe(V?"Unable to unpin post":"Unable to pin post")}},children:V?e(j,{children:[e(T,{icon:"unpin"}),e("span",{children:"Unpin from profile"})]}):e(j,{children:[e(T,{icon:"pin"}),e("span",{children:"Pin to profile"})]})}),H&&e("div",{class:"menu-horizontal",children:[e(we,{onClick:()=>{M.showCompose={editStatus:n}},children:[e(T,{icon:"pencil"}),e("span",{children:"Edit"})]}),ve&&e(sn,{subMenu:!0,confirmLabel:e(j,{children:[e(T,{icon:"trash"}),e("span",{children:"Delete this post?"})]}),menuItemClassName:"danger",onClick:()=>{(async()=>{try{await y.v1.statuses.$select(A).remove();const l=kn(A,L);l._deleted=!0,Fe("Deleted")}catch{Fe("Unable to delete")}})()},children:[e(T,{icon:"trash"}),e("span",{children:"Delete…"})]})]}),!H&&ve&&e(j,{children:[e(ft,{}),e(we,{className:"danger",onClick:()=>{M.showReportModal={account:n.account,post:n}},children:[e(T,{icon:"flag"}),e("span",{children:"Report post…"})]})]})]}),Un=Q(),[It,mt]=X(!1),[$t,Rt]=X({}),Dt=k||!ve&&!m&&!W&&!g,Xa=xa(tr&&Dt?l=>{var Be;if(l.pointerType==="mouse")return;const{clientX:R,clientY:Y}=((Be=l.touches)==null?void 0:Be[0])||l,de=l.target.closest("a");de&&tt.current.contains(de)||(l.preventDefault(),Rt({anchorPoint:{x:R,y:Y},direction:"right"}),mt(!0))}:null,{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),Mt=!s&&!m&&!g,Qa=je("r, shift+r",Ft,{enabled:Mt}),eo=je("f, l",nn,{enabled:Mt}),to=je("d",Nn,{enabled:Mt}),no=je("shift+b",()=>{(async()=>{try{const l=await tn();!ve&&l&&Fe(G?`Unboosted @${ie||B}'s post`:`Boosted @${ie||B}'s post`)}catch{}})()},{enabled:Mt&&dt}),ao=je("x",l=>{const R=document.activeElement.closest(".status-link, .status-focus");if(R){const Y=R.querySelector(".spoiler-button:not(.spoiling)");if(Y)l.stopPropagation(),Y.click();else{const de=R.querySelector(".spoiler-media-button:not(.spoiling)");de&&(l.stopPropagation(),de.click())}}}),Nt=oe.slice(0,ve?void 0:4),Ot=oe.length>1&&Nt.some(l=>!!l.description&&!Va(l.description)),oo=Ee(()=>{if(!Ot)return null;const l=[];return Nt.forEach((R,Y)=>{if(!R.description)return;const de=l.findIndex(Be=>Be.media.description===R.description);de===-1?l.push({media:R,indices:[Y]}):l[de].indices.push(Y)}),l.map(({media:R,indices:Y})=>e("div",{"data-caption-index":Y.map(de=>de+1).join(" "),onClick:de=>{de.preventDefault(),de.stopPropagation(),M.showMediaAlt={alt:R.description,lang:ce}},title:R.description,children:[e("sup",{children:Y.map(de=>de+1).join(" ")})," ",R.description]},R.id))},[Ot,Nt,ce]),ht=Ee(()=>{var l;return!!he&&Le===((l=n.account)==null?void 0:l.id)||!!I.statusThreadNumber[C]},[he,Le,(Kn=n.account)==null?void 0:Kn.id,I.statusThreadNumber[C]]),io=Ee(()=>c&&!ht&&!u&&!he&&ae==="public"&&re>0,[c,ht,u,he,re,ae]),Vn=Ee(()=>{if(J||Ie||Ce||ye||oe!=null&&oe.length||ht||u||he||re<=0||!/[??？︖❓❔⁇⁈⁉¿‽؟]/.test(_e))return!1;const Y=pn(_e);if(Y>0&&Y<=Zi)return!0},[J,Ie,Ce,ye,oe,Ae,ht,u,he,re,_e]);return e(j,{children:[w&&!!(he&&Le)&&e(cr,{sKey:C}),e("article",{"data-state-post-id":C,ref:l=>{var Y;tt.current=l;const R=((Y=l==null?void 0:l.closest)==null?void 0:Y.call(l,".timeline-item, .timeline-item-alt, .status-link, .status-focus"))||l;Qa.current=R,eo.current=R,to.current=R,no.current=R,ao.current=R},tabindex:"-1",class:`status ${!u&&he&&Qe?"status-reply-to":""} visibility-${ae} ${V?"status-pinned":""} ${{s:"small",m:"medium",l:"large"}[o]} ${W?"status-deleted":""} ${g?"status-card":""} ${It?"status-menu-open":""}`,onMouseEnter:ze,onContextMenu:l=>{var de,Be;if(!Dt||l.metaKey)return;const R=l.target.closest("a");if(R&&tt.current.contains(R))return;const Y=(de=window.getSelection)==null?void 0:de.call(window);if(Y.toString().length>0){const{anchorNode:zt}=Y;if((Be=tt.current)!=null&&Be.contains(zt))return}l.preventDefault(),Rt({anchorPoint:{x:l.clientX,y:l.clientY},direction:"right"}),mt(!0)},...Dt?Xa():{},children:[Dt&&e(No,{ref:Un,state:It?"open":void 0,...$t,onClose:l=>{var R,Y,de;mt(!1),(l==null?void 0:l.reason)==="click"&&((de=(Y=(R=tt.current)==null?void 0:R.closest("[tabindex]"))==null?void 0:Y.focus)==null||de.call(Y))},portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:()=>{var l,R;(R=(l=Un.current)==null?void 0:l.closeMenu)==null||R.call(l)}},overflow:"auto",boundingBoxPadding:Ra(),unmountOnClose:!0,children:Bn}),E&&o!=="l"&&!m&&!s&&!W&&!g&&e("div",{class:`status-actions ${It==="actions-bar"?"open":""}`,ref:Za,children:[e(at,{size:"s",title:"Reply",alt:"Reply",class:"reply-button",icon:"comment",iconSize:"m",onClick:Ft}),e(at,{size:"s",checked:ue,title:["Like","Unlike"],alt:["Like","Liked"],class:"favourite-button",icon:"heart",iconSize:"m",count:Ne,onClick:nn}),e("button",{type:"button",title:"More",class:"plain more-button",onClick:l=>{l.preventDefault(),l.stopPropagation(),Rt({anchorRef:{current:l.currentTarget},align:"start",direction:"left",gap:0,shift:-8}),mt("actions-bar")},children:e(T,{icon:"more2",size:"m",alt:"More"})})]}),o!=="l"&&e("div",{class:"status-badge",children:[G&&e(T,{class:"reblog",icon:"rocket",size:"s"}),ue&&e(T,{class:"favourite",icon:"heart",size:"s"}),Pe&&e(T,{class:"bookmark",icon:"bookmark",size:"s"}),V&&e(T,{class:"pin",icon:"pin",size:"s"})]}),o!=="s"&&e("a",{href:fe,tabindex:"-1",title:`@${B}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),M.showAccount={account:n.account,instance:L}},children:e(We,{url:q||N,size:"xxl",squircle:se})}),e("div",{class:"container",children:[e("div",{class:"meta",children:[e("span",{class:"meta-name",children:e(yt,{account:n.account,instance:L,showAvatar:o==="s",showAcct:ve})})," ",o!=="l"&&(W?e("span",{class:"status-deleted-tag",children:"Deleted"}):S&&!m&&!s&&!g?e(ot,{to:L?`/${L}/s/${A}`:`/s/${A}`,onClick:l=>{l.metaKey||l.ctrlKey||l.shiftKey||l.altKey||l.which===2||(l.preventDefault(),l.stopPropagation(),v==null||v(l,n),Rt({anchorRef:{current:l.currentTarget},align:"end",direction:"bottom",gap:4}),mt(!0))},class:`time ${It&&($t!=null&&$t.anchorRef)?"is-open":""}`,children:[io&&!Vn?e(T,{icon:"comment2",size:"s",alt:`${re} ${re===1?"reply":"replies"}`}):e(T,{icon:qt[ae],alt:kt[ae],size:"s"})," ",e(Tt,{datetime:Se,format:"micro"}),!m&&!s&&e(T,{icon:"more2",class:"more"})]}):e("span",{class:"time",children:[e(T,{icon:qt[ae],alt:kt[ae],size:"s"})," ",e(Tt,{datetime:Se,format:"micro"})]}))]}),ae==="direct"&&e(j,{children:[e("div",{class:"status-direct-badge",children:"Private mention"})," "]}),!u&&e(j,{children:ht?e("div",{class:"status-thread-badge",children:[e(T,{icon:"thread",size:"s"}),"Thread",I.statusThreadNumber[C]?` ${I.statusThreadNumber[C]}/X`:""]}):!!he&&!!Qe&&(!!ye||!De.find(l=>l.id===Le))&&e("div",{class:"status-reply-badge",children:[e(T,{icon:"reply"})," ",e(yt,{account:Qe,instance:L,short:!0})]})}),e("div",{class:`content-container ${ye||Ce?"has-spoiler":""} ${ct?"show-spoiler":""} ${lt?"show-media":""}`,"data-content-text-weight":r?In():null,style:(ve||r)&&{"--content-text-weight":In()},children:[!!ye&&e(j,{children:[e("div",{class:"content spoiler-content",lang:ce,dir:"auto",ref:Ga,"data-read-more":Pn,children:e("p",{children:e(xt,{text:ye,emojis:O})})}),st||m?e("div",{class:"spoiler-divider",children:[e(T,{icon:"eye-open"})," Content warning"]}):e("button",{class:`light spoiler-button ${ct?"spoiling":""}`,type:"button",onClick:l=>{l.preventDefault(),l.stopPropagation(),ct?(delete M.spoilers[A],st||delete M.spoilersMedia[A]):(M.spoilers[A]=!0,st||(M.spoilersMedia[A]=!0))},children:[e(T,{icon:ct?"eye-open":"eye-close"})," ",ct?"Show less":"Show content"]})]}),!!_e&&e("div",{class:"content",ref:Wa,"data-read-more":Pn,children:[e(ar,{post:n,instance:L,previewMode:m}),e(ur,{id:A,instance:L,level:g})]}),!!Ie&&e(ji,{lang:ce,poll:Ie,readOnly:s||!P||!F,onUpdate:l=>{M.statuses[C].poll=l},refresh:()=>y.v1.polls.$select(Ie.id).fetch().then(l=>{M.statuses[C].poll=l}).catch(l=>{}),votePoll:l=>y.v1.polls.$select(Ie.id).votes.create({choices:l}).then(R=>{M.statuses[C].poll=R}).catch(R=>{})}),((f||Fn)&&!!_e.trim()&&!!xn(En(_e,O))&&Pt||Zt)&&e(Bi,{forceTranslate:Zt||Fn,mini:!ve&&!u,sourceLanguage:ce,text:gn(n)}),!m&&Ce&&!!oe.length&&An!=="show_all"&&e("button",{class:`plain spoiler-media-button ${lt?"spoiling":""}`,type:"button",hidden:!st&&!!ye,onClick:l=>{l.preventDefault(),l.stopPropagation(),lt?delete M.spoilersMedia[A]:M.spoilersMedia[A]=!0},children:[e(T,{icon:lt?"eye-open":"eye-close"})," ",lt?"Show less":"Show media"]}),!!oe.length&&e(or,{lang:ce,enabled:Ot,captionChildren:oo,children:e("div",{ref:Ya,class:`media-container media-eq${oe.length} ${oe.length>2?"media-gt2":""} ${oe.length>4?"media-gt4":""}`,children:Nt.map((l,R)=>e(Ji,{media:l,autoAnimate:ve,showCaption:oe.length===1,allowLongerCaption:!_e,lang:ce,altIndex:Ot&&!!l.description&&R+1,to:`/${L}/s/${A}?${u?"media":"media-only"}=${R+1}`,onClick:h?Y=>{h(Y,R,l,n)}:void 0},l.id))})}),!!J&&/^https/i.test(J==null?void 0:J.url)&&!Ce&&!ye&&!Ie&&!oe.length&&!I.statusQuotes[C]&&e(ir,{card:J,selfReferential:(J==null?void 0:J.url)===n.url||(J==null?void 0:J.url)===n.uri,instance:D})]}),!ve&&Vn&&e("div",{class:"content-comment-hint insignificant",children:[e(T,{icon:"comment2",alt:"Replies"})," ",re]}),ve&&e(j,{children:[e("div",{class:"extra-meta",children:W?e("span",{class:"status-deleted-tag",children:"Deleted"}):e(j,{children:[e("span",{children:kt[ae]})," •"," ",e("a",{href:S,target:"_blank",rel:"noopener noreferrer",children:e("time",{class:"created",datetime:Se.toISOString(),title:Se.toLocaleString(),children:$n})}),Z&&e(j,{children:[" ","• ",e(T,{icon:"pencil",alt:"Edited"})," ",e("time",{tabIndex:"0",class:"edited",datetime:Je.toISOString(),onClick:()=>{St(A)},children:Rn})]})]})}),e("div",{class:`actions ${W?"disabled":""}`,children:[e("div",{class:"action has-count",children:e(at,{title:"Reply",alt:"Comments",class:"reply-button",icon:"comment",count:re,onClick:Ft})}),e(sn,{disabled:!dt,onClick:tn,confirmLabel:e(j,{children:[e(T,{icon:"rocket"}),e("span",{children:G?"Unboost?":"Boost to everyone?"})]}),menuFooter:en&&!G&&e("div",{class:"footer",children:[e(T,{icon:"alert"}),"Some media have no descriptions."]}),children:e("div",{class:"action has-count",children:e(at,{checked:G,title:["Boost","Unboost"],alt:["Boost","Boosted"],class:"reblog-button",icon:"rocket",count:xe,disabled:!dt})})}),e("div",{class:"action has-count",children:e(at,{checked:ue,title:["Like","Unlike"],alt:["Like","Liked"],class:"favourite-button",icon:"heart",count:Ne,onClick:Dn})}),e("div",{class:"action",children:e(at,{checked:Pe,title:["Bookmark","Unbookmark"],alt:["Bookmark","Bookmarked"],class:"bookmark-button",icon:"bookmark",onClick:Mn})}),e(wn,{portal:{target:document.querySelector(".status-deck")||document.body},align:"end",gap:4,overflow:"auto",viewScroll:"close",menuButton:e("div",{class:"action",children:e("button",{type:"button",title:"More",class:"plain more-button",children:e(T,{icon:"more",size:"l",alt:"More"})})}),children:Bn})]})]})]}),!!Qt&&e(Yt,{class:"light",onClick:l=>{l.target===l.currentTarget&&St(!1)},children:e(rr,{statusID:Qt,instance:L,fetchStatusHistory:()=>y.v1.statuses.$select(Qt).history.list(),onClose:()=>{var l;St(!1),(l=tt.current)==null||l.focus()}})})]})]})}function or(t){const{enabled:n,children:a,lang:o,captionChildren:r}=t;return!n||!r?a:e("figure",{class:"media-figure-multiple",children:[a,e("figcaption",{lang:o,dir:"auto",children:r})]})}function ir({card:t,selfReferential:n,instance:a}){var q;const o=it(M),{blurhash:r,title:s,description:c,html:u,providerName:d,providerUrl:f,authorName:p,authorUrl:m,width:h,height:g,image:v,imageDescription:b,url:k,type:E,embedUrl:w,language:y,publishedAt:L}=t,F=s||d||p,P=h/g>=1.2?"large":"",[C,I]=X(null);if(ge(()=>{F&&v&&!n&&Aa(k)&&Ca(a,k).then(K=>{if(!K)return;const{id:fe,url:le}=K;I("#"+le)})},[F,v,n]),o.unfurledLinks[k])return null;const B=/<iframe/i.test(u),N=_n(K=>{B&&(K.preventDefault(),M.showEmbedModal={html:u,url:k||w,width:h,height:g})},[B]);if(F&&(v||E==="photo"&&r)){const K=new URL(k).hostname.replace(/^www\./,"").replace(/\/$/,"");let fe;const le=v&&r?wa(r):null;if(!v){const se=Oo(r,44,44),me=document.createElement("canvas");me.width=44,me.height=44;const A=me.getContext("2d"),re=A.createImageData(44,44);re.data.set(se),A.putImageData(re,0,0),fe=me.toDataURL()}return e("a",{href:C||k,target:C?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${fe?"":P}`,lang:y,dir:"auto",style:{"--average-color":le&&`rgb(${le.join(",")})`},onClick:N,children:[e("div",{class:"card-image",children:e("img",{src:v||fe,width:h,height:g,loading:"lazy",alt:b||"",onError:ie=>{try{ie.target.style.display="none"}catch{}}})}),e("div",{class:"meta-container",children:[e("p",{class:"meta domain",dir:"auto",children:K}),e("p",{class:"title",dir:"auto",children:s}),e("p",{class:"meta",dir:"auto",children:c||!!L&&e(Tt,{datetime:L,format:"micro"})})]})]})}else{if(E==="photo")return e("a",{href:k,target:"_blank",rel:"nofollow noopener noreferrer",class:"card photo",onClick:N,children:e("img",{src:w,width:h,height:g,alt:s||c,loading:"lazy",style:{height:"auto",aspectRatio:`${h}/${g}`}})});if(E==="video"&&/youtube/i.test(d)){const K=(q=k.match(/watch\?v=([^&]+)/))==null?void 0:q[1];if(K)return e("lite-youtube",{videoid:K,nocookie:!0})}if(F&&!v){const K=new URL(k).hostname.replace(/^www\./,"");return e("a",{href:C||k,target:C?null:"_blank",rel:"nofollow noopener noreferrer",class:"card link no-image",lang:y,onClick:N,children:e("div",{class:"meta-container",children:[e("p",{class:"meta domain",children:[e(T,{icon:"link",size:"s"})," ",e("span",{children:K})]}),e("p",{class:"title",children:s}),e("p",{class:"meta",children:c||d||p})]})})}}}function rr({statusID:t,instance:n,fetchStatusHistory:a=()=>{},onClose:o}){const[r,s]=X("default"),[c,u]=X([]);return ge(()=>{s("loading"),(async()=>{try{const d=await a();u(d),s("default")}catch{s("error")}})()},[]),e("div",{id:"edit-history",class:"sheet",children:[!!o&&e("button",{type:"button",class:"sheet-close",onClick:o,children:e(T,{icon:"x"})}),e("header",{children:[e("h2",{children:"Edit History"}),r==="error"&&e("p",{children:"Failed to load history"}),r==="loading"&&e("p",{children:[e(Jt,{abrupt:!0})," Loading…"]})]}),e("main",{tabIndex:"-1",children:c.length>0&&e("ol",{children:c.map(d=>{const{createdAt:f}=d,p=new Date(f);return e("li",{class:"history-item",children:[e("h3",{children:e("time",{children:Lt(p,{formatOpts:{weekday:"short",second:"numeric"}})})}),e(Xe,{status:d,instance:n,size:"s",withinContext:!0,readOnly:!0,previewMode:!0})]},f)})})})]})}function at({checked:t,count:n,class:a,title:o,alt:r,size:s,icon:c,iconSize:u="l",onClick:d,...f}){typeof o=="string"&&(o=[o,o]),typeof r=="string"&&(r=[r,r]);const[p,m]=X(o[0]||""),[h,g]=X(r[0]||"");return ge(()=>{t?(m(o[1]||""),g(r[1]||"")):(m(o[0]||""),g(r[0]||""))},[t,o,r]),e("button",{type:"button",title:p,class:`plain ${s?"small":""} ${a} ${t?"checked":""}`,onClick:v=>{d&&(v.preventDefault(),v.stopPropagation(),d(v))},...f,children:[e(T,{icon:c,size:u,alt:h}),!!n&&e(j,{children:[" ",e("small",{title:n,children:qe(n)})]})]})}function la(t){if(!t)return;let n=Math.floor(t/3600),a=Math.floor(t%3600/60),o=Math.round(t%60);return n===0?`${a}:${o.toString().padStart(2,"0")}`:`${n}:${a.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}function sr(t){if(!t)return;const n=new URL(t),{host:a,pathname:o}=n,r=o.replace(/\/$/,""),[s,c,u]=r.match(/\/(@[^\/]+)\/(.*)/)||[];return e(j,{children:[a,c?e(j,{children:["/",c,e("wbr",{}),e("span",{class:"more-insignificant",children:["/",u]})]}):e("span",{class:"more-insignificant",children:r})]})}function cr({sKey:t}){const a=it(M).statusReply[t];if(!a)return null;const{id:o,instance:r}=a,s=kn(o,r);if(!s)return null;const{sensitive:c,spoilerText:u,account:{avatar:d,avatarStatic:f,bot:p},visibility:m,content:h,language:g,filtered:v}=s;if(c||u||!h)return null;const b=$e(o,r),k=Ua(s),E=Ea(Ba),w=Ln(v,E);if((w==null?void 0:w.action)==="hide")return null;const y=(w==null?void 0:w.titlesStr)||"";return e("article",{class:`status compact-reply ${m==="direct"?"visibility-direct":""}`,tabindex:"-1","data-state-post-id":b,children:[e(We,{url:f||d,squircle:p}),e("div",{class:"content-compact",title:k,lang:g,dir:"auto",children:w?e("b",{class:"status-filtered-badge badge-meta",title:y,children:[e("span",{children:"Filtered"}),e("span",{children:y})]}):e("span",{children:k})})]})}function lr({status:t,filterInfo:n,instance:a,containerProps:o={},showFollowedTags:r}){var N;const s=it(M),{id:c,account:{avatar:u,avatarStatic:d,bot:f,group:p},createdAt:m,visibility:h,reblog:g}=t,v=!!g,b=(n==null?void 0:n.titlesStr)||"",k=new Date(m),E=Ua(t.reblog||t),[w,y]=X(!1),L=xa(()=>{y(!0)},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:2}),F=jt(),D=$e(t.id,a),P=$e(t.id,a)+" "+($e(g==null?void 0:g.id,a)||""),C=(g==null?void 0:g.id)||c,I=a?`/${a}/s/${C}`:`/s/${C}`,B=r&&!!((N=s.statusFollowedTags[D])!=null&&N.length);return e("div",{class:v?p?"status-group":"status-reblog":B?"status-followed-tags":"",...o,onContextMenu:q=>{q.preventDefault(),y(!0)},...L(),children:[e("article",{"data-state-post-id":P,class:"status filtered",tabindex:"-1",children:[e("b",{class:"status-filtered-badge clickable badge-meta",title:b,onClick:q=>{q.preventDefault(),y(!0)},children:[e("span",{children:"Filtered"}),e("span",{children:b})]})," ",e(We,{url:d||u,squircle:f}),e("span",{class:"status-filtered-info",children:[e("span",{class:"status-filtered-info-1",children:[e(yt,{account:t.account,instance:a})," ",e(T,{icon:qt[h],alt:kt[h],size:"s"})," ",v?"boosted":B?e("span",{children:s.statusFollowedTags[D].slice(0,3).map(q=>e("span",{class:"status-followed-tag-item",children:["#",q]},q))}):e(Tt,{datetime:k,format:"micro"})]}),e("span",{class:"status-filtered-info-2",children:[v&&e(j,{children:[e(We,{url:g.account.avatarStatic||g.account.avatar,squircle:f})," "]}),E]})]})]}),!!w&&e(Yt,{class:"light",onClick:q=>{q.target===q.currentTarget&&y(!1)},children:e("div",{id:"filtered-status-peek",class:"sheet",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>y(!1),children:e(T,{icon:"x"})}),e("header",{children:[e("b",{class:"status-filtered-badge",children:"Filtered"})," ",b]}),e("main",{tabIndex:"-1",children:e(ot,{ref:F,class:"status-link",to:I,onClick:()=>{y(!1)},"data-read-more":"Read more →",children:e(Xe,{status:t,instance:a,size:"s",readOnly:!0})})})]})})]})}const ur=At(({id:t,instance:n,level:a=0})=>{if(!t||!n)return;const o=it(M),r=$e(t,n),s=o.statusQuotes[r],c=s==null?void 0:s.filter((u,d,f)=>f.findIndex(p=>p.url===u.url)===d);if(c!=null&&c.length&&!(a>2))return c.map(u=>e(ot,{to:`${u.instance?`/${u.instance}`:""}/s/${u.id}`,class:"status-card-link","data-read-more":"Read more →",children:e(Xe,{statusID:u.id,instance:u.instance,size:"s",quoted:a+1,enableCommentHint:!0})},u.instance+u.id))}),ua=At(Xe,(t,n)=>{const{status:a,...o}=t,{status:r,...s}=n;return(a==null?void 0:a.id)===(r==null?void 0:r.id)&&zo(o,s)});var dr={PHANPY_CLIENT_NAME:"Phanpy",PHANPY_WEBSITE:"https://phanpy.social",PHANPY_LINGVA_INSTANCES:"lingva.phanpy.social lingva.lunar.icu lingva.garudalinux.org translate.plausibility.cloud",PHANPY_PRIVACY_POLICY_URL:"https://mastodon.blaede.family/privacy-policy",VITE_APP_ENV:"production",PHANPY_DEFAULT_INSTANCE:"mastodon.blaede.family",PHANPY_DEFAULT_INSTANCE_REGISTRATION_URL:"https://mastodon.blaede.family/auth/sign_up",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{PHANPY_IMG_ALT_API_URL:da}=dr,mr=Tn.reduce((t,n)=>{const[a,o,r]=n;return t[a]={common:o,native:r},t},{}),ja={"5 minutes":5*60,"30 minutes":30*60,"1 hour":60*60,"6 hours":6*60*60,"12 hours":12*60*60,"1 day":24*60*60,"3 days":3*24*60*60,"7 days":7*24*60*60},hr=Object.values(ja),ma=24*60*60,ha=t=>{if(!t)return ma;const n=(new Date(t).getTime()-Date.now())/1e3;return hr.find(a=>a>=n)||ma},Ke=document.createElement("ul");Ke.role="listbox";Ke.className="text-expander-menu";const pr=16,fr=new IntersectionObserver(t=>{t.forEach(n=>{if(n.isIntersecting){const{left:a,width:o}=n.boundingClientRect,{innerWidth:r}=window;a+o>r&&(Ke.style.left=r-o-pr+"px")}})});fr.observe(Ke);const Ze=Kt([new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],Tn.map(t=>t[0]),"en"),Ha=new RegExp(aa.source,aa.flags),gr=/(^|[^\/\w])@(([a-z0-9_]+)@[a-z0-9\.\-]+[a-z0-9]+)/gi,vr="$2xxxxxxxxxxxxxxxxxxxxxxx";function br(t){return t.replace(Ha,vr).replace(gr,"$1@$3")}const yr=/[a-z0-9_]+([a-z0-9_.-]+[a-z0-9_]+)?/i,_r=new RegExp(`(^|[^=\\/\\w])(@${yr.source}(?:@[\\p{L}\\w.-]+[\\w]+)?)`,"uig"),kr=new RegExp("(^|[^=\\/\\w])(#[a-z0-9_]+([a-z0-9_.-]+[a-z0-9_]+)?)(?![\\/\\w])","ig"),wr="[a-zA-Z0-9_]{2,}",Er=new RegExp(`([^A-Za-z0-9_:\\n]|^)(:${wr}:)(?=[^A-Za-z0-9_:]|$)`,"g");function xr(t,{maxCharacters:n=1/0}){let a=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");const{composerCharacterCount:o}=M;let r="";return o>n?(r='<mark class="compose-highlight-exceeded">'+Wn(a,n)+"</mark>",a=Wn(a,0,n),a+r):a.replace(Ha,'$2<mark class="compose-highlight-url">$3</mark>').replace(_r,'$1<mark class="compose-highlight-mention">$2</mark>').replace(kr,'$1<mark class="compose-highlight-hashtag">$2</mark>').replace(Er,'$1<mark class="compose-highlight-emoji-shortcode">$2</mark>')}function Br({onClose:t,replyToStatus:n,editStatus:a,draftStatus:o,standalone:r,hasOpener:s}){var Ae;const{masto:c,instance:u}=Ge(),[d,f]=X("default"),p=Q((o==null?void 0:o.uid)||Bo()),m=Gt(),h=m.info,g=qo(),{statuses:{maxCharacters:v,maxMediaAttachments:b,charactersReservedPerUrl:k}={},mediaAttachments:{supportedMimeTypes:E=[],imageSizeLimit:w,imageMatrixLimit:y,videoSizeLimit:L,videoMatrixLimit:F,videoFrameRateLimit:D}={},polls:{maxOptions:P,maxCharactersPerOption:C,maxExpiration:I,minExpiration:B}={}}=g||{},N=Q(),q=Q(),[K,fe]=X("public"),[le,ie]=X(!1),[ee,se]=X(z.session.get("currentLanguage")||Ze),me=Q(ee),[A,re]=X([]),[G,xe]=X(null),ue=z.account.get("preferences")||{},Ne=()=>{N.current&&N.current.dispatchEvent(new Event("input"))},Pe=()=>{setTimeout(()=>{var x;(x=N.current)==null||x.focus()},300)};ge(()=>{if(n){const{spoilerText:x,visibility:S,language:O,sensitive:$}=n;x&&q.current&&(q.current.value=x);const V=[...new Set([n.account.acct,...n.mentions.map(U=>U.acct)])].filter(U=>U!==h.acct);V.length>0&&(N.current.value=`${V.map(U=>`@${U}`).join(" ")} `,Ne()),Pe(),fe(S==="public"&&ue["posting:default:visibility"]?ue["posting:default:visibility"]:S),se(O||ue.postingDefaultLanguage||Ze),ie($&&!!x)}else if(a){const{visibility:x,language:S,sensitive:O,poll:$,mediaAttachments:W}=a,V=!!($!=null&&$.options)&&{...$,options:$.options.map(U=>(U==null?void 0:U.title)||U),expiresIn:($==null?void 0:$.expiresIn)||ha($.expiresAt)};f("loading"),(async()=>{try{const U=await c.v1.statuses.$select(a.id).source.fetch(),{text:H,spoilerText:pe}=U;N.current.value=H,N.current.dataset.source=H,Ne(),Pe(),q.current.value=pe,fe(x),se(S||presf.postingDefaultLanguage||Ze),ie(O),xe(V),re(W),f("default")}catch(U){alert((U==null?void 0:U.reason)||U),f("error")}})()}else Pe(),ue["posting:default:visibility"]&&fe(ue["posting:default:visibility"]),ue["posting:default:language"]&&se(ue["posting:default:language"]),ue["posting:default:sensitive"]&&ie(ue["posting:default:sensitive"]);if(o){const{status:x,spoilerText:S,visibility:O,language:$,sensitive:W,poll:V,mediaAttachments:U}=o,H=!!(V!=null&&V.options)&&{...V,options:V.options.map(pe=>(pe==null?void 0:pe.title)||pe),expiresIn:(V==null?void 0:V.expiresIn)||ha(V.expiresAt)};N.current.value=x,Ne(),Pe(),S&&(q.current.value=S),O&&fe(O),se($||ue.postingDefaultLanguage||Ze),W!==null&&ie(W),H&&xe(H),U&&re(U)}},[o,a,n]);const Ie=Q(),Oe="You have unsaved changes. Discard this post?",Ce=()=>{const{value:x,dataset:S}=N.current;if(d==="loading")return!1;const O=A.length>0;if(!x&&!O||A.length>0&&A.every(H=>H.id))return!0;const W=(n==null?void 0:n.account.id)===h.id,V=n&&x.trim()===`@${n.account.acct}`;return!!(!W&&V||x===(S==null?void 0:S.source))},ye=()=>Ce()?!0:confirm(Oe);ge(()=>{const x=S=>{Ce()||(S.preventDefault(),S.returnValue=Oe)};return window.addEventListener("beforeunload",x,{capture:!0}),()=>window.removeEventListener("beforeunload",x,{capture:!0})},[]);const ae=()=>{const{value:x}=N.current,{value:S}=q.current;return Yn(br(x))+Yn(S)},ce=()=>{const x=ae();M.composerCharacterCount=x};ge(ce,[]);const Z=window.CloseWatcher,ne=Q(!1);je("esc",()=>{ne.current=!0},{enabled:!Z,enableOnFormTags:!0}),je("esc",()=>{!r&&ne.current&&ye()&&t(),ne.current=!1},{enabled:!Z,enableOnFormTags:!0,keyup:!0,ignoreEventWhen:x=>{const S=document.querySelectorAll("#modal-container > *"),O=!!S,$=S.length===1&&S[0].querySelector("#compose-container");return O&&!$}}),Pa(()=>{!r&&ye()&&t()},[r,ye,t]);const J=Q({}),Te=()=>`${Ut()}#${p.current}`,he=()=>{if(a)return;const x=Te(),S={key:x,replyTo:n?{id:n.id,account:{id:n.account.id,username:n.account.username,acct:n.account.acct}}:null,draftStatus:{uid:p.current,status:N.current.value,spoilerText:q.current.value,visibility:K,language:ee,sensitive:le,poll:G,mediaAttachments:A}};!ya(S,J.current)&&!Ce()&&(ia.drafts.set(x,{...S,state:"unsaved",updatedAt:Date.now()}).then(()=>{}).catch(O=>{}),J.current=structuredClone(S))};ni(he,5e3),ge(()=>(he(),()=>{ia.drafts.del(Te())}),[]),ge(()=>{const x=O=>{const{items:$}=O.clipboardData||O.dataTransfer,W=[];for(let V=0;V<$.length;V++){const U=$[V];if(U.kind==="file"){const H=U.getAsFile();H&&E.includes(H.type)&&W.push(H)}}if(W.length>0&&A.length>=b){alert(`You can only attach up to ${b} files.`);return}if(W.length>0){O.preventDefault(),O.stopPropagation();const V=b-A.length,U=W.slice(0,V);if(U.length<=0){alert(`You can only attach up to ${b} files.`);return}const H=U.map(pe=>({file:pe,type:pe.type,size:pe.size,url:URL.createObjectURL(pe),id:null,description:null}));re([...A,...H])}};window.addEventListener("paste",x);const S=O=>{O.dataTransfer.items.length>0&&(O.preventDefault(),O.stopPropagation())};return window.addEventListener("dragover",S),window.addEventListener("drop",x),()=>{window.removeEventListener("paste",x),window.removeEventListener("dragover",S),window.removeEventListener("drop",x)}},[A]);const[Le,_e]=X(!1),[De,oe]=Ee(()=>{const x=[],S=[],{contentTranslationHideLanguages:O=[]}=M.settings;return Tn.forEach($=>{const[W]=$;W===ee||W===me.current||W===Ze||O.includes(W)?x.push($):S.push($)}),x.sort(([$,W],[V,U])=>$===ee?-1:V===ee?1:W.localeCompare(U)),S.sort(([$,W],[V,U])=>W.localeCompare(U)),[x,S]},[ee]);return e("div",{id:"compose-container-outer",children:[e("div",{id:"compose-container",class:r?"standalone":"",children:[e("div",{class:"compose-top",children:[(h==null?void 0:h.avatarStatic)&&e(Ii,{account:h,accountInstance:m.instanceURL,hideDisplayName:!0,useAvatarStatic:!0}),r?s&&e("button",{type:"button",class:"light pop-button",disabled:d==="loading",onClick:()=>{if(!window.opener){alert("Looks like you closed the parent window.");return}window.opener.__STATES__.showCompose&&!confirm("Looks like you already have a compose field open in the parent window. Popping in this window will discard the changes you made in the parent window. Continue?")||t({fn:()=>{const x={editStatus:a,replyToStatus:n,draftStatus:{uid:p.current,status:N.current.value,spoilerText:q.current.value,visibility:K,language:ee,sensitive:le,poll:G,mediaAttachments:A}};window.opener.__COMPOSE__=x,window.opener.__STATES__.showCompose=!0}})},children:e(T,{icon:"popin",alt:"Pop in"})}):e("span",{children:[e("button",{type:"button",class:"light pop-button",disabled:d==="loading",onClick:()=>{Sa({editStatus:a,replyToStatus:n,draftStatus:{uid:p.current,status:N.current.value,spoilerText:q.current.value,visibility:K,language:ee,sensitive:le,poll:G,mediaAttachments:A}})&&t()},children:e(T,{icon:"popout",alt:"Pop out"})})," ",e("button",{type:"button",class:"light close-button",disabled:d==="loading",onClick:()=>{ye()&&t()},children:e(T,{icon:"x"})})]})]}),!!n&&e("div",{class:"status-preview",children:[e(ua,{status:n,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend reply-to",children:["Replying to @",n.account.acct||n.account.username,"’s post"]})]}),!!a&&e("div",{class:"status-preview",children:[e(ua,{status:a,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend",children:"Editing source post"})]}),e("form",{ref:Ie,class:`form-visibility-${K}`,style:{pointerEvents:d==="loading"?"none":"auto",opacity:d==="loading"?.5:1},onKeyDown:x=>{x.key==="Enter"&&(x.ctrlKey||x.metaKey)&&Ie.current.dispatchEvent(new Event("submit",{cancelable:!0}))},onSubmit:x=>{x.preventDefault();const S=new FormData(x.target),O=Object.fromEntries(S.entries());let{status:$,visibility:W,sensitive:V,spoilerText:U}=O;if(V=V==="on",G){if(G.options.length<2){alert("Poll must have at least 2 options");return}if(G.options.some(H=>H==="")){alert("Some poll choices are empty");return}}A.length>0&&A.some(pe=>{var ke,ze;return!((ze=(ke=pe.description)==null?void 0:ke.trim)!=null&&ze.call(ke))})&&!confirm("Some media have no descriptions. Continue?")||(U=V&&U||void 0,$=$===""?void 0:$,f("loading"),(async()=>{try{if(A.length>0){const ke=A.map(Se=>{const{file:Je,description:rt,id:Qe}=Se;if(Qe)return Se;{const Ct=fa({file:Je,description:rt});return c.v2.media.create(Ct).then(et=>(et.id&&(Se.id=et.id),et))}}),ze=await Promise.allSettled(ke);if(ze.some(Se=>{var Je;return Se.status==="rejected"||!((Je=Se.value)!=null&&Je.id)})){f("error"),ze.forEach(Se=>{Se.status==="rejected"&&alert(Se.reason||`Attachment #${i} failed`)});return}}let H={status:$,spoiler_text:U,language:ee,sensitive:V,poll:G,media_ids:A.map(ke=>ke.id)};a&&Na("@mastodon/edit-media-attributes")?H.media_attributes=A.map(ke=>({id:ke.id,description:ke.description})):a||(H.visibility=W,H.in_reply_to_id=(n==null?void 0:n.id)||void 0),H=fa(H);let pe;if(a)pe=await c.v1.statuses.$select(a.id).update(H),Me(pe,u,{skipThreading:!0});else try{pe=await c.v1.statuses.create(H,{idempotencyKey:p.current})}catch{pe=await c.v1.statuses.create(H)}f("default"),t({type:a?"edit":n?"reply":"post",newStatus:pe,instance:u})}catch(H){alert((H==null?void 0:H.reason)||H),f("error")}})())},children:[e("div",{class:"toolbar stretch",children:[e("input",{ref:q,type:"text",name:"spoilerText",placeholder:"Content warning",disabled:d==="loading",class:"spoiler-text-field",lang:ee,spellCheck:"true",dir:"auto",style:{opacity:le?1:0,pointerEvents:le?"auto":"none"},onInput:()=>{ce()}}),e("label",{class:`toolbar-button ${le?"highlight":""}`,title:"Content warning or sensitive media",children:[e("input",{name:"sensitive",type:"checkbox",checked:le,disabled:d==="loading",onChange:x=>{var O,$;const S=x.target.checked;ie(S),S?(O=q.current)==null||O.focus():($=N.current)==null||$.focus()}}),e(T,{icon:`eye-${le?"close":"open"}`})]})," ",e("label",{class:`toolbar-button ${K!=="public"&&!le?"show-field":""} ${K!=="public"?"highlight":""}`,title:`Visibility: ${K}`,children:[e(T,{icon:qt[K],alt:K}),e("select",{name:"visibility",value:K,onChange:x=>{fe(x.target.value)},disabled:d==="loading"||!!a,children:[e("option",{value:"public",children:["Public ",e(T,{icon:"earth"})]}),e("option",{value:"unlisted",children:"Unlisted"}),e("option",{value:"private",children:"Followers only"}),e("option",{value:"direct",children:"Private mention"})]})]})," "]}),e(Tr,{ref:N,placeholder:n?"Post your reply":a?"Edit your post":"What are you doing?",required:(A==null?void 0:A.length)===0,disabled:d==="loading",lang:ee,onInput:()=>{ce()},maxCharacters:v,performSearch:x=>{const{type:S,q:O,limit:$}=x;return S==="accounts"?c.v1.accounts.search.list({q:O,limit:$,resolve:!1}):c.v2.search.fetch(x)}}),(A==null?void 0:A.length)>0&&e("div",{class:"media-attachments",children:[A.map((x,S)=>{const{id:O,file:$}=x,W=($==null?void 0:$.size)+($==null?void 0:$.type)+($==null?void 0:$.name);return e(Ar,{attachment:x,disabled:d==="loading",lang:ee,onDescriptionChange:V=>{re(U=>{const H=[...U];return H[S].description=V,H})},onRemove:()=>{re(V=>V.filter((U,H)=>H!==S))}},O||W||S)}),e("label",{class:"media-sensitive",children:[e("input",{name:"sensitive",type:"checkbox",checked:le,disabled:d==="loading",onChange:x=>{const S=x.target.checked;ie(S)}})," ",e("span",{children:"Mark media as sensitive"})," ",e(T,{icon:`eye-${le?"close":"open"}`})]})]}),!!G&&e(Cr,{lang:ee,maxOptions:P,maxExpiration:I,minExpiration:B,maxCharactersPerOption:C,poll:G,disabled:d==="loading",onInput:x=>{if(x){const S={...x};xe(S)}else xe(null)}}),e("div",{class:"toolbar wrap",style:{justifyContent:"flex-end"},children:[e("span",{children:[e("label",{class:"toolbar-button",children:[e("input",{type:"file",accept:E.join(","),multiple:A.length<b-1,disabled:d==="loading"||A.length>=b||!!G,onChange:x=>{const S=x.target.files;if(!S)return;const O=Array.from(S).map($=>({file:$,type:$.type,size:$.size,url:URL.createObjectURL($),id:null,description:null}));A.length+O.length>b?alert(`You can only attach up to ${b} files.`):re($=>$.concat(O)),x.target.value=""}}),e(T,{icon:"attachment"})]})," ",e("button",{type:"button",class:"toolbar-button",disabled:d==="loading"||!!G||!!A.length,onClick:()=>{xe({options:["",""],expiresIn:24*60*60,multiple:!1})},children:e(T,{icon:"poll",alt:"Add poll"})})," ",e("button",{type:"button",class:"toolbar-button",disabled:d==="loading",onClick:()=>{_e(!0)},children:e(T,{icon:"emoji2"})})]}),e("div",{class:"spacer"}),d==="loading"?e(Jt,{abrupt:!0}):e(Lr,{maxCharacters:v,hidden:d==="loading"}),e("label",{class:`toolbar-button ${ee!==me.current?"highlight":""}`,children:[e("span",{class:"icon-text",children:(Ae=mr[ee])==null?void 0:Ae.native}),e("select",{name:"language",value:ee,onChange:x=>{const{value:S}=x.target;se(S||Ze),z.session.set("currentLanguage",S||Ze)},disabled:d==="loading",children:[De.map(([x,S,O])=>e("option",{value:x,children:[S," (",O,")"]},x)),e("hr",{}),oe.map(([x,S,O])=>e("option",{value:x,children:[S," (",O,")"]},x))]})]})," ",e("button",{type:"submit",class:"large",disabled:d==="loading",children:n?"Reply":a?"Update":"Post"})]})]})]}),Le&&e(Yt,{class:"light",onClick:x=>{x.target===x.currentTarget&&_e(!1)},children:e(Fr,{masto:c,instance:u,onClose:()=>{_e(!1)},onSelect:x=>{const S=` ${x} `,O=N.current;if(!O)return;const{selectionStart:$,selectionEnd:W}=O,V=O.value,U=V.slice(0,$)+S+V.slice(W);O.value=U,O.selectionStart=O.selectionEnd=W+S.length,O.focus(),O.dispatchEvent(new Event("input"))}})})]})}function pa(t){if(!t)return;const{value:n,offsetHeight:a,scrollHeight:o,clientHeight:r}=t;if(a<window.innerHeight){const s=a-r,c=n?o+s+"px":null;t.style.height=c}}const Tr=_a((t,n)=>{var v;const{masto:a}=Ge(),[o,r]=X(((v=n.current)==null?void 0:v.value)||""),{maxCharacters:s,performSearch:c=()=>{},...u}=t,d=Q();ge(()=>{(async()=>{try{const b=await a.v1.customEmojis.list();d.current=b}catch{}})()},[]);const f=Q(),p=Q("");ge(()=>{let b,k,E;return f.current&&(b=w=>{const{key:y,provide:L,text:F}=w.detail;if(p.current=F,F===""){L(Promise.resolve({matched:!1}));return}if(y===":"){const P=Sr(d.current,F);let C="";P.forEach(I=>{const{shortcode:B,url:N}=I;C+=`
                <li role="option" data-value="${Ve(B)}">
                <img src="${Ve(N)}" width="16" height="16" alt="" loading="lazy" /> 
                :${Ve(B)}:
              </li>`}),Ke.innerHTML=C,L(Promise.resolve({matched:P.length>0,fragment:Ke}));return}const D={"@":"accounts","#":"hashtags"}[y];L(new Promise(P=>{c({type:D,q:F,limit:5}).then(I=>{if(F!==p.current)return;const B=I[D]||I;let N="";B.forEach(q=>{var re;const{name:K,avatarStatic:fe,displayName:le,username:ie,acct:ee,emojis:se,history:me}=q,A=En(le,se);if(ee)N+=`
                    <li role="option" data-value="${Ve(ee)}">
                      <span class="avatar">
                        <img src="${Ve(fe)}" width="16" height="16" alt="" loading="lazy" />
                      </span>
                      <span>
                        <b>${A||ie}</b>
                        <br>@${Ve(ee)}
                      </span>
                    </li>
                  `;else{const G=(re=me==null?void 0:me.reduce)==null?void 0:re.call(me,(xe,ue)=>xe+ +ue.uses,0);N+=`
                    <li role="option" data-value="${Ve(K)}">
                      <span class="grow">#<b>${Ve(K)}</b></span>
                      ${G?`<span class="count">${qe(G)}</span>`:""}
                    </li>
                  `}Ke.innerHTML=N}),P({matched:B.length>0,fragment:Ke})})}))},f.current.addEventListener("text-expander-change",b),k=w=>{const{key:y,item:L}=w.detail;y===":"?w.detail.value=`:${L.dataset.value}:`:w.detail.value=`${y}${L.dataset.value}`},f.current.addEventListener("text-expander-value",k),E=w=>{const{input:y}=w.detail;if(r(y.value),n.current){const L=new Event("input",{bubbles:!0});n.current.dispatchEvent(L)}},f.current.addEventListener("text-expander-committed",E)),()=>{f.current&&(f.current.removeEventListener("text-expander-change",b),f.current.removeEventListener("text-expander-value",k),f.current.removeEventListener("text-expander-committed",E))}},[]),ge(()=>{const b=n.current;if(!b)return;new ResizeObserver(()=>{if(f.current){const{height:E}=b.getBoundingClientRect();f.current.style.height=E+"px"}}).observe(b)},[]);const m=Q(0),h=Q(),g=ka(b=>{var w;if(!h.current)return;if(m.current>3){h.current.innerHTML="",h.current=null,(w=g==null?void 0:g.cancel)==null||w.call(g);return}let k,E;m.current<=3&&(k=Date.now()),h.current.innerHTML=xr(b,{maxCharacters:s})+`
`,m.current<=3&&(E=Date.now()),k&&E&&E-k>50&&m.current++},500);return e("text-expander",{ref:f,keys:"@ # :",class:"compose-field-container",children:[e("textarea",{class:"compose-field",autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",rows:"6",cols:"50",...u,ref:n,name:"status",value:o,onKeyDown:b=>{const{key:k,target:E}=b;if(k==="Enter"&&!(b.ctrlKey||b.metaKey))try{const{value:w,selectionStart:y}=E,F=w.slice(0,y).split(`
`).slice(-1)[0];if(F&&/^\s*(-|\d+\.)\s/.test(F)){const[D,P,C,I,B]=F.match(/^(\s*)(-|\d+\.)(\s+)(.+)?/)||[];if(B){b.preventDefault();const[N]=C.match(/\d+/)||[],q=N?`${+N+1}.`:"-",K=`
${P}${q}${I}`;E.setRangeText(K,y,y);const fe=y+K.length;E.setSelectionRange(fe,fe)}else{const N=y-F.length;E.setRangeText("",N,y)}pa(E),E.dispatchEvent(new Event("input"))}}catch{}h.current&&(h.current.scrollTop=E.scrollTop)},onInput:b=>{var w;const{target:k}=b,E=k.value;r(E),pa(k),(w=t.onInput)==null||w.call(t,b),g(E)},style:{width:"100%",height:"4em"},onScroll:b=>{if(h.current){const{scrollTop:k}=b.target;h.current.scrollTop=k}}}),e("div",{ref:h,class:"compose-highlight","aria-hidden":"true"})]})});function Lr({maxCharacters:t=500,hidden:n}){const o=it(M).composerCharacterCount,r=t-o;return n?e("meter",{class:"donut",hidden:!0}):e("meter",{class:`donut ${r<=-10?"explode":r<=0?"danger":r<=20?"warning":""}`,value:o,max:t,"data-left":r,title:`${r}/${t}`,style:{"--percentage":o/t*100}})}function Ar({attachment:t,disabled:n,lang:a,onDescriptionChange:o=()=>{},onRemove:r=()=>{}}){const[s,c]=X("default"),u=Na("@mastodon/edit-media-attributes"),{type:d,id:f,file:p}=t,m=Ee(()=>p?URL.createObjectURL(p):t.url,[p,t.url]),[h,g]=X(t.description),[v,b]=d.split("/"),k=Uo(o,250),[E,w]=X(!1),y=Q(null);ge(()=>{let D;return E&&y.current&&(D=setTimeout(()=>{y.current.focus()},100)),()=>{clearTimeout(D)}},[E]);const L=e(j,{children:f&&!u?e("div",{class:"media-desc",children:[e("span",{class:"tag",children:"Uploaded"}),e("p",{title:h,children:t.description||e("i",{children:"No description"})})]}):e("textarea",{ref:y,value:h||"",lang:a,placeholder:{image:"Image description",video:"Video description",audio:"Audio description"}[v],autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",disabled:n||s==="loading",class:s==="loading"?"loading":"",maxlength:"1500",onInput:D=>{const{value:P}=D.target;g(P),k(P)}})}),F=Q(null);return ge(()=>()=>{var D,P;(P=(D=F.current)==null?void 0:D.hideToast)==null||P.call(D)},[]),e(j,{children:[e("div",{class:"media-attachment",children:[e("div",{class:"media-preview",tabIndex:"0",onClick:()=>{w(!0)},children:v==="image"?e("img",{src:m,alt:""}):v==="video"||v==="gifv"?e("video",{src:m,playsinline:!0,muted:!0}):v==="audio"?e("audio",{src:m,controls:!0}):null}),L,e("div",{class:"media-aside",children:e("button",{type:"button",class:"plain close-button",disabled:n,onClick:r,children:e(T,{icon:"x"})})})]}),E&&e(Yt,{class:"light",onClick:D=>{D.target===D.currentTarget&&w(!1)},children:e("div",{id:"media-sheet",class:"sheet sheet-max",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>{w(!1)},children:e(T,{icon:"x"})}),e("header",{children:e("h2",{children:{image:"Edit image description",video:"Edit video description",audio:"Edit audio description"}[v]})}),e("main",{tabIndex:"-1",children:[e("div",{class:"media-preview",children:v==="image"?e("img",{src:m,alt:""}):v==="video"||v==="gifv"?e("video",{src:m,playsinline:!0,controls:!0}):v==="audio"?e("audio",{src:m,controls:!0}):null}),e("div",{class:"media-form",children:[L,e("footer",{children:[v==="image"&&/^(png|jpe?g|gif|webp)$/i.test(b)&&!!M.settings.mediaAltGenerator&&!!da&&e(wn,{portal:{target:document.body},containerProps:{style:{zIndex:1001}},align:"center",position:"anchor",overflow:"auto",menuButton:e("button",{type:"button",title:"More",class:"plain",children:e(T,{icon:"more",size:"l",alt:"More"})}),children:e(we,{disabled:s==="loading",onClick:()=>{c("loading"),F.current=Fe({text:"Generating description. Please wait...",duration:-1}),async function(){var D,P;try{const C=new FormData;C.append("image",p);const I=await fetch(da,{method:"POST",body:C}).then(B=>B.json());if(I.error)throw new Error(I.error);g(I.description)}catch(C){Fe(`Failed to generate description${C!=null&&C.message?`: ${C.message}`:""}`)}finally{c("default"),(P=(D=F.current)==null?void 0:D.hideToast)==null||P.call(D)}}()},children:[e(T,{icon:"sparkles2"}),e("span",{children:"Generate description…"})]})}),e("button",{type:"button",class:"light block",onClick:()=>{w(!1)},disabled:s==="loading",children:"Done"})]})]})]})]})})]})}function Cr({lang:t,poll:n,disabled:a,onInput:o=()=>{},maxOptions:r,maxExpiration:s,minExpiration:c,maxCharactersPerOption:u}){const{options:d,expiresIn:f,multiple:p}=n;return e("div",{class:`poll ${p?"multiple":""}`,children:[e("div",{class:"poll-choices",children:d.map((m,h)=>e("div",{class:"poll-choice",children:[e("input",{required:!0,type:"text",value:m,disabled:a,maxlength:u,placeholder:`Choice ${h+1}`,lang:t,spellCheck:"true",dir:"auto",onInput:g=>{const{value:v}=g.target;d[h]=v,o(n)}}),e("button",{type:"button",class:"plain2 poll-button",disabled:a||d.length<=1,onClick:()=>{d.splice(h,1),o(n)},children:e(T,{icon:"x",size:"s"})})]},h))}),e("div",{class:"poll-toolbar",children:[e("button",{type:"button",class:"plain2 poll-button",disabled:a||d.length>=r,onClick:()=>{d.push(""),o(n)},children:"+"})," ",e("label",{class:"multiple-choices",children:[e("input",{type:"checkbox",checked:p,disabled:a,onChange:m=>{const{checked:h}=m.target;n.multiple=h,o(n)}})," ","Multiple choices"]}),e("label",{class:"expires-in",children:["Duration"," ",e("select",{value:f,disabled:a,onChange:m=>{const{value:h}=m.target;n.expiresIn=h,o(n)},children:Object.entries(ja).filter(([m,h])=>h>=c&&h<=s).map(([m,h])=>e("option",{value:h,children:m},h))})]})]}),e("div",{class:"poll-toolbar",children:e("button",{type:"button",class:"plain remove-poll-button",disabled:a,onClick:()=>{o(null)},children:"Remove poll"})})]})}function Sr(t,n){return n=n.toLowerCase(),t.sort((a,o)=>{let r=a.shortcode.toLowerCase(),s=o.shortcode.toLowerCase(),c=r.startsWith(n),u=s.startsWith(n),d=r.includes(n),f=s.includes(n);return c&&u?a.length-o.length:c?-1:u?1:d&&f?a.length-o.length:d?-1:f?1:0}).slice(0,5)}function Ve(t){return t.replace(/[&<>"']/g,function(n){return"&#"+n.charCodeAt(0)+";"})}function fa(t){for(let n in t)(t[n]===null||t[n]===void 0)&&delete t[n];return t}function Fr({masto:t,instance:n,onClose:a=()=>{},onSelect:o=()=>{}}){const[r,s]=X("default"),c=Q([]),[u,d]=X({}),f=Ee(()=>z.account.get("recentlyUsedCustomEmojis")||[]);return ge(()=>{s("loading"),(async()=>{try{const p=await t.v1.customEmojis.list(),m={"--recent--":f.filter(g=>p.find(v=>v.shortcode===g.shortcode))},h=[];p.forEach(g=>{var v,b;if(g.visibleInPicker){if((b=(v=c.current)==null?void 0:v.push)==null||b.call(v,g),!g.category){h.push(g);return}m[g.category]||(m[g.category]=[]),m[g.category].push(g)}}),h.length&&(m["--others--"]=h),d(m),s("default")}catch{s("error")}})()},[]),e("div",{id:"custom-emojis-sheet",class:"sheet",children:[!!a&&e("button",{type:"button",class:"sheet-close",onClick:a,children:e(T,{icon:"x"})}),e("header",{children:[e("b",{children:"Custom emojis"})," ",r==="loading"?e(Jt,{}):e("small",{class:"insignificant",children:[" • ",n]})]}),e("main",{children:e("div",{class:"custom-emojis-list",children:[r==="error"&&e("div",{class:"ui-state",children:e("p",{children:"Error loading custom emojis"})}),r==="default"&&Object.entries(u).map(([p,m])=>!!(m!=null&&m.length)&&e(j,{children:[e("div",{class:"section-header",children:{"--recent--":"Recently used","--others--":"Others"}[p]||p}),e("section",{children:m.map(h=>e("button",{type:"button",class:"plain4",onClick:()=>{a(),requestAnimationFrame(()=>{o(`:${h.shortcode}:`)});let g=z.account.get("recentlyUsedCustomEmojis")||[];const v=g.findIndex(b=>b.shortcode===h.shortcode);v!==-1?(g.splice(v,1),g.unshift(h)):(g.unshift(h),g=g.filter(b=>{var k,E;return(E=(k=c.current)==null?void 0:k.find)==null?void 0:E.call(k,w=>w.shortcode===b.shortcode)}),g=g.slice(0,10)),z.account.set("recentlyUsedCustomEmojis",g)},title:`:${h.shortcode}:`,children:e("picture",{children:[!!h.staticUrl&&e("source",{srcset:h.staticUrl,media:"(prefers-reduced-motion: reduce)"}),e("img",{class:"shortcode-emoji",src:h.url||h.staticUrl,alt:h.shortcode,width:"16",height:"16",loading:"lazy",decoding:"async"})]})},h))})]}))]})})]})}var Pr={PHANPY_CLIENT_NAME:"Phanpy",PHANPY_WEBSITE:"https://phanpy.social",PHANPY_LINGVA_INSTANCES:"lingva.phanpy.social lingva.lunar.icu lingva.garudalinux.org translate.plausibility.cloud",PHANPY_PRIVACY_POLICY_URL:"https://mastodon.blaede.family/privacy-policy",VITE_APP_ENV:"production",PHANPY_DEFAULT_INSTANCE:"mastodon.blaede.family",PHANPY_DEFAULT_INSTANCE_REGISTRATION_URL:"https://mastodon.blaede.family/auth/sign_up",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{PHANPY_CLIENT_NAME:ga}=Pr;function Ur(t,n){function a(){const{currentLocation:o}=M,r=Array.isArray(n);let s=r?n:[];!r&&/:?\w+\?/.test(n)&&(s.push(n.replace(/(:\w+)\?/g,"$1")),s.push(n.replace(/\/?:\w+\?/g,"")));let c=!1;s.length?c=s.some(u=>Jn(u,o)):n&&(c=Jn(n,o)),c&&(document.title=t?`${t} / ${ga}`:ga)}vn(()=>{const o=ba(M,"currentLocation",a);return a(),o},[t,n])}export{Qo as $,We as A,_t as B,ra as C,Ji as D,xt as E,sa as F,La as G,Br as H,T as I,jt as J,Vo as K,ot as L,Yt as M,yt as N,$e as O,Ba as P,Ln as Q,Tt as R,ua as S,Bi as T,Ra as U,zr as V,Ua as W,Ur as X,pn as Y,En as Z,kn as _,Ge as a,Fa as a0,Ue as a1,Dr as a2,Mr as a3,Or as a4,Nr as a5,Me as b,Fe as c,z as d,wn as e,sn as f,Gt as g,Da as h,Na as i,Ii as j,Ai as k,cn as l,Ma as m,qe as n,Sa as o,Wt as p,Lt as q,Rr as r,M as s,gi as t,ni as u,Jt as v,xn as w,ia as x,Ut as y,Kt as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=useTitle-KvOmFC6V.js.map
